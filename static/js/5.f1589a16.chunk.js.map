{"version":3,"sources":["../../src/errors.ts","../node_modules/walletlink/dist/init/events.js","../node_modules/walletlink/dist/init/WalletLinkAnalyticsAbstract.js","../node_modules/js-sha256/src/sha256.js","../node_modules/walletlink/dist/vendor-js/eth-eip712-util/index.js","../node_modules/walletlink/dist/vendor-js/eth-eip712-util/abi.js","../node_modules/walletlink/dist/provider/FilterPolyfill.js","../node_modules/walletlink/dist/provider/JSONRPC.js","../node_modules/walletlink/dist/provider/SubscriptionManager.js","../node_modules/walletlink/dist/lib/ScopedLocalStorage.js","../node_modules/walletlink/dist/provider/WalletLinkSdkUI.js","../node_modules/walletlink/dist/components/LinkFlow.js","../node_modules/walletlink/dist/components/LinkDialog.js","../node_modules/walletlink/dist/components/LinkDialog-css.js","../node_modules/walletlink/dist/vendor-js/qrcode-svg/index.js","../node_modules/walletlink/dist/components/Spinner-css.js","../node_modules/walletlink/dist/components/TryExtensionLinkDialog.js","../node_modules/walletlink/dist/components/icons/globe-icon-svg.js","../node_modules/walletlink/dist/components/icons/link-icon-svg.js","../node_modules/walletlink/dist/components/icons/lock-icon-svg.js","../node_modules/walletlink/dist/components/icons/QRLogo.js","../node_modules/walletlink/dist/components/TryExtensionLinkDialog-css.js","../node_modules/walletlink/dist/components/Snackbar.js","../node_modules/walletlink/dist/components/Snackbar-css.js","../node_modules/walletlink/dist/lib/cssReset.js","../node_modules/walletlink/dist/lib/cssReset-css.js","../node_modules/walletlink/dist/provider/WalletLinkUI.js","../node_modules/walletlink/dist/relay/WalletLinkRelay.js","../node_modules/bind-decorator/index.js","../node_modules/walletlink/dist/connection/WalletLinkConnection.js","../node_modules/walletlink/dist/connection/ClientMessage.js","../node_modules/walletlink/dist/connection/RxWebSocket.js","../node_modules/walletlink/dist/connection/ServerMessage.js","../node_modules/walletlink/dist/relay/aes256gcm.js","../node_modules/walletlink/dist/relay/Web3RequestCanceledMessage.js","../node_modules/walletlink/dist/relay/Web3RequestMessage.js","../node_modules/walletlink/dist/relay/Web3Response.js","../node_modules/walletlink/dist/relay/Web3ResponseMessage.js","../node_modules/walletlink/dist/relay/WalletLinkRelayEventManager.js","../node_modules/walletlink/dist/index.js","../node_modules/rxjs/node_modules/tslib/tslib.es6.js","../../../src/internal/Subscriber.ts","../../../src/internal/Observable.ts","../../../../src/internal/util/toSubscriber.ts","../../../src/internal/innerSubscribe.ts","../../../src/internal/Subscription.ts","../../../src/internal/Subject.ts","../../../../src/internal/scheduler/async.ts","../../../../src/internal/util/isArray.ts","../../../../src/internal/operators/map.ts","../../../../src/internal/observable/empty.ts","../../../../src/internal/observable/from.ts","../../../../src/internal/util/isScheduler.ts","../../../../src/internal/util/identity.ts","../../../../src/internal/symbol/observable.ts","../../../src/internal/OuterSubscriber.ts","../../../../src/internal/operators/filter.ts","../node_modules/walletlink/dist/util.js","../../src/util.js","../../src/options.js","../../src/create-element.js","../../src/diff/props.js","../../src/component.js","../../src/create-context.js","../../src/constants.js","../../src/diff/children.js","../../src/diff/index.js","../../src/render.js","../../src/clone-element.js","../../src/diff/catch-error.js","../../../src/internal/InnerSubscriber.ts","../../../../src/internal/util/subscribeToResult.ts","../../../src/internal/Notification.ts","../../../../src/internal/util/ArgumentOutOfRangeError.ts","../../../../src/internal/util/EmptyError.ts","../../../../src/internal/operators/mergeMap.ts","../../../../src/internal/scheduler/AnimationFrameAction.ts","../../../../src/internal/scheduler/AnimationFrameScheduler.ts","../../../../src/internal/scheduler/animationFrame.ts","../../../../src/internal/scheduler/VirtualTimeScheduler.ts","../../../../src/internal/util/isObservable.ts","../../../../src/internal/observable/bindCallback.ts","../../../../src/internal/observable/bindNodeCallback.ts","../../../../src/internal/observable/forkJoin.ts","../../../../src/internal/observable/fromEvent.ts","../../../../src/internal/observable/fromEventPattern.ts","../../../../src/internal/observable/generate.ts","../../../../src/internal/observable/iif.ts","../../../../src/internal/observable/interval.ts","../../../../src/internal/observable/never.ts","../../../../src/internal/observable/onErrorResumeNext.ts","../../../../src/internal/observable/pairs.ts","../../../../src/internal/observable/partition.ts","../../../../src/internal/observable/range.ts","../../../../src/internal/observable/using.ts","../../../src/internal/config.ts","../../../../src/internal/util/isFunction.ts","../../../../src/internal/util/ObjectUnsubscribedError.ts","../../../../src/internal/observable/of.ts","../../../../src/internal/observable/fromArray.ts","../../../../src/internal/scheduler/AsyncScheduler.ts","../../../src/internal/AsyncSubject.ts","../../../../src/internal/symbol/iterator.ts","../../../../src/internal/observable/concat.ts","../../../../src/internal/operators/audit.ts","../../../../src/internal/operators/auditTime.ts","../../../../src/internal/operators/buffer.ts","../../../../src/internal/operators/bufferCount.ts","../../../../src/internal/operators/bufferTime.ts","../../../../src/internal/operators/bufferToggle.ts","../../../../src/internal/operators/bufferWhen.ts","../../../../src/internal/operators/catchError.ts","../../../../src/internal/operators/combineAll.ts","../../../../src/internal/operators/combineLatest.ts","../../../../src/internal/operators/concat.ts","../../../../src/internal/operators/concatMap.ts","../../../../src/internal/operators/concatMapTo.ts","../../../../src/internal/operators/count.ts","../../../../src/internal/operators/debounce.ts","../../../../src/internal/operators/debounceTime.ts","../../../../src/internal/operators/defaultIfEmpty.ts","../../../../src/internal/util/isDate.ts","../../../../src/internal/operators/delay.ts","../../../../src/internal/operators/delayWhen.ts","../../../../src/internal/operators/dematerialize.ts","../../../../src/internal/operators/distinct.ts","../../../../src/internal/operators/distinctUntilChanged.ts","../../../../src/internal/operators/distinctUntilKeyChanged.ts","../../../../src/internal/operators/throwIfEmpty.ts","../../../../src/internal/operators/take.ts","../../../../src/internal/operators/elementAt.ts","../../../../src/internal/operators/endWith.ts","../../../../src/internal/operators/every.ts","../../../../src/internal/operators/exhaust.ts","../../../../src/internal/operators/exhaustMap.ts","../../../../src/internal/operators/expand.ts","../../../../src/internal/operators/finalize.ts","../../../../src/internal/operators/find.ts","../../../../src/internal/operators/findIndex.ts","../../../../src/internal/operators/first.ts","../../../../src/internal/operators/ignoreElements.ts","../../../../src/internal/operators/isEmpty.ts","../../../../src/internal/operators/takeLast.ts","../../../../src/internal/operators/last.ts","../../../../src/internal/operators/mapTo.ts","../../../../src/internal/operators/materialize.ts","../../../../src/internal/operators/scan.ts","../../../../src/internal/operators/reduce.ts","../../../../src/internal/operators/max.ts","../../../../src/internal/operators/merge.ts","../../../../src/internal/operators/mergeMapTo.ts","../../../../src/internal/operators/mergeScan.ts","../../../../src/internal/operators/min.ts","../../../../src/internal/operators/multicast.ts","../../../../src/internal/operators/onErrorResumeNext.ts","../../../../src/internal/operators/pairwise.ts","../../../../src/internal/operators/partition.ts","../../../../src/internal/operators/pluck.ts","../../../../src/internal/operators/publish.ts","../../../../src/internal/operators/publishBehavior.ts","../../../../src/internal/operators/publishLast.ts","../../../../src/internal/operators/publishReplay.ts","../../../../src/internal/operators/race.ts","../../../../src/internal/operators/repeat.ts","../../../../src/internal/operators/repeatWhen.ts","../../../../src/internal/operators/retry.ts","../../../../src/internal/operators/retryWhen.ts","../../../../src/internal/operators/sample.ts","../../../../src/internal/operators/sampleTime.ts","../../../../src/internal/operators/sequenceEqual.ts","../../../../src/internal/operators/share.ts","../../../../src/internal/operators/shareReplay.ts","../../../../src/internal/operators/single.ts","../../../../src/internal/operators/skip.ts","../../../../src/internal/operators/skipLast.ts","../../../../src/internal/operators/skipUntil.ts","../../../../src/internal/operators/skipWhile.ts","../../../../src/internal/operators/startWith.ts","../../../../src/internal/observable/SubscribeOnObservable.ts","../../../../src/internal/operators/subscribeOn.ts","../../../../src/internal/operators/switchMap.ts","../../../../src/internal/operators/switchAll.ts","../../../../src/internal/operators/switchMapTo.ts","../../../../src/internal/operators/takeUntil.ts","../../../../src/internal/operators/takeWhile.ts","../../../../src/internal/operators/tap.ts","../../../../src/internal/operators/throttle.ts","../../../../src/internal/operators/throttleTime.ts","../../../../src/internal/operators/timeInterval.ts","../../../../src/internal/operators/timeoutWith.ts","../../../../src/internal/operators/timeout.ts","../../../../src/internal/operators/timestamp.ts","../../../../src/internal/operators/toArray.ts","../../../../src/internal/operators/window.ts","../../../../src/internal/operators/windowCount.ts","../../../../src/internal/operators/windowTime.ts","../../../../src/internal/operators/windowToggle.ts","../../../../src/internal/operators/windowWhen.ts","../../../../src/internal/operators/withLatestFrom.ts","../../../../src/internal/operators/zip.ts","../../../../src/internal/operators/zipAll.ts","../../../../src/internal/scheduler/AsyncAction.ts","../../../../src/internal/scheduler/Action.ts","../../../../src/internal/util/pipe.ts","../../../../src/internal/operators/refCount.ts","../../../../src/internal/operators/groupBy.ts","../../../src/internal/ReplaySubject.ts","../../../../src/internal/observable/throwError.ts","../../../../src/internal/util/noop.ts","../../../../src/internal/observable/combineLatest.ts","../../../../src/internal/operators/mergeAll.ts","../../../../src/internal/observable/defer.ts","../../../../src/internal/util/isNumeric.ts","../../../../src/internal/observable/zip.ts","../../src/index.js","../../../../src/internal/util/Immediate.ts","../../../../src/internal/scheduler/AsapAction.ts","../../../../src/internal/scheduler/AsapScheduler.ts","../../../../src/internal/scheduler/asap.ts","../../../../src/internal/util/subscribeTo.ts","../../../../src/internal/util/subscribeToObservable.ts","../../../../src/internal/util/subscribeToPromise.ts","../../../../src/internal/util/subscribeToIterable.ts","../../../../src/internal/scheduler/QueueAction.ts","../../../../src/internal/scheduler/QueueScheduler.ts","../../../../src/internal/scheduler/queue.ts","../node_modules/walletlink/dist/provider/WalletLinkProvider.js","../../src/index.ts","../../src/classes.ts","../../src/error-constants.ts","../node_modules/walletlink/dist/connection/WalletLinkAnalytics.js","../node_modules/walletlink/dist/init/index.js","../node_modules/walletlink/dist/relay/Session.js","../../../../src/internal/util/hostReportError.ts","../../../../src/internal/symbol/rxSubscriber.ts","../../../../src/internal/util/UnsubscriptionError.ts","../../../../src/internal/util/isObject.ts","../../../../src/internal/util/canReportError.ts","../../../../src/internal/observable/ConnectableObservable.ts","../../../src/internal/BehaviorSubject.ts","../../../../src/internal/operators/observeOn.ts","../../../../src/internal/scheduled/scheduleArray.ts","../../../src/internal/Scheduler.ts","../../../../src/internal/util/TimeoutError.ts","../../../../src/internal/operators/concatAll.ts","../../../../src/internal/observable/merge.ts","../../../../src/internal/observable/race.ts","../../../../src/internal/observable/timer.ts","../node_modules/walletlink/dist/types.js","../node_modules/clsx/dist/clsx.m.js","../node_modules/walletlink/dist/relay/RelayMessage.js","../../../../src/internal/scheduled/scheduled.ts","../../../../src/internal/util/isInteropObservable.ts","../../../../src/internal/scheduled/scheduleObservable.ts","../../../../src/internal/scheduled/schedulePromise.ts","../../../../src/internal/util/isIterable.ts","../../../../src/internal/scheduled/scheduleIterable.ts","../../src/utils.ts","../../../src/internal/Observer.ts","../../../src/internal/SubjectSubscription.ts","../../../../src/internal/util/subscribeToArray.ts","../../../../src/internal/util/isArrayLike.ts","../../../../src/internal/util/isPromise.ts","../../../../src/internal/util/not.ts","../node_modules/walletlink/dist/relay/WalletLinkRelayAbstract.js","../node_modules/walletlink/dist/vendor-js/eth-eip712-util/util.js","../node_modules/walletlink/dist/WalletLink.js","../node_modules/walletlink/dist/components/QRCode.js","../node_modules/walletlink/dist/components/Spinner.js","../node_modules/walletlink/dist/version.js","../node_modules/walletlink/dist/relay/Web3Method.js"],"names":["getEthJsonRpcError","code","arg","parseOpts","message","data","classes_1","utils_1","getEthProviderError","Array","isArray","Error","undefined","exports","rpc","parse","error_constants_1","invalidRequest","invalidParams","methodNotFound","internal","server","opts","Number","isInteger","invalidInput","resourceNotFound","resourceUnavailable","transactionRejected","methodNotSupported","limitExceeded","provider","userRejectedRequest","unauthorized","unsupportedMethod","disconnected","chainDisconnected","custom","Object","defineProperty","value","EVENTS","REQUEST_CHILD_ETHEREUM_ACCOUNTS_START","REQUEST_CHILD_ETHEREUM_ACCOUNTS_RESPONSE","STARTED_CONNECTING","CONNECTED_STATE_CHANGE","DISCONNECTED","METADATA_DESTROYED","LINKED","FAILURE","SESSION_CONFIG_RECEIVED","ETH_ACCOUNTS_STATE","SESSION_STATE_CHANGE","UNLINKED_ERROR_STATE","SKIPPED_CLEARING_SESSION","GENERAL_ERROR","WEB3_REQUEST","WEB3_REQUEST_PUBLISHED","WEB3_RESPONSE","UNKNOWN_ADDRESS_ENCOUNTERED","WalletLinkAnalyticsAbstract","ERROR","WINDOW","window","root","JS_SHA256_NO_WINDOW","WEB_WORKER","self","NODE_JS","JS_SHA256_NO_NODE_JS","process","versions","node","global","COMMON_JS","JS_SHA256_NO_COMMON_JS","module","AMD","define","ARRAY_BUFFER","JS_SHA256_NO_ARRAY_BUFFER","ArrayBuffer","HEX_CHARS","split","EXTRA","SHIFT","K","OUTPUT_TYPES","blocks","obj","prototype","toString","call","JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW","isView","buffer","constructor","createOutputMethod","outputType","is224","Sha256","update","createMethod","method","nodeWrap","create","i","length","type","crypto","eval","Buffer","algorithm","nodeMethod","createHash","digest","Uint8Array","createHmacOutputMethod","key","HmacSha256","createHmacMethod","sharedMemory","this","h0","h1","h2","h3","h4","h5","h6","h7","block","start","bytes","hBytes","finalized","hashed","first","index","charCodeAt","array","oKeyPad","iKeyPad","b","inner","notString","lastByteIndex","hash","finalize","j","s0","s1","maj","t1","ab","da","cd","bc","a","c","d","e","f","g","h","hex","arr","push","arrayBuffer","dataView","DataView","setUint32","innerHash","sha256","sha224","hmac","util","require","abi","TYPED_MESSAGE_SCHEMA","properties","types","additionalProperties","items","name","required","primaryType","domain","TypedDataUtils","encodeData","useV4","encodedTypes","encodedValues","hashType","encodeField","keccak","from","lastIndexOf","parsedType","slice","typeValuePairs","map","item","rawEncode","field","encodeType","result","deps","findTypeDependencies","filter","dep","concat","sort","join","results","match","includes","hashStruct","sanitizeData","sanitizedData","assign","EIP712Domain","typedData","parts","hashForSignTypedDataLegacy","msgParams","error","toBuffer","schema","soliditySHA3","fill","typedSignatureHashLegacy","hashForSignTypedData_v3","hashForSignTypedData_v4","BN","elementaryName","startsWith","parseTypeN","parseInt","exec","parseTypeNxM","tmp","parseTypeArray","parseNumber","isHexString","stripHexPrefix","toArray","encodeSingle","size","num","ret","JSON","unshift","zeros","setLengthRight","bitLength","toArrayLike","toTwos","mul","pow","isDynamic","solidityPack","values","setLength","output","headLength","cur","filterFromParam","FilterPolyfill","types_1","util_1","JSONRPC_TEMPLATE","jsonrpc","id","logFilters","Map","blockFilters","Set","pendingTransactionFilters","cursors","timeouts","nextFilterId","IntNumber","param","makeFilterId","setInitialCursorPosition","fromBlock","cursor","console","log","set","setFilterTimeout","hexStringFromIntNumber","add","filterId","intNumberFromHexString","deleteFilter","has","getLogFilterChanges","getBlockFilterChanges","getPendingTransactionFilterChanges","Promise","resolve","filterNotFoundError","get","sendAsyncPromise","params","paramFromFilter","request","reject","sendAsync","err","response","stringify","delete","cursorPosition","getCurrentBlockHeight","currentBlockHeight","toBlock","emptyResult","blockNumber","highestBlock","Math","max","newCursorPosition","all","range","getBlockHashByNumber","_id","startBlock","initialCursorPosition","existing","clearTimeout","timeout","setTimeout","ensureHexString","intBlockHeightFromHexBlockHeight","addresses","address","topics","hexBlockHeightFromIntBlockHeight","String","JSONRPCMethod","SubscriptionManager","PollingBlockTracker","createSubscriptionManager","noop","blockTracker","pollingInterval","setSkipCacheFlag","events","middleware","subscriptionMiddleware","destroy","ScopedLocalStorage","scope","localStorage","setItem","scopedKey","getItem","removeItem","prefix","keysToRemove","forEach","WalletLinkSdkUI","LinkFlow_1","Snackbar_1","cssReset_1","options","attached","snackbar","Snackbar","darkMode","linkFlow","LinkFlow","version","sessionId","session","sessionSecret","secret","walletLinkUrl","connected$","isParentConnection","el","document","documentElement","container","createElement","className","appendChild","attach","injectCssReset","connectDisabled","setConnectDisabled","open","onCancel","close","_","snackbarProps","isUnlinkedErrorState","autoExpand","menuItems","isRed","info","svgWidth","svgHeight","path","defaultFillRule","defaultClipRule","onClick","onResetConnection","presentItem","location","reload","chainId","WalletLinkUI","preact_1","rxjs_1","operators_1","LinkDialog_1","TryExtensionLinkDialog_1","extensionUI$","BehaviorSubject","subscriptions","Subscription","isConnected","isOpen","fetch","then","res","json","enabled","desktop","extension_ui","next","catch","render","subscribe","v","_a","unsubscribe","parentElement","removeChild","subscription","pipe","TryExtensionLinkDialog","LinkDialog","__importDefault","mod","__esModule","clsx_1","hooks_1","LinkDialog_css_1","QRCode_1","Spinner_1","version_1","props","useState","isContainerHidden","setContainerHidden","isDialogHidden","setDialogHidden","useEffect","timers","class","default","ScanQRCode","CancelButton","serverUrl","encodeURIComponent","sessionIdKey","qrUrl","QRCode","content","width","height","fgColor","bgColor","LIB_VERSION","Spinner","color","title","href","target","rel","QR8bitByte","mode","QRMode","MODE_8BIT_BYTE","parsedData","l","byteArray","apply","QRCodeModel","typeNumber","errorCorrectLevel","modules","moduleCount","dataCache","dataList","getLength","write","put","addData","newData","isDark","row","col","getModuleCount","make","makeImpl","getBestMaskPattern","test","maskPattern","setupPositionProbePattern","setupPositionAdjustPattern","setupTimingPattern","setupTypeInfo","setupTypeNumber","createData","mapData","r","minLostPoint","pattern","lostPoint","QRUtil","getLostPoint","createMovieClip","target_mc","instance_name","depth","qr_mc","createEmptyMovieClip","y","x","beginFill","moveTo","lineTo","endFill","pos","getPatternPosition","bits","getBCHTypeNumber","floor","getBCHTypeInfo","inc","bitIndex","byteIndex","dark","getMask","PAD0","PAD1","rsBlocks","QRRSBlock","getRSBlocks","QRBitBuffer","getLengthInBits","totalDataCount","dataCount","putBit","createBytes","offset","maxDcCount","maxEcCount","dcdata","ecdata","dcCount","ecCount","totalCount","rsPoly","getErrorCorrectPolynomial","modPoly","QRPolynomial","modIndex","totalCodeCount","MODE_NUMBER","MODE_ALPHA_NUM","MODE_KANJI","QRErrorCorrectLevel","L","M","Q","H","QRMaskPattern","PATTERN_POSITION_TABLE","G15","G18","G15_MASK","getBCHDigit","digit","errorCorrectLength","multiply","QRMath","gexp","qrCode","sameCount","count","darkCount","abs","glog","n","LOG_TABLE","EXP_TABLE","shift","ratio","RS_BLOCK_TABLE","rsBlock","getRsBlockTable","list","bufIndex","bit","QRCodeLimitLength","padding","background","ecl","image","svg","encodeURI","replace","_getUTF8Length","limit","len","table","_getTypeNumber","_getErrorCorrectLevel","qrcode","opt","pretty","indent","EOL","xsize","ysize","swap","xmlDeclaration","predefined","defs","bgrect","modrect","pathdata","px","py","t","w","toFixed","imgSvg","imgWidth","imgHeight","imgY","globe_icon_svg_1","link_icon_svg_1","lock_icon_svg_1","QRLogo_1","TryExtensionLinkDialog_css_1","TryExtensionBox","onInstallClick","ScanQRBox","DescriptionItem","icon","text","src","Snackbar_css_1","nextItemKey","itemProps","clear","SnackbarContainer","entries","SnackbarInstance","children","hidden","setHidden","expanded","setExpanded","viewBox","xmlns","cx","cy","action","cssReset_css_1","styleEl","createTextNode","__createBinding","o","m","k","k2","enumerable","__setModuleDefault","__decorate","decorators","desc","arguments","getOwnPropertyDescriptor","Reflect","decorate","__importStar","hasOwnProperty","WalletLinkRelay","bind_decorator_1","eth_rpc_errors_1","WalletLinkAnalytics_1","WalletLinkConnection_1","init_1","aes256gcm","Session_1","WalletLinkRelayAbstract_1","Web3Method_1","Web3RequestCanceledMessage_1","Web3RequestMessage_1","Web3Response_1","Web3ResponseMessage_1","accountsCallback","chainCallback","appName","appLogoUrl","storage","_session","Session","load","save","relayEventManager","walletLinkAnalytics","WalletLinkAnalytics","connection","WalletLinkConnection","incomingEvent$","event","handleIncomingEvent","linked$","skip","tap","linked","isLinked","cachedAddresses","LOCAL_STORAGE_ADDRESSES_KEY","wasConnectedViaStandalone","sessionIdHash","getSessionIdHash","sendEvent","origin","sessionConfig$","metadata","__destroyed","alreadyDestroyed","isDestroyed","resetAndReload","WalletUsername","mergeMap","decrypt","walletUsername","WALLET_USER_NAME_KEY","AppVersion","appVersion","APP_VERSION_KEY","ChainId","JsonRpcUrl","zip","distinctUntilChanged","jsonRpcUrl","EthereumAddress","selectedAddress","accountRequestCallbackIds","Web3ResponseMessage","RequestEthereumAccountsResponse","invokeCallback","ui","walletLinkUIConstructor","connect","setSessionMetadata","catchError","of","_b","_c","sessionMetadataChange","storedSession","storedSessionIdHash","reloadUI","addPrefix","typedDataJson","sendRequest","Web3Method","signEthereumMessage","hexStringFromBuffer","signature","ethereumAddressFromSignedMessage","signEthereumTransaction","fromAddress","toAddress","weiValue","bigIntStringFromBN","nonce","gasPriceInWei","maxFeePerGas","maxPriorityFeePerGas","gasLimit","shouldSubmit","signedTransaction","submitEthereumTransaction","regExp","scanQRCode","generic","hideSnackbarItem","randomBytesHex","cancel","publishWeb3RequestCanceledEvent","handleWeb3ResponseMessage","ErrorResponse","promise","isStandalone","showConnecting","callbacks","errorMessage","sendRequestStandalone","publishWeb3RequestEvent","disabled","Web3RequestMessage","eventId","isSessionMismatched","publishEvent","Web3RequestCanceledMessage","callWebhook","Observable","subscriber","encrypt","encrypted","complete","isWeb3ResponseMessage","isRequestEthereumAccountsResponse","callback","requestEthereumAccounts","hideRequestEthereumAccounts","userAgent","navigator","inlineAccountsResponse","onAccounts","accounts","symbol","decimals","watchAsset","inlineWatchAsset","onApprove","WatchAssetReponse","rpcUrls","iconUrls","blockExplorerUrls","chainName","nativeCurrency","addEthereumChain","inlineAddEthereumChain","AddEthereumChainResponse","isApproved","rpcUrl","switchEthereumChain","inlineSwitchEthereumChain","errorCode","ethErrors","SwitchEthereumChainResponse","_cancel","onSuccess","WalletLinkRelayAbstract","constants","bind","propertyKey","descriptor","typeOfFunction","TypeError","configurable","boolTrue","bound","writable","ClientMessage_1","RxWebSocket_1","ServerMessage_1","HEARTBEAT_INTERVAL","REQUEST_TIMEOUT","sessionKey","WebSocketClass","WebSocket","destroyed","lastHeartbeatResponse","nextReqId","connectedSubject","linkedSubject","sessionConfigSubject","ReplaySubject","ws","RxWebSocket","connectionState$","state","cs","ConnectionState","delay","flatMap","retry","switchMap","iif","CONNECTED","authenticate","sendIsLinked","sendGetSessionConfig","connected","timer","updateLastHeartbeat","heartbeat","incomingData$","incomingJSONData$","msg","onlineGuests","metadata_keys","keys","webhookId","webhookUrl","disconnect","asObservable","take","sme","ClientMessageSetSessionConfig","onceConnected$","makeRequest","isServerMessageFail","ClientMessagePublishEvent","onceLinked$","sendData","Date","now","reqId","throwError","timeoutWith","ClientMessageHostSession","ClientMessageIsLinked","ClientMessageGetSessionConfig","url","webSocket","connectionStateSubject","incomingDataSubject","Subject","obs","CONNECTING","onclose","evt","clearWebSocket","reason","onopen","onmessage","empty","send","onerror","plainText","ivBytes","getRandomValues","subtle","importKey","hexStringToUint8Array","secretKey","enc","TextEncoder","iv","encode","encryptedResult","authTag","byteLength","encryptedPlaintext","authTagBytes","encryptedPlaintextBytes","concatted","uint8ArrayToHex","cipherText","concattedBytes","algo","decrypted","decoder","TextDecoder","decode","RelayMessage_1","RelayMessageType","WEB3_REQUEST_CANCELED","EthereumAddressFromSignedMessageResponse","SubmitEthereumTransactionResponse","SignEthereumTransactionResponse","SignEthereumMessageResponse","addResponse","switchResponse","success","signedData","txHash","WalletLinkRelayEventManager","_nextRequestId","idStr","prepend0x","WalletLink","WalletLinkProvider","WalletLinkProvider_1","WalletLink_1","WalletLinkProvider_2","WalletLink_2","extendStatics","setPrototypeOf","__proto__","p","__extends","__","Subscriber","_super","_this","destination","destinationOrNext","syncErrorThrowable","tslib_1","isStopped","_next","_error","_complete","_parentOrParents","closed","SafeSubscriber","observerOrNext","context","isFunction","emptyObserver","_context","_parentSubscriber","useDeprecatedSynchronousErrorHandling","__tryOrSetError","__tryOrUnsub","syncErrorValue","hostReportError","wrappedComplete","fn","config","parent","syncErrorThrown","lift","operator","observable","source","sink","nextOrObserver","_subscribe","canReportError","promiseCtor","operations","toPromise","getPromiseCtor","SimpleInnerSubscriber","SimpleOuterSubscriber","notifyError","notifyComplete","innerSubscribe","innerSubscriber","_ctorUnsubscribe","errors","_unsubscribe","_subscriptions","parent_1","sub","isObject","UnsubscriptionError","teardown","indexOf","subscriptionIndex","flattenUnsubscriptionErrors","SubjectSubscriber","AnonymousSubject","subject","observers","copy","hasError","thrownError","asyncScheduler","project","MapOperator","MapSubscriber","thisArg","scheduler","input","isScheduler","identity","OuterSubscriber","notifyNext","FilterOperator","predicate","FilterSubscriber","getFavicon","isBigNumber","ensureParsedJSONObject","ensureBN","ensureRegExpString","ensureIntNumber","ensureBuffer","ensureAddressString","ensureEvenLengthHexString","strip0x","has0xPrefix","bn_js_1","INT_STRING_REGEX","HEXADECIMAL_STRING_REGEX","padStart","str","s","toLowerCase","includePrefix","HexString","toNumber","val","EUCLID","hexString","byte","buf","bn","BigIntString","AddressString","isBuffer","RegExp","RegExpString","isBN","stop","querySelector","protocol","host","getAttribute","vnodeId","isValidElement","inEvent","rerenderQueue","prevDebounce","microTick","EMPTY_OBJ","EMPTY_ARR","IS_NON_DIMENSIONAL","removeNode","parentNode","ref","normalizedProps","defaultProps","createVNode","original","vnode","__k","__b","__e","__d","__c","__h","__v","createRef","current","Fragment","setStyle","style","setProperty","dom","oldValue","isSvg","useCapture","cssText","addEventListener","eventProxyCapture","eventProxy","removeEventListener","removeAttribute","setAttribute","Component","getDomSibling","childIndex","sibling","updateParentDomPointers","child","base","defer","cb","enqueueRender","debounceRendering","renderQueueLength","component","commitQueue","oldVNode","oldDom","parentDom","__P","diff","ownerSVGElement","commitRoot","diffChildren","renderResult","newParentVNode","oldParentVNode","globalContext","excessDomChildren","isHydrating","childVNode","newDom","firstChildDom","refs","oldChildren","oldChildrenLength","reorderChildren","placeChild","getLastDom","nextSibling","unmount","applyRef","toChildArray","out","some","nextDom","sibDom","outer","insertBefore","lastDom","newVNode","isNew","oldProps","oldState","snapshot","clearProcessingException","newProps","componentContext","renderHook","newType","contextType","__E","doRender","getDerivedStateFromProps","__s","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","_sb","componentWillUpdate","componentDidUpdate","__r","getChildContext","getSnapshotBeforeUpdate","diffElementNodes","diffed","oldHtml","newHtml","nodeType","localName","createElementNS","is","childNodes","dangerouslySetInnerHTML","attributes","__html","innerHTML","hydrate","diffProps","checked","parentVNode","skipRemove","componentWillUnmount","replaceNode","firstChild","cloneElement","createContext","defaultValue","contextId","Consumer","contextValue","Provider","subs","ctx","_props","old","splice","errorInfo","ctor","handled","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","InnerSubscriber","outerValue","NotificationKind","Notification","kind","observe","observer","ArgumentOutOfRangeErrorImpl","EmptyErrorImpl","concurrent","resultSelector","MergeMapOperator","MergeMapSubscriber","innerSubscription","hasCompleted","AnimationFrameAction","cancelAnimationFrame","AnimationFrameScheduler","active","actions","animationFrameScheduler","VirtualTimeScheduler","SchedulerAction","maxFrames","frame","VirtualAction","schedule","recycleAsyncId","isObservable","bindCallback","callbackFunc","args","AsyncSubject","handler","dispatch","innerArgs","dispatchNext","bindNodeCallback","dispatchError","sources","first_1","pop","forkJoinInternal","completed","_loop_1","hasValue","emitted","fromEvent","setupSubscription","isEventTarget","sourceObj","isJQueryStyleEventEmitter","isNodeStyleEventEmitter","fromEventPattern","retValue","generate","initialState","initialStateOrOptions","condition","iterate","conditionResult","trueResult","period","async","counter","never","remainder","pairs","partition","using","resource","EMPTY","_enable_super_gross_mode_that_will_cause_bad_things","ObjectUnsubscribedErrorImpl","fromArray","AsyncScheduler","Scheduler","work","getSymbolIterator","Symbol","iterator","audit","AuditOperator","AuditSubscriber","durationSelector","duration","throttled","remove","BufferOperator","closingNotifier","BufferSubscriber","startBufferEvery","BufferCountOperator","bufferSize","BufferCountSubscriber","BufferSkipCountSubscriber","buffers","bufferTime","bufferTimeSpan","bufferCreationInterval","maxBufferSize","BufferTimeOperator","Context","BufferTimeSubscriber","closeState","dispatchBufferClose","contexts","context_1","filledBufferContext","onBufferFull","closeAction","timeSpanOnlyState","openContext","dispatchBufferTimeSpanOnly","prevContext","dispatchBufferCreation","bufferToggle","BufferToggleOperator","BufferToggleSubscriber","openings","closingSelector","context_2","closeBuffer","trySubscribe","subscribeToResult","bufferWhen","BufferWhenOperator","BufferWhenSubscriber","subscribing","closingSubscription","CatchOperator","selector","CatchSubscriber","err2","combineAll","observables","concatMap","concatMapTo","CountOperator","CountSubscriber","debounce","DebounceOperator","DebounceSubscriber","emitValue","DebounceTimeOperator","DebounceTimeSubscriber","dueTime","clearDebounce","lastValue","debouncedSubscription","DefaultIfEmptyOperator","DefaultIfEmptySubscriber","isDate","DelayOperator","DelaySubscriber","queue","notification","delay_1","DelayMessage","scheduleNotification","errored","delayWhen","subscriptionDelay","SubscriptionDelayObservable","DelayWhenOperator","DelayWhenSubscriber","removeSubscription","innerSub","delayNotifier","tryComplete","subscriptionIdx","notifierSubscription","SubscriptionDelaySubscriber","sourceSubscribed","dematerialize","DeMaterializeOperator","DeMaterializeSubscriber","distinct","DistinctOperator","DistinctSubscriber","keySelector","flushes","_finalizeNext","DistinctUntilChangedOperator","DistinctUntilChangedSubscriber","compare","distinctUntilKeyChanged","errorFactory","defaultErrorFactory","ThrowIfEmptyOperator","ThrowIfEmptySubscriber","TakeOperator","total","TakeSubscriber","elementAt","defaultIfEmpty","every","EveryOperator","EverySubscriber","exhaust","SwitchFirstOperator","SwitchFirstSubscriber","hasSubscription","exhaustMap","ExhaustMapOperator","ExhaustMapSubscriber","ExpandOperator","ExpandSubscriber","FinallyOperator","FinallySubscriber","find","FindValueOperator","FindValueSubscriber","findIndex","ignoreElements","IgnoreElementsOperator","IgnoreElementsSubscriber","isEmpty","IsEmptyOperator","IsEmptySubscriber","takeLast","TakeLastOperator","TakeLastSubscriber","ring","last","mapTo","MapToOperator","MapToSubscriber","materialize","MaterializeOperator","MaterializeSubscriber","scan","hasSeed","ScanOperator","ScanSubscriber","_seed","reduce","comparer","MergeScanOperator","MergeScanSubscriber","ish","_innerSub","innerValue","min","multicast","subjectFactory","connectable","MulticastOperator","nextSources","OnErrorResumeNextOperator","OnErrorResumeNextSubscriber","subscribeToNextSource","pairwise","PairwiseOperator","PairwiseSubscriber","pair","mapper","currentProp","publish","publishBehavior","publishLast","publishReplay","selectorOrScheduler","windowTime","RepeatOperator","RepeatSubscriber","repeatWhen","notifier","RepeatWhenOperator","RepeatWhenSubscriber","sourceIsBeingSubscribedTo","_unsubscribeAndRecycle","notifications","retriesSubscription","retries","RetryOperator","RetrySubscriber","retryWhen","RetryWhenOperator","RetryWhenSubscriber","sample","SampleOperator","sampleSubscriber","SampleSubscriber","SampleTimeOperator","SampleTimeSubscriber","dispatchNotification","sequenceEqual","SequenceEqualOperator","compareTo","SequenceEqualSubscriber","_oneComplete","comparator","areEqual","nextB","SequenceEqualCompareToSubscriber","shareSubjectFactory","share","shareReplay","configOrBufferSize","refCount","shareReplayOperator","useRefCount","shareReplayOperation","isComplete","single","SingleOperator","SingleSubscriber","seenValue","SkipOperator","SkipSubscriber","skipLast","SkipLastOperator","SkipLastSubscriber","_skipCount","_count","skipCount","currentIndex","skipUntil","SkipUntilOperator","SkipUntilSubscriber","skipWhile","SkipWhileOperator","SkipWhileSubscriber","skipping","SubscribeOnObservable","delayTime","asap","SubscribeOnOperator","SwitchMapOperator","SwitchMapSubscriber","switchAll","switchMapTo","innerObservable","takeUntil","TakeUntilOperator","takeUntilSubscriber","TakeUntilSubscriber","inclusive","TakeWhileOperator","TakeWhileSubscriber","nextOrComplete","DoOperator","TapSubscriber","_tapComplete","_tapError","_tapNext","defaultThrottleConfig","leading","trailing","ThrottleOperator","ThrottleSubscriber","_hasValue","_sendValue","_throttled","_trailing","throttlingDone","ThrottleTimeOperator","ThrottleTimeSubscriber","_trailingValue","_hasTrailingValue","TimeInterval","TimeoutWithOperator","waitFor","TimeoutWithSubscriber","Timestamp","toArrayReducer","WindowOperator","windowSubscriber","WindowSubscriber","sourceSubscription","prevWindow","startWindowEvery","WindowCountOperator","WindowCountSubscriber","windows","windowCreationInterval","maxWindowSize","POSITIVE_INFINITY","WindowTimeOperator","CountedSubject","WindowTimeSubscriber","windowTimeSpan","dispatchWindowClose","window_1","window_2","dispatchWindowTimeSpanOnly","dispatchWindowCreation","windowToggle","WindowToggleOperator","WindowToggleSubscriber","context_3","context_4","windowWhen","closingNotification","WithLatestFromOperator","WithLatestFromSubscriber","toRespond","found","zipAll","AsyncAction","setInterval","clearInterval","_execute","errorValue","Action","pipeFromArray","fns","RefCountOperator","refCounter","RefCountSubscriber","_refCount","sharedConnection","groupBy","GroupByOperator","elementSelector","GroupBySubscriber","_group","groups","element","group","subjectSelector","groupedObservable","removeGroup","GroupDurationSubscriber","GroupedObservable","refCountSubscription","groupSubject","InnerRefCountSubscription","_events","_getNow","_infiniteTimeWindow","SubjectSubscription","_windowTime","spliceCount","eventsCount","ReplayEvent","CombineLatestOperator","CombineLatestSubscriber","NONE","oldVal","isNumeric","ZipOperator","ZipSubscriber","iterators","StaticArrayIterator","StaticIterator","notifyInactive","shouldComplete","done","ZipBufferIterator","currentComponent","previousComponent","prevRaf","currentHook","afterPaintEffects","oldBeforeDiff","oldBeforeRender","oldAfterDiff","oldCommit","oldBeforeUnmount","getHookState","hooks","__H","__V","useReducer","invokeOrReturn","reducer","init","hookState","_reducer","currentValue","__N","nextValue","_hasScuFromHooks","prevScu","stateHooks","shouldUpdate","hookItem","argsChanged","_pendingArgs","useLayoutEffect","useRef","initialValue","useMemo","useImperativeHandle","createHandle","factory","useCallback","useContext","useDebugValue","formatter","useErrorBoundary","errState","useId","__m","mask","flushAfterPaintEffects","invokeCleanup","invokeEffect","requestAnimationFrame","afterNextFrame","hasErrored","HAS_RAF","raf","hook","comp","cleanup","oldArgs","newArgs","nextHandle","RESOLVED","findAndClearHandle","handle","activeHandles","AsapAction","Immediate","AsapScheduler","asapScheduler","subscribeTo","iterable","QueueAction","execute","QueueScheduler","queueScheduler","safe_event_emitter_1","eth_eip712_util_1","FilterPolyfill_1","JSONRPC_1","SubscriptionManager_1","DEFAULT_CHAIN_ID_KEY","DEFAULT_JSON_RPC_URL","HAS_CHAIN_BEEN_SWITCHED_KEY","HAS_CHAIN_OVERRIDDEN_FROM_RELAY","_filterPolyfill","_subscriptionManager","_relay","_addresses","hasMadeFirstChainChangedEmission","_send","_sendAsync","setProviderInfo","updateProviderInfo","getChainId","setAppInfo","enable","_setAddresses","genericRequest","_jsonRpcUrlFromOpts","_overrideIsMetaMask","overrideIsMetaMask","_relayProvider","relayProvider","_storage","_relayEventManager","_walletLinkAnalytics","isCoinbaseWallet","overrideIsCoinbaseWallet","chainIdStr","emit","on","initializeRelay","_chainId","isChainOverridden","fromRelay","originalChainId","relay","addresses_length","eth_requestAccounts","requestOrMethod","callbackOrParams","_sendRequestAsync","_sendRequest","req","arrayCb","_sendMultipleRequestsAsync","responses","newParams","makeRequestId","_handleSynchronousMethods","newAddresses","dispatchEvent","CustomEvent","detail","syncResult","filterPromise","_handleAsynchronousFilterMethods","subscriptionPromise","_handleSubscriptionMethods","_handleAsynchronousMethods","requests","eth_accounts","_eth_accounts","eth_coinbase","_eth_coinbase","eth_uninstallFilter","_eth_uninstallFilter","net_version","_net_version","eth_chainId","_eth_chainId","eth_sign","eth_ecRecover","personal_sign","personal_ecRecover","eth_signTransaction","eth_sendRawTransaction","eth_sendTransaction","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","eth_signTypedData","walletlink_arbitrary","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_watchAsset","_eth_requestAccounts","_eth_sign","_eth_ecRecover","_personal_sign","_personal_ecRecover","_eth_signTransaction","_eth_sendRawTransaction","_eth_sendTransaction","_eth_signTypedData_v1","_throwUnsupportedMethodError","_eth_signTypedData_v3","_eth_signTypedData_v4","_walletlink_arbitrary","_wallet_addEthereumChain","_wallet_switchEthereumChain","_wallet_watchAsset","makeEthereumJSONRPCRequest","eth_newFilter","_eth_newFilter","eth_newBlockFilter","_eth_newBlockFilter","eth_newPendingTransactionFilter","_eth_newPendingTransactionFilter","eth_getFilterChanges","_eth_getFilterChanges","eth_getFilterLogs","_eth_getFilterLogs","eth_subscribe","eth_unsubscribe","handleRequest","addressString","lowercaseAddresses","_isKnownAddress","tx","_ensureKnownAddress","to","alloc","gasPrice","gas","_requireAuthorization","_signEthereumMessage","_ethereumAddressFromSignedMessage","_prepareTransactionParams","signAndSubmitEthereumTransaction","typedDataJSON","trim","chainIdNumber","_d","uninstallFilter","newFilter","newBlockFilter","newPendingTransactionFilter","getFilterChanges","getFilterLogs","setAccountsCallback","setChainCallback","errors_1","EthereumRpcError","serialized","stack","fast_safe_stringify_1","serialize","stringifyReplacer","EthereumProviderError","isValidEthProviderCode","standard","_eventType","_eventProperties","__exportStar","js_sha256_1","STORAGE_KEY_SESSION_ID","STORAGE_KEY_SESSION_SECRET","STORAGE_KEY_SESSION_LINKED","_secret","_key","_linked","persistLinked","newValue","UnsubscriptionErrorImpl","closed_1","ConnectableObservable","getSubject","connectableObservableDescriptor","_subject","_connection","connectableProto","_isComplete","ConnectableSubscriber","ObserveOnOperator","ObserveOnSubscriber","scheduleMessage","createNext","createComplete","scheduleArray","TimeoutErrorImpl","concatAll","RaceOperator","RaceSubscriber","hasFirst","outerIndex","periodOrScheduler","OpaqueType","clsx","scheduled","isInteropObservable","scheduleIterable","Symbol_iterator","FALLBACK_ERROR_CODE","FALLBACK_MESSAGE","FALLBACK_ERROR","getMessageFromCode","fallbackMessage","codeString","hasKey","isJsonRpcServerError","isValidCode","assignOriginalError","fallbackError","shouldIncludeStack","originalError","subscriberIndex","subscribeToArray","isPromise","not","pred","notPred","body","headers","serializeError","createKeccakHash","allocUnsafe","right","intToBuffer","bufferToHex","ScopedLocalStorage_1","WalletLinkSdkUI_1","WalletLinkRelay_1","WalletLinkRelayEventManager_1","WALLETLINK_URL","WALLETLINK_VERSION","_appName","_appLogoUrl","_overrideIsCoinbaseWallet","u","URL","walletLinkOrigin","VERSION","walletLinkExtension","attachUI","isCipher","qrcode_svg_1","setSvg","base64","alt","Spinner_css_1","stroke"],"mappings":"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AG,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,GAAG,EAAE,IAAI,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,GAAG,EAAE,IAAI,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,GAAG,EAAE,IAAI,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,GAAG,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,GAAG,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,GAAG,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,GAAG,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GA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","file":"static/js/5.f1589a16.chunk.js","sourcesContent":[null,"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EVENTS = void 0;\nexports.EVENTS = {\n    REQUEST_CHILD_ETHEREUM_ACCOUNTS_START: \"walletlink_sdk.request_child_ethereum_accounts.start\",\n    REQUEST_CHILD_ETHEREUM_ACCOUNTS_RESPONSE: \"walletlink_sdk.request_child_ethereum_accounts.response\",\n    STARTED_CONNECTING: \"walletlink_sdk.started.connecting\",\n    CONNECTED_STATE_CHANGE: \"walletlink_sdk.connected\",\n    DISCONNECTED: \"walletlink_sdk.disconnected\",\n    METADATA_DESTROYED: \"walletlink_sdk_metadata_destroyed\",\n    LINKED: \"walletlink_sdk.linked\",\n    FAILURE: \"walletlink_sdk.generic_failure\",\n    SESSION_CONFIG_RECEIVED: \"walletlink_sdk.session_config_event_received\",\n    ETH_ACCOUNTS_STATE: \"walletlink_sdk.eth_accounts_state\",\n    SESSION_STATE_CHANGE: \"walletlink_sdk.session_state_change\",\n    UNLINKED_ERROR_STATE: \"walletlink_sdk.unlinked_error_state\",\n    SKIPPED_CLEARING_SESSION: \"walletlink_sdk.skipped_clearing_session\",\n    GENERAL_ERROR: \"walletlink_sdk.general_error\",\n    WEB3_REQUEST: \"walletlink_sdk.web3.request\",\n    WEB3_REQUEST_PUBLISHED: \"walletlink_sdk.web3.request_published\",\n    WEB3_RESPONSE: \"walletlink_sdk.web3.response\",\n    UNKNOWN_ADDRESS_ENCOUNTERED: \"walletlink_sdk.unknown_address_encountered\"\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkAnalyticsAbstract = void 0;\n/**\n * An abstract class used to send events to track metrics / analytics\n */\nclass WalletLinkAnalyticsAbstract {\n}\nexports.WalletLinkAnalyticsAbstract = WalletLinkAnalyticsAbstract;\n","/**\n * [js-sha256]{@link https://github.com/emn178/js-sha256}\n *\n * @version 0.9.0\n * @author Chen, Yi-Cyuan [emn178@gmail.com]\n * @copyright Chen, Yi-Cyuan 2014-2017\n * @license MIT\n */\n/*jslint bitwise: true */\n(function () {\n  'use strict';\n\n  var ERROR = 'input is invalid type';\n  var WINDOW = typeof window === 'object';\n  var root = WINDOW ? window : {};\n  if (root.JS_SHA256_NO_WINDOW) {\n    WINDOW = false;\n  }\n  var WEB_WORKER = !WINDOW && typeof self === 'object';\n  var NODE_JS = !root.JS_SHA256_NO_NODE_JS && typeof process === 'object' && process.versions && process.versions.node;\n  if (NODE_JS) {\n    root = global;\n  } else if (WEB_WORKER) {\n    root = self;\n  }\n  var COMMON_JS = !root.JS_SHA256_NO_COMMON_JS && typeof module === 'object' && module.exports;\n  var AMD = typeof define === 'function' && define.amd;\n  var ARRAY_BUFFER = !root.JS_SHA256_NO_ARRAY_BUFFER && typeof ArrayBuffer !== 'undefined';\n  var HEX_CHARS = '0123456789abcdef'.split('');\n  var EXTRA = [-2147483648, 8388608, 32768, 128];\n  var SHIFT = [24, 16, 8, 0];\n  var K = [\n    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n    0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n    0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n    0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n    0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n    0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n    0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n  ];\n  var OUTPUT_TYPES = ['hex', 'array', 'digest', 'arrayBuffer'];\n\n  var blocks = [];\n\n  if (root.JS_SHA256_NO_NODE_JS || !Array.isArray) {\n    Array.isArray = function (obj) {\n      return Object.prototype.toString.call(obj) === '[object Array]';\n    };\n  }\n\n  if (ARRAY_BUFFER && (root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView)) {\n    ArrayBuffer.isView = function (obj) {\n      return typeof obj === 'object' && obj.buffer && obj.buffer.constructor === ArrayBuffer;\n    };\n  }\n\n  var createOutputMethod = function (outputType, is224) {\n    return function (message) {\n      return new Sha256(is224, true).update(message)[outputType]();\n    };\n  };\n\n  var createMethod = function (is224) {\n    var method = createOutputMethod('hex', is224);\n    if (NODE_JS) {\n      method = nodeWrap(method, is224);\n    }\n    method.create = function () {\n      return new Sha256(is224);\n    };\n    method.update = function (message) {\n      return method.create().update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createOutputMethod(type, is224);\n    }\n    return method;\n  };\n\n  var nodeWrap = function (method, is224) {\n    var crypto = eval(\"require('crypto')\");\n    var Buffer = eval(\"require('buffer').Buffer\");\n    var algorithm = is224 ? 'sha224' : 'sha256';\n    var nodeMethod = function (message) {\n      if (typeof message === 'string') {\n        return crypto.createHash(algorithm).update(message, 'utf8').digest('hex');\n      } else {\n        if (message === null || message === undefined) {\n          throw new Error(ERROR);\n        } else if (message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        }\n      }\n      if (Array.isArray(message) || ArrayBuffer.isView(message) ||\n        message.constructor === Buffer) {\n        return crypto.createHash(algorithm).update(new Buffer(message)).digest('hex');\n      } else {\n        return method(message);\n      }\n    };\n    return nodeMethod;\n  };\n\n  var createHmacOutputMethod = function (outputType, is224) {\n    return function (key, message) {\n      return new HmacSha256(key, is224, true).update(message)[outputType]();\n    };\n  };\n\n  var createHmacMethod = function (is224) {\n    var method = createHmacOutputMethod('hex', is224);\n    method.create = function (key) {\n      return new HmacSha256(key, is224);\n    };\n    method.update = function (key, message) {\n      return method.create(key).update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createHmacOutputMethod(type, is224);\n    }\n    return method;\n  };\n\n  function Sha256(is224, sharedMemory) {\n    if (sharedMemory) {\n      blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n        blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      this.blocks = blocks;\n    } else {\n      this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n    }\n\n    if (is224) {\n      this.h0 = 0xc1059ed8;\n      this.h1 = 0x367cd507;\n      this.h2 = 0x3070dd17;\n      this.h3 = 0xf70e5939;\n      this.h4 = 0xffc00b31;\n      this.h5 = 0x68581511;\n      this.h6 = 0x64f98fa7;\n      this.h7 = 0xbefa4fa4;\n    } else { // 256\n      this.h0 = 0x6a09e667;\n      this.h1 = 0xbb67ae85;\n      this.h2 = 0x3c6ef372;\n      this.h3 = 0xa54ff53a;\n      this.h4 = 0x510e527f;\n      this.h5 = 0x9b05688c;\n      this.h6 = 0x1f83d9ab;\n      this.h7 = 0x5be0cd19;\n    }\n\n    this.block = this.start = this.bytes = this.hBytes = 0;\n    this.finalized = this.hashed = false;\n    this.first = true;\n    this.is224 = is224;\n  }\n\n  Sha256.prototype.update = function (message) {\n    if (this.finalized) {\n      return;\n    }\n    var notString, type = typeof message;\n    if (type !== 'string') {\n      if (type === 'object') {\n        if (message === null) {\n          throw new Error(ERROR);\n        } else if (ARRAY_BUFFER && message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        } else if (!Array.isArray(message)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(message)) {\n            throw new Error(ERROR);\n          }\n        }\n      } else {\n        throw new Error(ERROR);\n      }\n      notString = true;\n    }\n    var code, index = 0, i, length = message.length, blocks = this.blocks;\n\n    while (index < length) {\n      if (this.hashed) {\n        this.hashed = false;\n        blocks[0] = this.block;\n        blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n          blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n          blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n          blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      }\n\n      if (notString) {\n        for (i = this.start; index < length && i < 64; ++index) {\n          blocks[i >> 2] |= message[index] << SHIFT[i++ & 3];\n        }\n      } else {\n        for (i = this.start; index < length && i < 64; ++index) {\n          code = message.charCodeAt(index);\n          if (code < 0x80) {\n            blocks[i >> 2] |= code << SHIFT[i++ & 3];\n          } else if (code < 0x800) {\n            blocks[i >> 2] |= (0xc0 | (code >> 6)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else if (code < 0xd800 || code >= 0xe000) {\n            blocks[i >> 2] |= (0xe0 | (code >> 12)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else {\n            code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));\n            blocks[i >> 2] |= (0xf0 | (code >> 18)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 12) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          }\n        }\n      }\n\n      this.lastByteIndex = i;\n      this.bytes += i - this.start;\n      if (i >= 64) {\n        this.block = blocks[16];\n        this.start = i - 64;\n        this.hash();\n        this.hashed = true;\n      } else {\n        this.start = i;\n      }\n    }\n    if (this.bytes > 4294967295) {\n      this.hBytes += this.bytes / 4294967296 << 0;\n      this.bytes = this.bytes % 4294967296;\n    }\n    return this;\n  };\n\n  Sha256.prototype.finalize = function () {\n    if (this.finalized) {\n      return;\n    }\n    this.finalized = true;\n    var blocks = this.blocks, i = this.lastByteIndex;\n    blocks[16] = this.block;\n    blocks[i >> 2] |= EXTRA[i & 3];\n    this.block = blocks[16];\n    if (i >= 56) {\n      if (!this.hashed) {\n        this.hash();\n      }\n      blocks[0] = this.block;\n      blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n        blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n    }\n    blocks[14] = this.hBytes << 3 | this.bytes >>> 29;\n    blocks[15] = this.bytes << 3;\n    this.hash();\n  };\n\n  Sha256.prototype.hash = function () {\n    var a = this.h0, b = this.h1, c = this.h2, d = this.h3, e = this.h4, f = this.h5, g = this.h6,\n      h = this.h7, blocks = this.blocks, j, s0, s1, maj, t1, t2, ch, ab, da, cd, bc;\n\n    for (j = 16; j < 64; ++j) {\n      // rightrotate\n      t1 = blocks[j - 15];\n      s0 = ((t1 >>> 7) | (t1 << 25)) ^ ((t1 >>> 18) | (t1 << 14)) ^ (t1 >>> 3);\n      t1 = blocks[j - 2];\n      s1 = ((t1 >>> 17) | (t1 << 15)) ^ ((t1 >>> 19) | (t1 << 13)) ^ (t1 >>> 10);\n      blocks[j] = blocks[j - 16] + s0 + blocks[j - 7] + s1 << 0;\n    }\n\n    bc = b & c;\n    for (j = 0; j < 64; j += 4) {\n      if (this.first) {\n        if (this.is224) {\n          ab = 300032;\n          t1 = blocks[0] - 1413257819;\n          h = t1 - 150054599 << 0;\n          d = t1 + 24177077 << 0;\n        } else {\n          ab = 704751109;\n          t1 = blocks[0] - 210244248;\n          h = t1 - 1521486534 << 0;\n          d = t1 + 143694565 << 0;\n        }\n        this.first = false;\n      } else {\n        s0 = ((a >>> 2) | (a << 30)) ^ ((a >>> 13) | (a << 19)) ^ ((a >>> 22) | (a << 10));\n        s1 = ((e >>> 6) | (e << 26)) ^ ((e >>> 11) | (e << 21)) ^ ((e >>> 25) | (e << 7));\n        ab = a & b;\n        maj = ab ^ (a & c) ^ bc;\n        ch = (e & f) ^ (~e & g);\n        t1 = h + s1 + ch + K[j] + blocks[j];\n        t2 = s0 + maj;\n        h = d + t1 << 0;\n        d = t1 + t2 << 0;\n      }\n      s0 = ((d >>> 2) | (d << 30)) ^ ((d >>> 13) | (d << 19)) ^ ((d >>> 22) | (d << 10));\n      s1 = ((h >>> 6) | (h << 26)) ^ ((h >>> 11) | (h << 21)) ^ ((h >>> 25) | (h << 7));\n      da = d & a;\n      maj = da ^ (d & b) ^ ab;\n      ch = (h & e) ^ (~h & f);\n      t1 = g + s1 + ch + K[j + 1] + blocks[j + 1];\n      t2 = s0 + maj;\n      g = c + t1 << 0;\n      c = t1 + t2 << 0;\n      s0 = ((c >>> 2) | (c << 30)) ^ ((c >>> 13) | (c << 19)) ^ ((c >>> 22) | (c << 10));\n      s1 = ((g >>> 6) | (g << 26)) ^ ((g >>> 11) | (g << 21)) ^ ((g >>> 25) | (g << 7));\n      cd = c & d;\n      maj = cd ^ (c & a) ^ da;\n      ch = (g & h) ^ (~g & e);\n      t1 = f + s1 + ch + K[j + 2] + blocks[j + 2];\n      t2 = s0 + maj;\n      f = b + t1 << 0;\n      b = t1 + t2 << 0;\n      s0 = ((b >>> 2) | (b << 30)) ^ ((b >>> 13) | (b << 19)) ^ ((b >>> 22) | (b << 10));\n      s1 = ((f >>> 6) | (f << 26)) ^ ((f >>> 11) | (f << 21)) ^ ((f >>> 25) | (f << 7));\n      bc = b & c;\n      maj = bc ^ (b & d) ^ cd;\n      ch = (f & g) ^ (~f & h);\n      t1 = e + s1 + ch + K[j + 3] + blocks[j + 3];\n      t2 = s0 + maj;\n      e = a + t1 << 0;\n      a = t1 + t2 << 0;\n    }\n\n    this.h0 = this.h0 + a << 0;\n    this.h1 = this.h1 + b << 0;\n    this.h2 = this.h2 + c << 0;\n    this.h3 = this.h3 + d << 0;\n    this.h4 = this.h4 + e << 0;\n    this.h5 = this.h5 + f << 0;\n    this.h6 = this.h6 + g << 0;\n    this.h7 = this.h7 + h << 0;\n  };\n\n  Sha256.prototype.hex = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,\n      h6 = this.h6, h7 = this.h7;\n\n    var hex = HEX_CHARS[(h0 >> 28) & 0x0F] + HEX_CHARS[(h0 >> 24) & 0x0F] +\n      HEX_CHARS[(h0 >> 20) & 0x0F] + HEX_CHARS[(h0 >> 16) & 0x0F] +\n      HEX_CHARS[(h0 >> 12) & 0x0F] + HEX_CHARS[(h0 >> 8) & 0x0F] +\n      HEX_CHARS[(h0 >> 4) & 0x0F] + HEX_CHARS[h0 & 0x0F] +\n      HEX_CHARS[(h1 >> 28) & 0x0F] + HEX_CHARS[(h1 >> 24) & 0x0F] +\n      HEX_CHARS[(h1 >> 20) & 0x0F] + HEX_CHARS[(h1 >> 16) & 0x0F] +\n      HEX_CHARS[(h1 >> 12) & 0x0F] + HEX_CHARS[(h1 >> 8) & 0x0F] +\n      HEX_CHARS[(h1 >> 4) & 0x0F] + HEX_CHARS[h1 & 0x0F] +\n      HEX_CHARS[(h2 >> 28) & 0x0F] + HEX_CHARS[(h2 >> 24) & 0x0F] +\n      HEX_CHARS[(h2 >> 20) & 0x0F] + HEX_CHARS[(h2 >> 16) & 0x0F] +\n      HEX_CHARS[(h2 >> 12) & 0x0F] + HEX_CHARS[(h2 >> 8) & 0x0F] +\n      HEX_CHARS[(h2 >> 4) & 0x0F] + HEX_CHARS[h2 & 0x0F] +\n      HEX_CHARS[(h3 >> 28) & 0x0F] + HEX_CHARS[(h3 >> 24) & 0x0F] +\n      HEX_CHARS[(h3 >> 20) & 0x0F] + HEX_CHARS[(h3 >> 16) & 0x0F] +\n      HEX_CHARS[(h3 >> 12) & 0x0F] + HEX_CHARS[(h3 >> 8) & 0x0F] +\n      HEX_CHARS[(h3 >> 4) & 0x0F] + HEX_CHARS[h3 & 0x0F] +\n      HEX_CHARS[(h4 >> 28) & 0x0F] + HEX_CHARS[(h4 >> 24) & 0x0F] +\n      HEX_CHARS[(h4 >> 20) & 0x0F] + HEX_CHARS[(h4 >> 16) & 0x0F] +\n      HEX_CHARS[(h4 >> 12) & 0x0F] + HEX_CHARS[(h4 >> 8) & 0x0F] +\n      HEX_CHARS[(h4 >> 4) & 0x0F] + HEX_CHARS[h4 & 0x0F] +\n      HEX_CHARS[(h5 >> 28) & 0x0F] + HEX_CHARS[(h5 >> 24) & 0x0F] +\n      HEX_CHARS[(h5 >> 20) & 0x0F] + HEX_CHARS[(h5 >> 16) & 0x0F] +\n      HEX_CHARS[(h5 >> 12) & 0x0F] + HEX_CHARS[(h5 >> 8) & 0x0F] +\n      HEX_CHARS[(h5 >> 4) & 0x0F] + HEX_CHARS[h5 & 0x0F] +\n      HEX_CHARS[(h6 >> 28) & 0x0F] + HEX_CHARS[(h6 >> 24) & 0x0F] +\n      HEX_CHARS[(h6 >> 20) & 0x0F] + HEX_CHARS[(h6 >> 16) & 0x0F] +\n      HEX_CHARS[(h6 >> 12) & 0x0F] + HEX_CHARS[(h6 >> 8) & 0x0F] +\n      HEX_CHARS[(h6 >> 4) & 0x0F] + HEX_CHARS[h6 & 0x0F];\n    if (!this.is224) {\n      hex += HEX_CHARS[(h7 >> 28) & 0x0F] + HEX_CHARS[(h7 >> 24) & 0x0F] +\n        HEX_CHARS[(h7 >> 20) & 0x0F] + HEX_CHARS[(h7 >> 16) & 0x0F] +\n        HEX_CHARS[(h7 >> 12) & 0x0F] + HEX_CHARS[(h7 >> 8) & 0x0F] +\n        HEX_CHARS[(h7 >> 4) & 0x0F] + HEX_CHARS[h7 & 0x0F];\n    }\n    return hex;\n  };\n\n  Sha256.prototype.toString = Sha256.prototype.hex;\n\n  Sha256.prototype.digest = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,\n      h6 = this.h6, h7 = this.h7;\n\n    var arr = [\n      (h0 >> 24) & 0xFF, (h0 >> 16) & 0xFF, (h0 >> 8) & 0xFF, h0 & 0xFF,\n      (h1 >> 24) & 0xFF, (h1 >> 16) & 0xFF, (h1 >> 8) & 0xFF, h1 & 0xFF,\n      (h2 >> 24) & 0xFF, (h2 >> 16) & 0xFF, (h2 >> 8) & 0xFF, h2 & 0xFF,\n      (h3 >> 24) & 0xFF, (h3 >> 16) & 0xFF, (h3 >> 8) & 0xFF, h3 & 0xFF,\n      (h4 >> 24) & 0xFF, (h4 >> 16) & 0xFF, (h4 >> 8) & 0xFF, h4 & 0xFF,\n      (h5 >> 24) & 0xFF, (h5 >> 16) & 0xFF, (h5 >> 8) & 0xFF, h5 & 0xFF,\n      (h6 >> 24) & 0xFF, (h6 >> 16) & 0xFF, (h6 >> 8) & 0xFF, h6 & 0xFF\n    ];\n    if (!this.is224) {\n      arr.push((h7 >> 24) & 0xFF, (h7 >> 16) & 0xFF, (h7 >> 8) & 0xFF, h7 & 0xFF);\n    }\n    return arr;\n  };\n\n  Sha256.prototype.array = Sha256.prototype.digest;\n\n  Sha256.prototype.arrayBuffer = function () {\n    this.finalize();\n\n    var buffer = new ArrayBuffer(this.is224 ? 28 : 32);\n    var dataView = new DataView(buffer);\n    dataView.setUint32(0, this.h0);\n    dataView.setUint32(4, this.h1);\n    dataView.setUint32(8, this.h2);\n    dataView.setUint32(12, this.h3);\n    dataView.setUint32(16, this.h4);\n    dataView.setUint32(20, this.h5);\n    dataView.setUint32(24, this.h6);\n    if (!this.is224) {\n      dataView.setUint32(28, this.h7);\n    }\n    return buffer;\n  };\n\n  function HmacSha256(key, is224, sharedMemory) {\n    var i, type = typeof key;\n    if (type === 'string') {\n      var bytes = [], length = key.length, index = 0, code;\n      for (i = 0; i < length; ++i) {\n        code = key.charCodeAt(i);\n        if (code < 0x80) {\n          bytes[index++] = code;\n        } else if (code < 0x800) {\n          bytes[index++] = (0xc0 | (code >> 6));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else if (code < 0xd800 || code >= 0xe000) {\n          bytes[index++] = (0xe0 | (code >> 12));\n          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else {\n          code = 0x10000 + (((code & 0x3ff) << 10) | (key.charCodeAt(++i) & 0x3ff));\n          bytes[index++] = (0xf0 | (code >> 18));\n          bytes[index++] = (0x80 | ((code >> 12) & 0x3f));\n          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        }\n      }\n      key = bytes;\n    } else {\n      if (type === 'object') {\n        if (key === null) {\n          throw new Error(ERROR);\n        } else if (ARRAY_BUFFER && key.constructor === ArrayBuffer) {\n          key = new Uint8Array(key);\n        } else if (!Array.isArray(key)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(key)) {\n            throw new Error(ERROR);\n          }\n        }\n      } else {\n        throw new Error(ERROR);\n      }\n    }\n\n    if (key.length > 64) {\n      key = (new Sha256(is224, true)).update(key).array();\n    }\n\n    var oKeyPad = [], iKeyPad = [];\n    for (i = 0; i < 64; ++i) {\n      var b = key[i] || 0;\n      oKeyPad[i] = 0x5c ^ b;\n      iKeyPad[i] = 0x36 ^ b;\n    }\n\n    Sha256.call(this, is224, sharedMemory);\n\n    this.update(iKeyPad);\n    this.oKeyPad = oKeyPad;\n    this.inner = true;\n    this.sharedMemory = sharedMemory;\n  }\n  HmacSha256.prototype = new Sha256();\n\n  HmacSha256.prototype.finalize = function () {\n    Sha256.prototype.finalize.call(this);\n    if (this.inner) {\n      this.inner = false;\n      var innerHash = this.array();\n      Sha256.call(this, this.is224, this.sharedMemory);\n      this.update(this.oKeyPad);\n      this.update(innerHash);\n      Sha256.prototype.finalize.call(this);\n    }\n  };\n\n  var exports = createMethod();\n  exports.sha256 = exports;\n  exports.sha224 = createMethod(true);\n  exports.sha256.hmac = createHmacMethod();\n  exports.sha224.hmac = createHmacMethod(true);\n\n  if (COMMON_JS) {\n    module.exports = exports;\n  } else {\n    root.sha256 = exports.sha256;\n    root.sha224 = exports.sha224;\n    if (AMD) {\n      define(function () {\n        return exports;\n      });\n    }\n  }\n})();\n","const util = require('./util')\nconst abi = require('./abi')\n\nconst TYPED_MESSAGE_SCHEMA = {\n  type: 'object',\n  properties: {\n    types: {\n      type: 'object',\n      additionalProperties: {\n        type: 'array',\n        items: {\n          type: 'object',\n          properties: {\n            name: {type: 'string'},\n            type: {type: 'string'},\n          },\n          required: ['name', 'type'],\n        },\n      },\n    },\n    primaryType: {type: 'string'},\n    domain: {type: 'object'},\n    message: {type: 'object'},\n  },\n  required: ['types', 'primaryType', 'domain', 'message'],\n}\n\n/**\n * A collection of utility functions used for signing typed data\n */\nconst TypedDataUtils = {\n  /**\n   * Encodes an object by encoding and concatenating each of its members\n   *\n   * @param {string} primaryType - Root type\n   * @param {Object} data - Object to encode\n   * @param {Object} types - Type definitions\n   * @returns {string} - Encoded representation of an object\n   */\n  encodeData (primaryType, data, types, useV4 = true) {\n    const encodedTypes = ['bytes32']\n    const encodedValues = [this.hashType(primaryType, types)]\n\n    if(useV4) {\n      const encodeField = (name, type, value) => {\n        if (types[type] !== undefined) {\n          return ['bytes32', value == null ?\n            '0x0000000000000000000000000000000000000000000000000000000000000000' :\n            util.keccak(this.encodeData(type, value, types, useV4))]\n        }\n\n        if(value === undefined)\n          throw new Error(`missing value for field ${name} of type ${type}`)\n\n        if (type === 'bytes') {\n          return ['bytes32', util.keccak(value)]\n        }\n\n        if (type === 'string') {\n          // convert string to buffer - prevents ethUtil from interpreting strings like '0xabcd' as hex\n          if (typeof value === 'string') {\n            value = Buffer.from(value, 'utf8')\n          }\n          return ['bytes32', util.keccak(value)]\n        }\n\n        if (type.lastIndexOf(']') === type.length - 1) {\n          const parsedType = type.slice(0, type.lastIndexOf('['))\n          const typeValuePairs = value.map(item =>\n            encodeField(name, parsedType, item))\n          return ['bytes32', util.keccak(abi.rawEncode(\n            typeValuePairs.map(([type]) => type),\n            typeValuePairs.map(([, value]) => value),\n          ))]\n        }\n\n        return [type, value]\n      }\n\n      for (const field of types[primaryType]) {\n        const [type, value] = encodeField(field.name, field.type, data[field.name])\n        encodedTypes.push(type)\n        encodedValues.push(value)\n      }\n    } else {\n      for (const field of types[primaryType]) {\n        let value = data[field.name]\n        if (value !== undefined) {\n          if (field.type === 'bytes') {\n            encodedTypes.push('bytes32')\n            value = util.keccak(value)\n            encodedValues.push(value)\n          } else if (field.type === 'string') {\n            encodedTypes.push('bytes32')\n            // convert string to buffer - prevents ethUtil from interpreting strings like '0xabcd' as hex\n            if (typeof value === 'string') {\n              value = Buffer.from(value, 'utf8')\n            }\n            value = util.keccak(value)\n            encodedValues.push(value)\n          } else if (types[field.type] !== undefined) {\n            encodedTypes.push('bytes32')\n            value = util.keccak(this.encodeData(field.type, value, types, useV4))\n            encodedValues.push(value)\n          } else if (field.type.lastIndexOf(']') === field.type.length - 1) {\n            throw new Error('Arrays currently unimplemented in encodeData')\n          } else {\n            encodedTypes.push(field.type)\n            encodedValues.push(value)\n          }\n        }\n      }\n    }\n\n    return abi.rawEncode(encodedTypes, encodedValues)\n  },\n\n  /**\n   * Encodes the type of an object by encoding a comma delimited list of its members\n   *\n   * @param {string} primaryType - Root type to encode\n   * @param {Object} types - Type definitions\n   * @returns {string} - Encoded representation of the type of an object\n   */\n  encodeType (primaryType, types) {\n    let result = ''\n    let deps = this.findTypeDependencies(primaryType, types).filter(dep => dep !== primaryType)\n    deps = [primaryType].concat(deps.sort())\n    for (const type of deps) {\n      const children = types[type]\n      if (!children) {\n        throw new Error('No type definition specified: ' + type)\n      }\n      result += type + '(' + types[type].map(({ name, type }) => type + ' ' + name).join(',') + ')'\n    }\n    return result\n  },\n\n  /**\n   * Finds all types within a type defintion object\n   *\n   * @param {string} primaryType - Root type\n   * @param {Object} types - Type definitions\n   * @param {Array} results - current set of accumulated types\n   * @returns {Array} - Set of all types found in the type definition\n   */\n  findTypeDependencies (primaryType, types, results = []) {\n    primaryType = primaryType.match(/^\\w*/)[0]\n    if (results.includes(primaryType) || types[primaryType] === undefined) { return results }\n    results.push(primaryType)\n    for (const field of types[primaryType]) {\n      for (const dep of this.findTypeDependencies(field.type, types, results)) {\n        !results.includes(dep) && results.push(dep)\n      }\n    }\n    return results\n  },\n\n  /**\n   * Hashes an object\n   *\n   * @param {string} primaryType - Root type\n   * @param {Object} data - Object to hash\n   * @param {Object} types - Type definitions\n   * @returns {string} - Hash of an object\n   */\n  hashStruct (primaryType, data, types, useV4 = true) {\n    return util.keccak(this.encodeData(primaryType, data, types, useV4))\n  },\n\n  /**\n   * Hashes the type of an object\n   *\n   * @param {string} primaryType - Root type to hash\n   * @param {Object} types - Type definitions\n   * @returns {string} - Hash of an object\n   */\n  hashType (primaryType, types) {\n    return util.keccak(this.encodeType(primaryType, types))\n  },\n\n  /**\n   * Removes properties from a message object that are not defined per EIP-712\n   *\n   * @param {Object} data - typed message object\n   * @returns {Object} - typed message object with only allowed fields\n   */\n  sanitizeData (data) {\n    const sanitizedData = {}\n    for (const key in TYPED_MESSAGE_SCHEMA.properties) {\n      data[key] && (sanitizedData[key] = data[key])\n    }\n    if (sanitizedData.types) {\n      sanitizedData.types = Object.assign({ EIP712Domain: [] }, sanitizedData.types)\n    }\n    return sanitizedData\n  },\n\n  /**\n   * Returns the hash of a typed message as per EIP-712 for signing\n   *\n   * @param {Object} typedData - Types message data to sign\n   * @returns {string} - sha3 hash for signing\n   */\n  hash (typedData, useV4 = true) {\n    const sanitizedData = this.sanitizeData(typedData)\n    const parts = [Buffer.from('1901', 'hex')]\n    parts.push(this.hashStruct('EIP712Domain', sanitizedData.domain, sanitizedData.types, useV4))\n    if (sanitizedData.primaryType !== 'EIP712Domain') {\n      parts.push(this.hashStruct(sanitizedData.primaryType, sanitizedData.message, sanitizedData.types, useV4))\n    }\n    return util.keccak(Buffer.concat(parts))\n  },\n}\n\nmodule.exports = {\n  TYPED_MESSAGE_SCHEMA,\n  TypedDataUtils,\n\n  hashForSignTypedDataLegacy: function (msgParams) {\n    return typedSignatureHashLegacy(msgParams.data)\n  },\n\n  hashForSignTypedData_v3: function (msgParams) {\n    return TypedDataUtils.hash(msgParams.data, false)\n  },\n\n  hashForSignTypedData_v4: function (msgParams) {\n    return TypedDataUtils.hash(msgParams.data)\n  },\n}\n\n/**\n * @param typedData - Array of data along with types, as per EIP712.\n * @returns Buffer\n */\nfunction typedSignatureHashLegacy(typedData) {\n  const error = new Error('Expect argument to be non-empty array')\n  if (typeof typedData !== 'object' || !typedData.length) throw error\n\n  const data = typedData.map(function (e) {\n    return e.type === 'bytes' ? util.toBuffer(e.value) : e.value\n  })\n  const types = typedData.map(function (e) { return e.type })\n  const schema = typedData.map(function (e) {\n    if (!e.name) throw error\n    return e.type + ' ' + e.name\n  })\n\n  return abi.soliditySHA3(\n    ['bytes32', 'bytes32'],\n    [\n      abi.soliditySHA3(new Array(typedData.length).fill('string'), schema),\n      abi.soliditySHA3(types, data)\n    ]\n  )\n}\n","// Extracted from https://github.com/ethereumjs/ethereumjs-abi and stripped out irrelevant code\n// Original code licensed under the MIT License - Copyright (c) 2015 Alex Beregszaszi\n\nconst util = require('./util')\nconst BN = require('bn.js')\n\n// Convert from short to canonical names\n// FIXME: optimise or make this nicer?\nfunction elementaryName (name) {\n  if (name.startsWith('int[')) {\n    return 'int256' + name.slice(3)\n  } else if (name === 'int') {\n    return 'int256'\n  } else if (name.startsWith('uint[')) {\n    return 'uint256' + name.slice(4)\n  } else if (name === 'uint') {\n    return 'uint256'\n  } else if (name.startsWith('fixed[')) {\n    return 'fixed128x128' + name.slice(5)\n  } else if (name === 'fixed') {\n    return 'fixed128x128'\n  } else if (name.startsWith('ufixed[')) {\n    return 'ufixed128x128' + name.slice(6)\n  } else if (name === 'ufixed') {\n    return 'ufixed128x128'\n  }\n  return name\n}\n\n// Parse N from type<N>\nfunction parseTypeN (type) {\n  return parseInt(/^\\D+(\\d+)$/.exec(type)[1], 10)\n}\n\n// Parse N,M from type<N>x<M>\nfunction parseTypeNxM (type) {\n  var tmp = /^\\D+(\\d+)x(\\d+)$/.exec(type)\n  return [ parseInt(tmp[1], 10), parseInt(tmp[2], 10) ]\n}\n\n// Parse N in type[<N>] where \"type\" can itself be an array type.\nfunction parseTypeArray (type) {\n  var tmp = type.match(/(.*)\\[(.*?)\\]$/)\n  if (tmp) {\n    return tmp[2] === '' ? 'dynamic' : parseInt(tmp[2], 10)\n  }\n  return null\n}\n\nfunction parseNumber (arg) {\n  var type = typeof arg\n  if (type === 'string') {\n    if (util.isHexString(arg)) {\n      return new BN(util.stripHexPrefix(arg), 16)\n    } else {\n      return new BN(arg, 10)\n    }\n  } else if (type === 'number') {\n    return new BN(arg)\n  } else if (arg.toArray) {\n    // assume this is a BN for the moment, replace with BN.isBN soon\n    return arg\n  } else {\n    throw new Error('Argument is not a number')\n  }\n}\n\n// Encodes a single item (can be dynamic array)\n// @returns: Buffer\nfunction encodeSingle (type, arg) {\n  var size, num, ret, i\n\n  if (type === 'address') {\n    return encodeSingle('uint160', parseNumber(arg))\n  } else if (type === 'bool') {\n    return encodeSingle('uint8', arg ? 1 : 0)\n  } else if (type === 'string') {\n    return encodeSingle('bytes', new Buffer(arg, 'utf8'))\n  } else if (isArray(type)) {\n    // this part handles fixed-length ([2]) and variable length ([]) arrays\n    // NOTE: we catch here all calls to arrays, that simplifies the rest\n    if (typeof arg.length === 'undefined') {\n      throw new Error('Not an array?')\n    }\n    size = parseTypeArray(type)\n    if (size !== 'dynamic' && size !== 0 && arg.length > size) {\n      throw new Error('Elements exceed array size: ' + size)\n    }\n    ret = []\n    type = type.slice(0, type.lastIndexOf('['))\n    if (typeof arg === 'string') {\n      arg = JSON.parse(arg)\n    }\n    for (i in arg) {\n      ret.push(encodeSingle(type, arg[i]))\n    }\n    if (size === 'dynamic') {\n      var length = encodeSingle('uint256', arg.length)\n      ret.unshift(length)\n    }\n    return Buffer.concat(ret)\n  } else if (type === 'bytes') {\n    arg = new Buffer(arg)\n\n    ret = Buffer.concat([ encodeSingle('uint256', arg.length), arg ])\n\n    if ((arg.length % 32) !== 0) {\n      ret = Buffer.concat([ ret, util.zeros(32 - (arg.length % 32)) ])\n    }\n\n    return ret\n  } else if (type.startsWith('bytes')) {\n    size = parseTypeN(type)\n    if (size < 1 || size > 32) {\n      throw new Error('Invalid bytes<N> width: ' + size)\n    }\n\n    return util.setLengthRight(arg, 32)\n  } else if (type.startsWith('uint')) {\n    size = parseTypeN(type)\n    if ((size % 8) || (size < 8) || (size > 256)) {\n      throw new Error('Invalid uint<N> width: ' + size)\n    }\n\n    num = parseNumber(arg)\n    if (num.bitLength() > size) {\n      throw new Error('Supplied uint exceeds width: ' + size + ' vs ' + num.bitLength())\n    }\n\n    if (num < 0) {\n      throw new Error('Supplied uint is negative')\n    }\n\n    return num.toArrayLike(Buffer, 'be', 32)\n  } else if (type.startsWith('int')) {\n    size = parseTypeN(type)\n    if ((size % 8) || (size < 8) || (size > 256)) {\n      throw new Error('Invalid int<N> width: ' + size)\n    }\n\n    num = parseNumber(arg)\n    if (num.bitLength() > size) {\n      throw new Error('Supplied int exceeds width: ' + size + ' vs ' + num.bitLength())\n    }\n\n    return num.toTwos(256).toArrayLike(Buffer, 'be', 32)\n  } else if (type.startsWith('ufixed')) {\n    size = parseTypeNxM(type)\n\n    num = parseNumber(arg)\n\n    if (num < 0) {\n      throw new Error('Supplied ufixed is negative')\n    }\n\n    return encodeSingle('uint256', num.mul(new BN(2).pow(new BN(size[1]))))\n  } else if (type.startsWith('fixed')) {\n    size = parseTypeNxM(type)\n\n    return encodeSingle('int256', parseNumber(arg).mul(new BN(2).pow(new BN(size[1]))))\n  }\n\n  throw new Error('Unsupported or invalid type: ' + type)\n}\n\n// Is a type dynamic?\nfunction isDynamic (type) {\n  // FIXME: handle all types? I don't think anything is missing now\n  return (type === 'string') || (type === 'bytes') || (parseTypeArray(type) === 'dynamic')\n}\n\n// Is a type an array?\nfunction isArray (type) {\n  return type.lastIndexOf(']') === type.length - 1\n}\n\n// Encode a method/event with arguments\n// @types an array of string type names\n// @args  an array of the appropriate values\nfunction rawEncode (types, values) {\n  var output = []\n  var data = []\n\n  var headLength = 32 * types.length\n\n  for (var i in types) {\n    var type = elementaryName(types[i])\n    var value = values[i]\n    var cur = encodeSingle(type, value)\n\n    // Use the head/tail method for storing dynamic data\n    if (isDynamic(type)) {\n      output.push(encodeSingle('uint256', headLength))\n      data.push(cur)\n      headLength += cur.length\n    } else {\n      output.push(cur)\n    }\n  }\n\n  return Buffer.concat(output.concat(data))\n}\n\nfunction solidityPack (types, values) {\n  if (types.length !== values.length) {\n    throw new Error('Number of types are not matching the values')\n  }\n\n  var size, num\n  var ret = []\n\n  for (var i = 0; i < types.length; i++) {\n    var type = elementaryName(types[i])\n    var value = values[i]\n\n    if (type === 'bytes') {\n      ret.push(value)\n    } else if (type === 'string') {\n      ret.push(new Buffer(value, 'utf8'))\n    } else if (type === 'bool') {\n      ret.push(new Buffer(value ? '01' : '00', 'hex'))\n    } else if (type === 'address') {\n      ret.push(util.setLength(value, 20))\n    } else if (type.startsWith('bytes')) {\n      size = parseTypeN(type)\n      if (size < 1 || size > 32) {\n        throw new Error('Invalid bytes<N> width: ' + size)\n      }\n\n      ret.push(util.setLengthRight(value, size))\n    } else if (type.startsWith('uint')) {\n      size = parseTypeN(type)\n      if ((size % 8) || (size < 8) || (size > 256)) {\n        throw new Error('Invalid uint<N> width: ' + size)\n      }\n\n      num = parseNumber(value)\n      if (num.bitLength() > size) {\n        throw new Error('Supplied uint exceeds width: ' + size + ' vs ' + num.bitLength())\n      }\n\n      ret.push(num.toArrayLike(Buffer, 'be', size / 8))\n    } else if (type.startsWith('int')) {\n      size = parseTypeN(type)\n      if ((size % 8) || (size < 8) || (size > 256)) {\n        throw new Error('Invalid int<N> width: ' + size)\n      }\n\n      num = parseNumber(value)\n      if (num.bitLength() > size) {\n        throw new Error('Supplied int exceeds width: ' + size + ' vs ' + num.bitLength())\n      }\n\n      ret.push(num.toTwos(size).toArrayLike(Buffer, 'be', size / 8))\n    } else {\n      // FIXME: support all other types\n      throw new Error('Unsupported or invalid type: ' + type)\n    }\n  }\n\n  return Buffer.concat(ret)\n}\n\nfunction soliditySHA3 (types, values) {\n  return util.keccak(solidityPack(types, values))\n}\n\nmodule.exports = {\n  rawEncode,\n  solidityPack,\n  soliditySHA3\n}\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.filterFromParam = exports.FilterPolyfill = void 0;\nconst types_1 = require(\"../types\");\nconst util_1 = require(\"../util\");\nconst TIMEOUT = 5 * 60 * 1000; // 5 minutes\nconst JSONRPC_TEMPLATE = {\n    jsonrpc: \"2.0\",\n    id: 0\n};\nclass FilterPolyfill {\n    constructor(provider) {\n        this.logFilters = new Map(); // <id, filter>\n        this.blockFilters = new Set(); // <id>\n        this.pendingTransactionFilters = new Set(); // <id, true>\n        this.cursors = new Map(); // <id, cursor>\n        this.timeouts = new Map(); // <id, setTimeout id>\n        this.nextFilterId = (0, types_1.IntNumber)(1);\n        this.provider = provider;\n    }\n    async newFilter(param) {\n        const filter = filterFromParam(param);\n        const id = this.makeFilterId();\n        const cursor = await this.setInitialCursorPosition(id, filter.fromBlock);\n        console.log(`Installing new log filter(${id}):`, filter, \"initial cursor position:\", cursor);\n        this.logFilters.set(id, filter);\n        this.setFilterTimeout(id);\n        return (0, util_1.hexStringFromIntNumber)(id);\n    }\n    async newBlockFilter() {\n        const id = this.makeFilterId();\n        const cursor = await this.setInitialCursorPosition(id, \"latest\");\n        console.log(`Installing new block filter (${id}) with initial cursor position:`, cursor);\n        this.blockFilters.add(id);\n        this.setFilterTimeout(id);\n        return (0, util_1.hexStringFromIntNumber)(id);\n    }\n    async newPendingTransactionFilter() {\n        const id = this.makeFilterId();\n        const cursor = await this.setInitialCursorPosition(id, \"latest\");\n        console.log(`Installing new block filter (${id}) with initial cursor position:`, cursor);\n        this.pendingTransactionFilters.add(id);\n        this.setFilterTimeout(id);\n        return (0, util_1.hexStringFromIntNumber)(id);\n    }\n    uninstallFilter(filterId) {\n        const id = (0, util_1.intNumberFromHexString)(filterId);\n        console.log(`Uninstalling filter (${id})`);\n        this.deleteFilter(id);\n        return true;\n    }\n    getFilterChanges(filterId) {\n        const id = (0, util_1.intNumberFromHexString)(filterId);\n        if (this.timeouts.has(id)) {\n            // extend timeout\n            this.setFilterTimeout(id);\n        }\n        if (this.logFilters.has(id)) {\n            return this.getLogFilterChanges(id);\n        }\n        else if (this.blockFilters.has(id)) {\n            return this.getBlockFilterChanges(id);\n        }\n        else if (this.pendingTransactionFilters.has(id)) {\n            return this.getPendingTransactionFilterChanges(id);\n        }\n        return Promise.resolve(filterNotFoundError());\n    }\n    async getFilterLogs(filterId) {\n        const id = (0, util_1.intNumberFromHexString)(filterId);\n        const filter = this.logFilters.get(id);\n        if (!filter) {\n            return filterNotFoundError();\n        }\n        return this.sendAsyncPromise(Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { method: \"eth_getLogs\", params: [paramFromFilter(filter)] }));\n    }\n    makeFilterId() {\n        return (0, types_1.IntNumber)(++this.nextFilterId);\n    }\n    sendAsyncPromise(request) {\n        return new Promise((resolve, reject) => {\n            this.provider.sendAsync(request, (err, response) => {\n                if (err) {\n                    return reject(err);\n                }\n                if (Array.isArray(response) || response == null) {\n                    return reject(new Error(`unexpected response received: ${JSON.stringify(response)}`));\n                }\n                resolve(response);\n            });\n        });\n    }\n    deleteFilter(id) {\n        console.log(`Deleting filter (${id})`);\n        this.logFilters.delete(id);\n        this.blockFilters.delete(id);\n        this.pendingTransactionFilters.delete(id);\n        this.cursors.delete(id);\n        this.timeouts.delete(id);\n    }\n    async getLogFilterChanges(id) {\n        const filter = this.logFilters.get(id);\n        const cursorPosition = this.cursors.get(id);\n        if (!cursorPosition || !filter) {\n            return filterNotFoundError();\n        }\n        const currentBlockHeight = await this.getCurrentBlockHeight();\n        const toBlock = filter.toBlock === \"latest\" ? currentBlockHeight : filter.toBlock;\n        if (cursorPosition > currentBlockHeight) {\n            return emptyResult();\n        }\n        if (cursorPosition > filter.toBlock) {\n            return emptyResult();\n        }\n        console.log(`Fetching logs from ${cursorPosition} to ${toBlock} for filter ${id}`);\n        const response = await this.sendAsyncPromise(Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { method: \"eth_getLogs\", params: [\n                paramFromFilter(Object.assign(Object.assign({}, filter), { fromBlock: cursorPosition, toBlock }))\n            ] }));\n        if (Array.isArray(response.result)) {\n            const blocks = response.result.map(log => (0, util_1.intNumberFromHexString)(log.blockNumber || \"0x0\"));\n            const highestBlock = Math.max(...blocks);\n            if (highestBlock && highestBlock > cursorPosition) {\n                const newCursorPosition = (0, types_1.IntNumber)(highestBlock + 1);\n                console.log(`Moving cursor position for filter (${id}) from ${cursorPosition} to ${newCursorPosition}`);\n                this.cursors.set(id, newCursorPosition);\n            }\n        }\n        return response;\n    }\n    async getBlockFilterChanges(id) {\n        const cursorPosition = this.cursors.get(id);\n        if (!cursorPosition) {\n            return filterNotFoundError();\n        }\n        const currentBlockHeight = await this.getCurrentBlockHeight();\n        if (cursorPosition > currentBlockHeight) {\n            return emptyResult();\n        }\n        console.log(`Fetching blocks from ${cursorPosition} to ${currentBlockHeight} for filter (${id})`);\n        const blocks = (await Promise.all(\n        // eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n        (0, util_1.range)(cursorPosition, currentBlockHeight + 1).map(i => this.getBlockHashByNumber((0, types_1.IntNumber)(i))))).filter(hash => !!hash);\n        // eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n        const newCursorPosition = (0, types_1.IntNumber)(cursorPosition + blocks.length);\n        console.log(`Moving cursor position for filter (${id}) from ${cursorPosition} to ${newCursorPosition}`);\n        this.cursors.set(id, newCursorPosition);\n        return Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { result: blocks });\n    }\n    async getPendingTransactionFilterChanges(_id) {\n        // pending transaction filters are not supported\n        return Promise.resolve(emptyResult());\n    }\n    async setInitialCursorPosition(id, startBlock) {\n        const currentBlockHeight = await this.getCurrentBlockHeight();\n        const initialCursorPosition = typeof startBlock === \"number\" && startBlock > currentBlockHeight\n            ? startBlock\n            : currentBlockHeight;\n        this.cursors.set(id, initialCursorPosition);\n        return initialCursorPosition;\n    }\n    setFilterTimeout(id) {\n        const existing = this.timeouts.get(id);\n        if (existing) {\n            window.clearTimeout(existing);\n        }\n        const timeout = window.setTimeout(() => {\n            console.log(`Filter (${id}) timed out`);\n            this.deleteFilter(id);\n        }, TIMEOUT);\n        this.timeouts.set(id, timeout);\n    }\n    async getCurrentBlockHeight() {\n        const { result } = await this.sendAsyncPromise(Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { method: \"eth_blockNumber\", params: [] }));\n        return (0, util_1.intNumberFromHexString)((0, util_1.ensureHexString)(result));\n    }\n    async getBlockHashByNumber(blockNumber) {\n        const response = await this.sendAsyncPromise(Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { method: \"eth_getBlockByNumber\", params: [(0, util_1.hexStringFromIntNumber)(blockNumber), false] }));\n        if (response.result && typeof response.result.hash === \"string\") {\n            return (0, util_1.ensureHexString)(response.result.hash);\n        }\n        return null;\n    }\n}\nexports.FilterPolyfill = FilterPolyfill;\nfunction filterFromParam(param) {\n    return {\n        fromBlock: intBlockHeightFromHexBlockHeight(param.fromBlock),\n        toBlock: intBlockHeightFromHexBlockHeight(param.toBlock),\n        addresses: param.address === undefined\n            ? null\n            : Array.isArray(param.address)\n                ? param.address\n                : [param.address],\n        topics: param.topics || []\n    };\n}\nexports.filterFromParam = filterFromParam;\nfunction paramFromFilter(filter) {\n    const param = {\n        fromBlock: hexBlockHeightFromIntBlockHeight(filter.fromBlock),\n        toBlock: hexBlockHeightFromIntBlockHeight(filter.toBlock),\n        topics: filter.topics\n    };\n    if (filter.addresses !== null) {\n        param.address = filter.addresses;\n    }\n    return param;\n}\nfunction intBlockHeightFromHexBlockHeight(value) {\n    if (value === undefined || value === \"latest\" || value === \"pending\") {\n        return \"latest\";\n    }\n    else if (value === \"earliest\") {\n        return (0, types_1.IntNumber)(0);\n    }\n    else if ((0, util_1.isHexString)(value)) {\n        return (0, util_1.intNumberFromHexString)(value);\n    }\n    throw new Error(`Invalid block option: ${String(value)}`);\n}\nfunction hexBlockHeightFromIntBlockHeight(value) {\n    if (value === \"latest\") {\n        return value;\n    }\n    return (0, util_1.hexStringFromIntNumber)(value);\n}\nfunction filterNotFoundError() {\n    return Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { error: { code: -32000, message: \"filter not found\" } });\n}\nfunction emptyResult() {\n    return Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { result: [] });\n}\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JSONRPCMethod = void 0;\nvar JSONRPCMethod;\n(function (JSONRPCMethod) {\n    // synchronous or asynchronous\n    JSONRPCMethod[\"eth_accounts\"] = \"eth_accounts\";\n    JSONRPCMethod[\"eth_coinbase\"] = \"eth_coinbase\";\n    JSONRPCMethod[\"net_version\"] = \"net_version\";\n    JSONRPCMethod[\"eth_chainId\"] = \"eth_chainId\";\n    JSONRPCMethod[\"eth_uninstallFilter\"] = \"eth_uninstallFilter\";\n    // asynchronous only\n    JSONRPCMethod[\"eth_requestAccounts\"] = \"eth_requestAccounts\";\n    JSONRPCMethod[\"eth_sign\"] = \"eth_sign\";\n    JSONRPCMethod[\"eth_ecRecover\"] = \"eth_ecRecover\";\n    JSONRPCMethod[\"personal_sign\"] = \"personal_sign\";\n    JSONRPCMethod[\"personal_ecRecover\"] = \"personal_ecRecover\";\n    JSONRPCMethod[\"eth_signTransaction\"] = \"eth_signTransaction\";\n    JSONRPCMethod[\"eth_sendRawTransaction\"] = \"eth_sendRawTransaction\";\n    JSONRPCMethod[\"eth_sendTransaction\"] = \"eth_sendTransaction\";\n    JSONRPCMethod[\"eth_signTypedData_v1\"] = \"eth_signTypedData_v1\";\n    JSONRPCMethod[\"eth_signTypedData_v2\"] = \"eth_signTypedData_v2\";\n    JSONRPCMethod[\"eth_signTypedData_v3\"] = \"eth_signTypedData_v3\";\n    JSONRPCMethod[\"eth_signTypedData_v4\"] = \"eth_signTypedData_v4\";\n    JSONRPCMethod[\"eth_signTypedData\"] = \"eth_signTypedData\";\n    JSONRPCMethod[\"walletlink_arbitrary\"] = \"walletlink_arbitrary\";\n    JSONRPCMethod[\"wallet_addEthereumChain\"] = \"wallet_addEthereumChain\";\n    JSONRPCMethod[\"wallet_switchEthereumChain\"] = \"wallet_switchEthereumChain\";\n    JSONRPCMethod[\"wallet_watchAsset\"] = \"wallet_watchAsset\";\n    // asynchronous pub/sub\n    JSONRPCMethod[\"eth_subscribe\"] = \"eth_subscribe\";\n    JSONRPCMethod[\"eth_unsubscribe\"] = \"eth_unsubscribe\";\n    // asynchronous filter methods\n    JSONRPCMethod[\"eth_newFilter\"] = \"eth_newFilter\";\n    JSONRPCMethod[\"eth_newBlockFilter\"] = \"eth_newBlockFilter\";\n    JSONRPCMethod[\"eth_newPendingTransactionFilter\"] = \"eth_newPendingTransactionFilter\";\n    JSONRPCMethod[\"eth_getFilterChanges\"] = \"eth_getFilterChanges\";\n    JSONRPCMethod[\"eth_getFilterLogs\"] = \"eth_getFilterLogs\";\n})(JSONRPCMethod = exports.JSONRPCMethod || (exports.JSONRPCMethod = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SubscriptionManager = void 0;\nconst PollingBlockTracker = require(\"eth-block-tracker\");\nconst createSubscriptionManager = require(\"eth-json-rpc-filters/subscriptionManager\");\nconst noop = () => { };\nclass SubscriptionManager {\n    constructor(provider) {\n        const blockTracker = new PollingBlockTracker({\n            provider,\n            pollingInterval: 15 * 1000,\n            setSkipCacheFlag: true\n        });\n        const { events, middleware } = createSubscriptionManager({\n            blockTracker,\n            provider\n        });\n        this.events = events;\n        this.subscriptionMiddleware = middleware;\n    }\n    async handleRequest(request) {\n        const result = {};\n        await this.subscriptionMiddleware(request, result, noop, noop);\n        return result;\n    }\n    destroy() {\n        this.subscriptionMiddleware.destroy();\n    }\n}\nexports.SubscriptionManager = SubscriptionManager;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ScopedLocalStorage = void 0;\nclass ScopedLocalStorage {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    setItem(key, value) {\n        localStorage.setItem(this.scopedKey(key), value);\n    }\n    getItem(key) {\n        return localStorage.getItem(this.scopedKey(key));\n    }\n    removeItem(key) {\n        localStorage.removeItem(this.scopedKey(key));\n    }\n    clear() {\n        const prefix = this.scopedKey(\"\");\n        const keysToRemove = [];\n        for (let i = 0; i < localStorage.length; i++) {\n            const key = localStorage.key(i);\n            if (typeof key === \"string\" && key.startsWith(prefix)) {\n                keysToRemove.push(key);\n            }\n        }\n        keysToRemove.forEach(key => localStorage.removeItem(key));\n    }\n    scopedKey(key) {\n        return `${this.scope}:${key}`;\n    }\n}\nexports.ScopedLocalStorage = ScopedLocalStorage;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkSdkUI = void 0;\nconst LinkFlow_1 = require(\"../components/LinkFlow\");\nconst Snackbar_1 = require(\"../components/Snackbar\");\nconst cssReset_1 = require(\"../lib/cssReset\");\nconst WalletLinkUI_1 = require(\"./WalletLinkUI\");\nclass WalletLinkSdkUI extends WalletLinkUI_1.WalletLinkUI {\n    constructor(options) {\n        super(options);\n        this.attached = false;\n        this.snackbar = new Snackbar_1.Snackbar({\n            darkMode: options.darkMode\n        });\n        this.linkFlow = new LinkFlow_1.LinkFlow({\n            darkMode: options.darkMode,\n            version: options.version,\n            sessionId: options.session.id,\n            sessionSecret: options.session.secret,\n            walletLinkUrl: options.walletLinkUrl,\n            connected$: options.connected$,\n            isParentConnection: false\n        });\n    }\n    attach() {\n        if (this.attached) {\n            throw new Error(\"WalletLinkUI is already attached\");\n        }\n        const el = document.documentElement;\n        const container = document.createElement(\"div\");\n        container.className = \"-walletlink-css-reset\";\n        el.appendChild(container);\n        this.linkFlow.attach(container);\n        this.snackbar.attach(container);\n        this.attached = true;\n        (0, cssReset_1.injectCssReset)();\n    }\n    setConnectDisabled(connectDisabled) {\n        this.linkFlow.setConnectDisabled(connectDisabled);\n    }\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    addEthereumChain(options) {\n        // no-op\n    }\n    // @ts-ignore\n    watchAsset(options) {\n        // no-op\n    }\n    // @ts-ignore\n    switchEthereumChain(options) {\n        // no-op\n    }\n    requestEthereumAccounts(options) {\n        this.linkFlow.open({ onCancel: options.onCancel });\n    }\n    hideRequestEthereumAccounts() {\n        this.linkFlow.close();\n    }\n    signEthereumMessage(_) {\n        // No-op\n    }\n    signEthereumTransaction(_) {\n        // No-op\n    }\n    submitEthereumTransaction(_) {\n        // No-op\n    }\n    ethereumAddressFromSignedMessage(_) {\n        // No-op\n    }\n    showConnecting(options) {\n        let snackbarProps;\n        if (options.isUnlinkedErrorState) {\n            snackbarProps = {\n                autoExpand: true,\n                message: \"Connection lost\",\n                menuItems: [\n                    {\n                        isRed: false,\n                        info: \"Reset connection\",\n                        svgWidth: \"10\",\n                        svgHeight: \"11\",\n                        path: \"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z\",\n                        defaultFillRule: \"evenodd\",\n                        defaultClipRule: \"evenodd\",\n                        onClick: options.onResetConnection\n                    }\n                ]\n            };\n        }\n        else {\n            snackbarProps = {\n                message: \"Confirm on phone\",\n                menuItems: [\n                    {\n                        isRed: true,\n                        info: \"Cancel transaction\",\n                        svgWidth: \"11\",\n                        svgHeight: \"11\",\n                        path: \"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z\",\n                        defaultFillRule: \"inherit\",\n                        defaultClipRule: \"inherit\",\n                        onClick: options.onCancel\n                    },\n                    {\n                        isRed: false,\n                        info: \"Reset connection\",\n                        svgWidth: \"10\",\n                        svgHeight: \"11\",\n                        path: \"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z\",\n                        defaultFillRule: \"evenodd\",\n                        defaultClipRule: \"evenodd\",\n                        onClick: options.onResetConnection\n                    }\n                ]\n            };\n        }\n        return this.snackbar.presentItem(snackbarProps);\n    }\n    reloadUI() {\n        document.location.reload();\n    }\n    inlineAccountsResponse() {\n        return false;\n    }\n    // @ts-ignore\n    inlineAddEthereumChain(chainId) {\n        return false;\n    }\n    inlineWatchAsset() {\n        return false;\n    }\n    inlineSwitchEthereumChain() {\n        return false;\n    }\n    isStandalone() {\n        return false;\n    }\n}\nexports.WalletLinkSdkUI = WalletLinkSdkUI;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkFlow = void 0;\nconst preact_1 = require(\"preact\");\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nconst LinkDialog_1 = require(\"./LinkDialog\");\nconst TryExtensionLinkDialog_1 = require(\"./TryExtensionLinkDialog\");\nclass LinkFlow {\n    constructor(options) {\n        this.extensionUI$ = new rxjs_1.BehaviorSubject({});\n        this.subscriptions = new rxjs_1.Subscription();\n        this.isConnected = false;\n        this.isOpen = false;\n        this.onCancel = null;\n        this.root = null;\n        // if true, hide QR code in LinkFlow (which happens if no jsonRpcUrl is provided)\n        this.connectDisabled = false;\n        this.darkMode = options.darkMode;\n        this.version = options.version;\n        this.sessionId = options.sessionId;\n        this.sessionSecret = options.sessionSecret;\n        this.walletLinkUrl = options.walletLinkUrl;\n        this.isParentConnection = options.isParentConnection;\n        this.connected$ = options.connected$;\n        // Check if extension UI is enabled\n        fetch(\"https://api.wallet.coinbase.com/rpc/v2/getFeatureFlags\")\n            .then(res => res.json())\n            .then(json => {\n            const enabled = json.result.desktop.extension_ui;\n            if (typeof enabled === \"undefined\") {\n                this.extensionUI$.next({ value: false });\n            }\n            else {\n                this.extensionUI$.next({ value: enabled });\n            }\n        })\n            .catch(err => {\n            console.error('Couldn\\'t fetch feature flags - ', err);\n            this.extensionUI$.next({ value: false });\n        });\n    }\n    attach(el) {\n        this.root = document.createElement(\"div\");\n        this.root.className = \"-walletlink-link-flow-root\";\n        el.appendChild(this.root);\n        this.render();\n        this.subscriptions.add(this.connected$.subscribe(v => {\n            if (this.isConnected !== v) {\n                this.isConnected = v;\n                this.render();\n            }\n        }));\n    }\n    detach() {\n        var _a;\n        if (!this.root) {\n            return;\n        }\n        this.subscriptions.unsubscribe();\n        (0, preact_1.render)(null, this.root);\n        (_a = this.root.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(this.root);\n    }\n    setConnectDisabled(connectDisabled) {\n        this.connectDisabled = connectDisabled;\n    }\n    open(options) {\n        this.isOpen = true;\n        this.onCancel = options.onCancel;\n        this.render();\n    }\n    close() {\n        this.isOpen = false;\n        this.onCancel = null;\n        this.render();\n    }\n    render() {\n        if (!this.root) {\n            return;\n        }\n        const subscription = this.extensionUI$\n            .pipe((0, operators_1.first)(enabled => enabled.value !== undefined)) // wait for a valid value before rendering\n            .subscribe(enabled => {\n            if (!this.root) {\n                return;\n            }\n            (0, preact_1.render)(enabled.value ? ((0, preact_1.h)(TryExtensionLinkDialog_1.TryExtensionLinkDialog, { darkMode: this.darkMode, version: this.version, sessionId: this.sessionId, sessionSecret: this.sessionSecret, walletLinkUrl: this.walletLinkUrl, isOpen: this.isOpen, isConnected: this.isConnected, isParentConnection: this.isParentConnection, onCancel: this.onCancel, connectDisabled: this.connectDisabled })) : ((0, preact_1.h)(LinkDialog_1.LinkDialog, { darkMode: this.darkMode, version: this.version, sessionId: this.sessionId, sessionSecret: this.sessionSecret, walletLinkUrl: this.walletLinkUrl, isOpen: this.isOpen, isConnected: this.isConnected, isParentConnection: this.isParentConnection, onCancel: this.onCancel })), this.root);\n        });\n        this.subscriptions.add(subscription);\n    }\n}\nexports.LinkFlow = LinkFlow;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkDialog = void 0;\nconst clsx_1 = __importDefault(require(\"clsx\"));\nconst preact_1 = require(\"preact\");\nconst hooks_1 = require(\"preact/hooks\");\nconst LinkDialog_css_1 = __importDefault(require(\"./LinkDialog-css\"));\nconst QRCode_1 = require(\"./QRCode\");\nconst Spinner_1 = require(\"./Spinner\");\nconst version_1 = require(\"../version\");\nconst LinkDialog = props => {\n    const [isContainerHidden, setContainerHidden] = (0, hooks_1.useState)(!props.isOpen);\n    const [isDialogHidden, setDialogHidden] = (0, hooks_1.useState)(!props.isOpen);\n    (0, hooks_1.useEffect)(() => {\n        const { isOpen } = props;\n        const timers = [\n            window.setTimeout(() => {\n                setDialogHidden(!isOpen);\n            }, 10)\n        ];\n        if (isOpen) {\n            setContainerHidden(false);\n        }\n        else {\n            timers.push(window.setTimeout(() => {\n                setContainerHidden(true);\n            }, 360));\n        }\n        return () => {\n            timers.forEach(window.clearTimeout);\n        };\n    }, [props.isOpen]);\n    return ((0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-link-dialog-container\", props.darkMode && \"-walletlink-link-dialog-container-dark\", isContainerHidden && \"-walletlink-link-dialog-container-hidden\") },\n        (0, preact_1.h)(\"style\", null, LinkDialog_css_1.default),\n        (0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-link-dialog-backdrop\", isDialogHidden && \"-walletlink-link-dialog-backdrop-hidden\") }),\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-link-dialog\" },\n            (0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-link-dialog-box\", isDialogHidden && \"-walletlink-link-dialog-box-hidden\") },\n                (0, preact_1.h)(ScanQRCode, { darkMode: props.darkMode, version: props.version, sessionId: props.sessionId, sessionSecret: props.sessionSecret, walletLinkUrl: props.walletLinkUrl, isConnected: props.isConnected, isParentConnection: props.isParentConnection }),\n                props.onCancel && (0, preact_1.h)(CancelButton, { onClick: props.onCancel })))));\n};\nexports.LinkDialog = LinkDialog;\nconst ScanQRCode = props => {\n    const serverUrl = window.encodeURIComponent(props.walletLinkUrl);\n    const sessionIdKey = props.isParentConnection ? \"parent-id\" : \"id\";\n    const qrUrl = `${props.walletLinkUrl}/#/link?${sessionIdKey}=${props.sessionId}&secret=${props.sessionSecret}&server=${serverUrl}&v=1`;\n    return ((0, preact_1.h)(\"div\", { class: \"-walletlink-link-dialog-box-content\" },\n        (0, preact_1.h)(\"h3\", null,\n            \"Scan to\",\n            (0, preact_1.h)(\"br\", null),\n            \" Connect\"),\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-link-dialog-box-content-qrcode\" },\n            (0, preact_1.h)(\"div\", { class: \"-walletlink-link-dialog-box-content-qrcode-wrapper\" },\n                (0, preact_1.h)(QRCode_1.QRCode, { content: qrUrl, width: 224, height: 224, fgColor: \"#000\", bgColor: \"transparent\" })),\n            (0, preact_1.h)(\"input\", { type: \"hidden\", name: \"walletlink-version\", value: version_1.LIB_VERSION }),\n            (0, preact_1.h)(\"input\", { type: \"hidden\", value: qrUrl }),\n            !props.isConnected && ((0, preact_1.h)(\"div\", { class: \"-walletlink-link-dialog-box-content-qrcode-connecting\" },\n                (0, preact_1.h)(Spinner_1.Spinner, { size: 128, color: props.darkMode ? \"#fff\" : \"#000\" }),\n                (0, preact_1.h)(\"p\", null, \"Connecting...\"))),\n            (0, preact_1.h)(\"p\", { title: `WalletLink v${props.version}` }, \"Powered by WalletLink\")),\n        (0, preact_1.h)(\"a\", { href: `${props.walletLinkUrl}/#/wallets`, target: \"_blank\", rel: \"noopener\" }, \"Don\\u2019t have a wallet app?\")));\n};\nconst CancelButton = props => ((0, preact_1.h)(\"button\", { class: \"-walletlink-link-dialog-box-cancel\", onClick: props.onClick },\n    (0, preact_1.h)(\"div\", { class: \"-walletlink-link-dialog-box-cancel-x\" })));\n","\"use strict\";\n// Copyright (c) 2018-2021 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2021 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `.-walletlink-css-reset .-walletlink-link-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-walletlink-css-reset .-walletlink-link-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.33);transition:opacity .25s}.-walletlink-css-reset .-walletlink-link-dialog-backdrop-hidden{opacity:0}.-walletlink-css-reset .-walletlink-link-dialog-box{display:flex;position:relative;flex-direction:column;background-color:#f6f6f6;border-radius:16px;box-shadow:0px 16px 24px rgba(0,0,0,.1),0px 0px 8px rgba(0,0,0,.05);transform:scale(1);transition:opacity .25s,transform .25s;overflow:hidden}.-walletlink-css-reset .-walletlink-link-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-walletlink-css-reset .-walletlink-link-dialog-box-content{padding:24px;text-align:center}.-walletlink-css-reset .-walletlink-link-dialog-box-content h3{display:block;margin-bottom:24px;text-align:left;text-transform:uppercase;font-size:22px;font-weight:bold;line-height:1.2;color:#000}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode{position:relative;display:block;margin-bottom:24px;background-color:#f6f6f6;padding:16px;border-radius:16px;box-shadow:4px 4px 8px rgba(0,0,0,.15),-8px -8px 8px #fff;overflow:hidden}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-wrapper{display:block;width:232px;height:232px;padding:4px;border-radius:4px;background:#f4f4f4;margin-bottom:16px}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-wrapper img{display:block;width:224px;height:224px}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode>p{display:block;color:gray;font-weight:bold;font-size:12px;text-align:center}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-connecting{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:rgba(246,246,246,.98)}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-connecting p{margin-top:16px;color:#333;font-size:12px;font-weight:bold}.-walletlink-css-reset .-walletlink-link-dialog-box-content a{text-align:center;cursor:pointer;transition:color .1s;font-size:14px}.-walletlink-css-reset .-walletlink-link-dialog-box-content a,.-walletlink-css-reset .-walletlink-link-dialog-box-content a:link,.-walletlink-css-reset .-walletlink-link-dialog-box-content a:visited{color:#999}.-walletlink-css-reset .-walletlink-link-dialog-box-content a:hover,.-walletlink-css-reset .-walletlink-link-dialog-box-content a:active{color:#666;text-decoration:underline}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:24px;right:24px;width:24px;height:24px;border-radius:12px;background-color:#e7e7e7;cursor:pointer}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x{position:relative;display:block}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::after{content:\"\";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:2px;background-color:#999;transition:background-color .2s}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::before{transform:rotate(45deg)}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::after{transform:rotate(135deg)}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-a,.-walletlink-css-reset .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-b{background-color:#000}.-walletlink-css-reset .-walletlink-link-dialog-container{display:block}.-walletlink-css-reset .-walletlink-link-dialog-container-hidden{display:none}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box{background-color:#2a2a2a}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content h3{color:#ccc}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode{background-color:#2a2a2a;box-shadow:4px 4px 8px rgba(0,0,0,.5),-8px -8px 8px #343434}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode>p{color:#999}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode-connecting{background:rgba(42,42,42,.98)}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode-connecting p{color:#ddd}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:link,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:visited{color:#888}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:hover,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:active{color:#aaa}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel{background-color:#333}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel-x::after{background-color:#aaa}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x::after{background-color:#eee}`;\n","/**\n * @fileoverview\n * - modified davidshimjs/qrcodejs library for use in node.js\n * - Using the 'QRCode for Javascript library'\n * - Fixed dataset of 'QRCode for Javascript library' for support full-spec.\n * - this library has no dependencies.\n *\n * @version 0.9.1 (2016-02-12)\n * @author davidshimjs, papnkukn\n * @see <a href=\"http://www.d-project.com/\" target=\"_blank\">http://www.d-project.com/</a>\n * @see <a href=\"http://jeromeetienne.github.com/jquery-qrcode/\" target=\"_blank\">http://jeromeetienne.github.com/jquery-qrcode/</a>\n * @see <a href=\"https://github.com/davidshimjs/qrcodejs\" target=\"_blank\">https://github.com/davidshimjs/qrcodejs</a>\n */\n\n//---------------------------------------------------------------------\n// QRCode for JavaScript\n//\n// Copyright (c) 2009 Kazuhiko Arase\n//\n// URL: http://www.d-project.com/\n//\n// Licensed under the MIT license:\n//   http://www.opensource.org/licenses/mit-license.php\n//\n// The word \"QR Code\" is registered trademark of\n// DENSO WAVE INCORPORATED\n//   http://www.denso-wave.com/qrcode/faqpatent-e.html\n//\n//---------------------------------------------------------------------\nfunction QR8bitByte(data) {\n  this.mode = QRMode.MODE_8BIT_BYTE;\n  this.data = data;\n  this.parsedData = [];\n\n  // Added to support UTF-8 Characters\n  for (var i = 0, l = this.data.length; i < l; i++) {\n    var byteArray = [];\n    var code = this.data.charCodeAt(i);\n\n    if (code > 0x10000) {\n      byteArray[0] = 0xF0 | ((code & 0x1C0000) >>> 18);\n      byteArray[1] = 0x80 | ((code & 0x3F000) >>> 12);\n      byteArray[2] = 0x80 | ((code & 0xFC0) >>> 6);\n      byteArray[3] = 0x80 | (code & 0x3F);\n    } else if (code > 0x800) {\n      byteArray[0] = 0xE0 | ((code & 0xF000) >>> 12);\n      byteArray[1] = 0x80 | ((code & 0xFC0) >>> 6);\n      byteArray[2] = 0x80 | (code & 0x3F);\n    } else if (code > 0x80) {\n      byteArray[0] = 0xC0 | ((code & 0x7C0) >>> 6);\n      byteArray[1] = 0x80 | (code & 0x3F);\n    } else {\n      byteArray[0] = code;\n    }\n\n    this.parsedData.push(byteArray);\n  }\n\n  this.parsedData = Array.prototype.concat.apply([], this.parsedData);\n\n  if (this.parsedData.length != this.data.length) {\n    this.parsedData.unshift(191);\n    this.parsedData.unshift(187);\n    this.parsedData.unshift(239);\n  }\n}\n\nQR8bitByte.prototype = {\n  getLength: function (buffer) {\n    return this.parsedData.length;\n  },\n  write: function (buffer) {\n    for (var i = 0, l = this.parsedData.length; i < l; i++) {\n      buffer.put(this.parsedData[i], 8);\n    }\n  }\n};\n\nfunction QRCodeModel(typeNumber, errorCorrectLevel) {\n  this.typeNumber = typeNumber;\n  this.errorCorrectLevel = errorCorrectLevel;\n  this.modules = null;\n  this.moduleCount = 0;\n  this.dataCache = null;\n  this.dataList = [];\n}\n\nQRCodeModel.prototype={addData:function(data){var newData=new QR8bitByte(data);this.dataList.push(newData);this.dataCache=null;},isDark:function(row,col){if(row<0||this.moduleCount<=row||col<0||this.moduleCount<=col){throw new Error(row+\",\"+col);}\nreturn this.modules[row][col];},getModuleCount:function(){return this.moduleCount;},make:function(){this.makeImpl(false,this.getBestMaskPattern());},makeImpl:function(test,maskPattern){this.moduleCount=this.typeNumber*4+17;this.modules=new Array(this.moduleCount);for(var row=0;row<this.moduleCount;row++){this.modules[row]=new Array(this.moduleCount);for(var col=0;col<this.moduleCount;col++){this.modules[row][col]=null;}}\nthis.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(test,maskPattern);if(this.typeNumber>=7){this.setupTypeNumber(test);}\nif(this.dataCache==null){this.dataCache=QRCodeModel.createData(this.typeNumber,this.errorCorrectLevel,this.dataList);}\nthis.mapData(this.dataCache,maskPattern);},setupPositionProbePattern:function(row,col){for(var r=-1;r<=7;r++){if(row+r<=-1||this.moduleCount<=row+r)continue;for(var c=-1;c<=7;c++){if(col+c<=-1||this.moduleCount<=col+c)continue;if((0<=r&&r<=6&&(c==0||c==6))||(0<=c&&c<=6&&(r==0||r==6))||(2<=r&&r<=4&&2<=c&&c<=4)){this.modules[row+r][col+c]=true;}else{this.modules[row+r][col+c]=false;}}}},getBestMaskPattern:function(){var minLostPoint=0;var pattern=0;for(var i=0;i<8;i++){this.makeImpl(true,i);var lostPoint=QRUtil.getLostPoint(this);if(i==0||minLostPoint>lostPoint){minLostPoint=lostPoint;pattern=i;}}\nreturn pattern;},createMovieClip:function(target_mc,instance_name,depth){var qr_mc=target_mc.createEmptyMovieClip(instance_name,depth);var cs=1;this.make();for(var row=0;row<this.modules.length;row++){var y=row*cs;for(var col=0;col<this.modules[row].length;col++){var x=col*cs;var dark=this.modules[row][col];if(dark){qr_mc.beginFill(0,100);qr_mc.moveTo(x,y);qr_mc.lineTo(x+cs,y);qr_mc.lineTo(x+cs,y+cs);qr_mc.lineTo(x,y+cs);qr_mc.endFill();}}}\nreturn qr_mc;},setupTimingPattern:function(){for(var r=8;r<this.moduleCount-8;r++){if(this.modules[r][6]!=null){continue;}\nthis.modules[r][6]=(r%2==0);}\nfor(var c=8;c<this.moduleCount-8;c++){if(this.modules[6][c]!=null){continue;}\nthis.modules[6][c]=(c%2==0);}},setupPositionAdjustPattern:function(){var pos=QRUtil.getPatternPosition(this.typeNumber);for(var i=0;i<pos.length;i++){for(var j=0;j<pos.length;j++){var row=pos[i];var col=pos[j];if(this.modules[row][col]!=null){continue;}\nfor(var r=-2;r<=2;r++){for(var c=-2;c<=2;c++){if(r==-2||r==2||c==-2||c==2||(r==0&&c==0)){this.modules[row+r][col+c]=true;}else{this.modules[row+r][col+c]=false;}}}}}},setupTypeNumber:function(test){var bits=QRUtil.getBCHTypeNumber(this.typeNumber);for(var i=0;i<18;i++){var mod=(!test&&((bits>>i)&1)==1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=mod;}\nfor(var i=0;i<18;i++){var mod=(!test&&((bits>>i)&1)==1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=mod;}},setupTypeInfo:function(test,maskPattern){var data=(this.errorCorrectLevel<<3)|maskPattern;var bits=QRUtil.getBCHTypeInfo(data);for(var i=0;i<15;i++){var mod=(!test&&((bits>>i)&1)==1);if(i<6){this.modules[i][8]=mod;}else if(i<8){this.modules[i+1][8]=mod;}else{this.modules[this.moduleCount-15+i][8]=mod;}}\nfor(var i=0;i<15;i++){var mod=(!test&&((bits>>i)&1)==1);if(i<8){this.modules[8][this.moduleCount-i-1]=mod;}else if(i<9){this.modules[8][15-i-1+1]=mod;}else{this.modules[8][15-i-1]=mod;}}\nthis.modules[this.moduleCount-8][8]=(!test);},mapData:function(data,maskPattern){var inc=-1;var row=this.moduleCount-1;var bitIndex=7;var byteIndex=0;for(var col=this.moduleCount-1;col>0;col-=2){if(col==6)col--;while(true){for(var c=0;c<2;c++){if(this.modules[row][col-c]==null){var dark=false;if(byteIndex<data.length){dark=(((data[byteIndex]>>>bitIndex)&1)==1);}\nvar mask=QRUtil.getMask(maskPattern,row,col-c);if(mask){dark=!dark;}\nthis.modules[row][col-c]=dark;bitIndex--;if(bitIndex==-1){byteIndex++;bitIndex=7;}}}\nrow+=inc;if(row<0||this.moduleCount<=row){row-=inc;inc=-inc;break;}}}}};QRCodeModel.PAD0=0xEC;QRCodeModel.PAD1=0x11;QRCodeModel.createData=function(typeNumber,errorCorrectLevel,dataList){var rsBlocks=QRRSBlock.getRSBlocks(typeNumber,errorCorrectLevel);var buffer=new QRBitBuffer();for(var i=0;i<dataList.length;i++){var data=dataList[i];buffer.put(data.mode,4);buffer.put(data.getLength(),QRUtil.getLengthInBits(data.mode,typeNumber));data.write(buffer);}\nvar totalDataCount=0;for(var i=0;i<rsBlocks.length;i++){totalDataCount+=rsBlocks[i].dataCount;}\nif(buffer.getLengthInBits()>totalDataCount*8){throw new Error(\"code length overflow. (\"\n+buffer.getLengthInBits()\n+\">\"\n+totalDataCount*8\n+\")\");}\nif(buffer.getLengthInBits()+4<=totalDataCount*8){buffer.put(0,4);}\nwhile(buffer.getLengthInBits()%8!=0){buffer.putBit(false);}\nwhile(true){if(buffer.getLengthInBits()>=totalDataCount*8){break;}\nbuffer.put(QRCodeModel.PAD0,8);if(buffer.getLengthInBits()>=totalDataCount*8){break;}\nbuffer.put(QRCodeModel.PAD1,8);}\nreturn QRCodeModel.createBytes(buffer,rsBlocks);};QRCodeModel.createBytes=function(buffer,rsBlocks){var offset=0;var maxDcCount=0;var maxEcCount=0;var dcdata=new Array(rsBlocks.length);var ecdata=new Array(rsBlocks.length);for(var r=0;r<rsBlocks.length;r++){var dcCount=rsBlocks[r].dataCount;var ecCount=rsBlocks[r].totalCount-dcCount;maxDcCount=Math.max(maxDcCount,dcCount);maxEcCount=Math.max(maxEcCount,ecCount);dcdata[r]=new Array(dcCount);for(var i=0;i<dcdata[r].length;i++){dcdata[r][i]=0xff&buffer.buffer[i+offset];}\noffset+=dcCount;var rsPoly=QRUtil.getErrorCorrectPolynomial(ecCount);var rawPoly=new QRPolynomial(dcdata[r],rsPoly.getLength()-1);var modPoly=rawPoly.mod(rsPoly);ecdata[r]=new Array(rsPoly.getLength()-1);for(var i=0;i<ecdata[r].length;i++){var modIndex=i+modPoly.getLength()-ecdata[r].length;ecdata[r][i]=(modIndex>=0)?modPoly.get(modIndex):0;}}\nvar totalCodeCount=0;for(var i=0;i<rsBlocks.length;i++){totalCodeCount+=rsBlocks[i].totalCount;}\nvar data=new Array(totalCodeCount);var index=0;for(var i=0;i<maxDcCount;i++){for(var r=0;r<rsBlocks.length;r++){if(i<dcdata[r].length){data[index++]=dcdata[r][i];}}}\nfor(var i=0;i<maxEcCount;i++){for(var r=0;r<rsBlocks.length;r++){if(i<ecdata[r].length){data[index++]=ecdata[r][i];}}}\nreturn data;};var QRMode={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3};var QRErrorCorrectLevel={L:1,M:0,Q:3,H:2};var QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:(1<<10)|(1<<8)|(1<<5)|(1<<4)|(1<<2)|(1<<1)|(1<<0),G18:(1<<12)|(1<<11)|(1<<10)|(1<<9)|(1<<8)|(1<<5)|(1<<2)|(1<<0),G15_MASK:(1<<14)|(1<<12)|(1<<10)|(1<<4)|(1<<1),getBCHTypeInfo:function(data){var d=data<<10;while(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)>=0){d^=(QRUtil.G15<<(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)));}\nreturn((data<<10)|d)^QRUtil.G15_MASK;},getBCHTypeNumber:function(data){var d=data<<12;while(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)>=0){d^=(QRUtil.G18<<(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)));}\nreturn(data<<12)|d;},getBCHDigit:function(data){var digit=0;while(data!=0){digit++;data>>>=1;}\nreturn digit;},getPatternPosition:function(typeNumber){return QRUtil.PATTERN_POSITION_TABLE[typeNumber-1];},getMask:function(maskPattern,i,j){switch(maskPattern){case QRMaskPattern.PATTERN000:return(i+j)%2==0;case QRMaskPattern.PATTERN001:return i%2==0;case QRMaskPattern.PATTERN010:return j%3==0;case QRMaskPattern.PATTERN011:return(i+j)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(i/2)+Math.floor(j/3))%2==0;case QRMaskPattern.PATTERN101:return(i*j)%2+(i*j)%3==0;case QRMaskPattern.PATTERN110:return((i*j)%2+(i*j)%3)%2==0;case QRMaskPattern.PATTERN111:return((i*j)%3+(i+j)%2)%2==0;default:throw new Error(\"bad maskPattern:\"+maskPattern);}},getErrorCorrectPolynomial:function(errorCorrectLength){var a=new QRPolynomial([1],0);for(var i=0;i<errorCorrectLength;i++){a=a.multiply(new QRPolynomial([1,QRMath.gexp(i)],0));}\nreturn a;},getLengthInBits:function(mode,type){if(1<=type&&type<10){switch(mode){case QRMode.MODE_NUMBER:return 10;case QRMode.MODE_ALPHA_NUM:return 9;case QRMode.MODE_8BIT_BYTE:return 8;case QRMode.MODE_KANJI:return 8;default:throw new Error(\"mode:\"+mode);}}else if(type<27){switch(mode){case QRMode.MODE_NUMBER:return 12;case QRMode.MODE_ALPHA_NUM:return 11;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 10;default:throw new Error(\"mode:\"+mode);}}else if(type<41){switch(mode){case QRMode.MODE_NUMBER:return 14;case QRMode.MODE_ALPHA_NUM:return 13;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 12;default:throw new Error(\"mode:\"+mode);}}else{throw new Error(\"type:\"+type);}},getLostPoint:function(qrCode){var moduleCount=qrCode.getModuleCount();var lostPoint=0;for(var row=0;row<moduleCount;row++){for(var col=0;col<moduleCount;col++){var sameCount=0;var dark=qrCode.isDark(row,col);for(var r=-1;r<=1;r++){if(row+r<0||moduleCount<=row+r){continue;}\nfor(var c=-1;c<=1;c++){if(col+c<0||moduleCount<=col+c){continue;}\nif(r==0&&c==0){continue;}\nif(dark==qrCode.isDark(row+r,col+c)){sameCount++;}}}\nif(sameCount>5){lostPoint+=(3+sameCount-5);}}}\nfor(var row=0;row<moduleCount-1;row++){for(var col=0;col<moduleCount-1;col++){var count=0;if(qrCode.isDark(row,col))count++;if(qrCode.isDark(row+1,col))count++;if(qrCode.isDark(row,col+1))count++;if(qrCode.isDark(row+1,col+1))count++;if(count==0||count==4){lostPoint+=3;}}}\nfor(var row=0;row<moduleCount;row++){for(var col=0;col<moduleCount-6;col++){if(qrCode.isDark(row,col)&&!qrCode.isDark(row,col+1)&&qrCode.isDark(row,col+2)&&qrCode.isDark(row,col+3)&&qrCode.isDark(row,col+4)&&!qrCode.isDark(row,col+5)&&qrCode.isDark(row,col+6)){lostPoint+=40;}}}\nfor(var col=0;col<moduleCount;col++){for(var row=0;row<moduleCount-6;row++){if(qrCode.isDark(row,col)&&!qrCode.isDark(row+1,col)&&qrCode.isDark(row+2,col)&&qrCode.isDark(row+3,col)&&qrCode.isDark(row+4,col)&&!qrCode.isDark(row+5,col)&&qrCode.isDark(row+6,col)){lostPoint+=40;}}}\nvar darkCount=0;for(var col=0;col<moduleCount;col++){for(var row=0;row<moduleCount;row++){if(qrCode.isDark(row,col)){darkCount++;}}}\nvar ratio=Math.abs(100*darkCount/moduleCount/moduleCount-50)/5;lostPoint+=ratio*10;return lostPoint;}};var QRMath={glog:function(n){if(n<1){throw new Error(\"glog(\"+n+\")\");}\nreturn QRMath.LOG_TABLE[n];},gexp:function(n){while(n<0){n+=255;}\nwhile(n>=256){n-=255;}\nreturn QRMath.EXP_TABLE[n];},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var i=0;i<8;i++){QRMath.EXP_TABLE[i]=1<<i;}\nfor(var i=8;i<256;i++){QRMath.EXP_TABLE[i]=QRMath.EXP_TABLE[i-4]^QRMath.EXP_TABLE[i-5]^QRMath.EXP_TABLE[i-6]^QRMath.EXP_TABLE[i-8];}\nfor(var i=0;i<255;i++){QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]=i;}\nfunction QRPolynomial(num,shift){if(num.length==undefined){throw new Error(num.length+\"/\"+shift);}\nvar offset=0;while(offset<num.length&&num[offset]==0){offset++;}\nthis.num=new Array(num.length-offset+shift);for(var i=0;i<num.length-offset;i++){this.num[i]=num[i+offset];}}\nQRPolynomial.prototype={get:function(index){return this.num[index];},getLength:function(){return this.num.length;},multiply:function(e){var num=new Array(this.getLength()+e.getLength()-1);for(var i=0;i<this.getLength();i++){for(var j=0;j<e.getLength();j++){num[i+j]^=QRMath.gexp(QRMath.glog(this.get(i))+QRMath.glog(e.get(j)));}}\nreturn new QRPolynomial(num,0);},mod:function(e){if(this.getLength()-e.getLength()<0){return this;}\nvar ratio=QRMath.glog(this.get(0))-QRMath.glog(e.get(0));var num=new Array(this.getLength());for(var i=0;i<this.getLength();i++){num[i]=this.get(i);}\nfor(var i=0;i<e.getLength();i++){num[i]^=QRMath.gexp(QRMath.glog(e.get(i))+ratio);}\nreturn new QRPolynomial(num,0).mod(e);}};function QRRSBlock(totalCount,dataCount){this.totalCount=totalCount;this.dataCount=dataCount;}\nQRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];QRRSBlock.getRSBlocks=function(typeNumber,errorCorrectLevel){var rsBlock=QRRSBlock.getRsBlockTable(typeNumber,errorCorrectLevel);if(rsBlock==undefined){throw new Error(\"bad rs block @ typeNumber:\"+typeNumber+\"/errorCorrectLevel:\"+errorCorrectLevel);}\nvar length=rsBlock.length/3;var list=[];for(var i=0;i<length;i++){var count=rsBlock[i*3+0];var totalCount=rsBlock[i*3+1];var dataCount=rsBlock[i*3+2];for(var j=0;j<count;j++){list.push(new QRRSBlock(totalCount,dataCount));}}\nreturn list;};QRRSBlock.getRsBlockTable=function(typeNumber,errorCorrectLevel){switch(errorCorrectLevel){case QRErrorCorrectLevel.L:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+0];case QRErrorCorrectLevel.M:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+1];case QRErrorCorrectLevel.Q:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+2];case QRErrorCorrectLevel.H:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+3];default:return undefined;}};function QRBitBuffer(){this.buffer=[];this.length=0;}\nQRBitBuffer.prototype={get:function(index){var bufIndex=Math.floor(index/8);return((this.buffer[bufIndex]>>>(7-index%8))&1)==1;},put:function(num,length){for(var i=0;i<length;i++){this.putBit(((num>>>(length-i-1))&1)==1);}},getLengthInBits:function(){return this.length;},putBit:function(bit){var bufIndex=Math.floor(this.length/8);if(this.buffer.length<=bufIndex){this.buffer.push(0);}\nif(bit){this.buffer[bufIndex]|=(0x80>>>(this.length%8));}\nthis.length++;}};var QRCodeLimitLength=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];\n\n\n/** Constructor */\nfunction QRCode(options) {\n  var instance = this;\n\n  //Default options\n  this.options = {\n    padding: 4,\n    width: 256,\n    height: 256,\n    typeNumber: 4,\n    color: \"#000000\",\n    background: \"#ffffff\",\n    ecl: \"M\",\n    image:{\n      svg:\"\",\n      width:0,\n      height:0\n    }\n  };\n\n  //In case the options is string\n  if (typeof options === 'string') {\n    options = {\n      content: options\n    };\n  }\n\n  //Merge options\n  if (options) {\n    for (var i in options) {\n      this.options[i] = options[i];\n    }\n  }\n\n  if (typeof this.options.content !== 'string') {\n    throw new Error(\"Expected 'content' as string!\");\n  }\n\n  if (this.options.content.length === 0 /* || this.options.content.length > 7089 */) {\n    throw new Error(\"Expected 'content' to be non-empty!\");\n  }\n\n  if (!(this.options.padding >= 0)) {\n    throw new Error(\"Expected 'padding' value to be non-negative!\");\n  }\n\n  if (!(this.options.width > 0) || !(this.options.height > 0)) {\n    throw new Error(\"Expected 'width' or 'height' value to be higher than zero!\");\n  }\n\n  //Gets the error correction level\n  function _getErrorCorrectLevel(ecl) {\n    switch (ecl) {\n        case \"L\":\n          return QRErrorCorrectLevel.L;\n\n        case \"M\":\n          return QRErrorCorrectLevel.M;\n\n        case \"Q\":\n          return QRErrorCorrectLevel.Q;\n\n        case \"H\":\n          return QRErrorCorrectLevel.H;\n\n        default:\n          throw new Error(\"Unknwon error correction level: \" + ecl);\n      }\n  }\n\n  //Get type number\n  function _getTypeNumber(content, ecl) {\n    var length = _getUTF8Length(content);\n\n    var type = 1;\n    var limit = 0;\n    for (var i = 0, len = QRCodeLimitLength.length; i <= len; i++) {\n      var table = QRCodeLimitLength[i];\n      if (!table) {\n        throw new Error(\"Content too long: expected \" + limit + \" but got \" + length);\n      }\n\n      switch (ecl) {\n        case \"L\":\n          limit = table[0];\n          break;\n\n        case \"M\":\n          limit = table[1];\n          break;\n\n        case \"Q\":\n          limit = table[2];\n          break;\n\n        case \"H\":\n          limit = table[3];\n          break;\n\n        default:\n          throw new Error(\"Unknwon error correction level: \" + ecl);\n      }\n\n      if (length <= limit) {\n        break;\n      }\n\n      type++;\n    }\n\n    if (type > QRCodeLimitLength.length) {\n      throw new Error(\"Content too long\");\n    }\n\n    return type;\n  }\n\n  //Gets text length\n  function _getUTF8Length(content) {\n    var result = encodeURI(content).toString().replace(/\\%[0-9a-fA-F]{2}/g, 'a');\n    return result.length + (result.length != content ? 3 : 0);\n  }\n\n  //Generate QR Code matrix\n  var content = this.options.content;\n  var type = _getTypeNumber(content, this.options.ecl);\n  var ecl = _getErrorCorrectLevel(this.options.ecl);\n  this.qrcode = new QRCodeModel(type, ecl);\n  this.qrcode.addData(content);\n  this.qrcode.make();\n}\n\n/** Generates QR Code as SVG image */\nQRCode.prototype.svg = function(opt) {\n  var options = this.options || { };\n  var modules = this.qrcode.modules;\n\n  if (typeof opt == \"undefined\") {\n    opt = { container: options.container || \"svg\" };\n  }\n\n  //Apply new lines and indents in SVG?\n  var pretty = typeof options.pretty != \"undefined\" ? !!options.pretty : true;\n\n  var indent = pretty ? '  ' : '';\n  var EOL = pretty ? '\\r\\n' : '';\n  var width = options.width;\n  var height = options.height;\n  var length = modules.length;\n  var xsize = width / (length + 2 * options.padding);\n  var ysize = height / (length + 2 * options.padding);\n\n  //Join (union, merge) rectangles into one shape?\n  var join = typeof options.join != \"undefined\" ? !!options.join : false;\n\n  //Swap the X and Y modules, pull request #2\n  var swap = typeof options.swap != \"undefined\" ? !!options.swap : false;\n\n  //Apply <?xml...?> declaration in SVG?\n  var xmlDeclaration = typeof options.xmlDeclaration != \"undefined\" ? !!options.xmlDeclaration : true;\n\n  //Populate with predefined shape instead of \"rect\" elements, thanks to @kkocdko\n  var predefined = typeof options.predefined != \"undefined\" ? !!options.predefined : false;\n  var defs = predefined ? indent + '<defs><path id=\"qrmodule\" d=\"M0 0 h' + ysize + ' v' + xsize + ' H0 z\" style=\"fill:' + options.color + ';shape-rendering:crispEdges;\" /></defs>' + EOL : '';\n\n  //Background rectangle\n  var bgrect = indent + '<rect x=\"0\" y=\"0\" width=\"' + width + '\" height=\"' + height + '\" style=\"fill:' + options.background + ';shape-rendering:crispEdges;\"/>' + EOL;\n\n  //Rectangles representing modules\n  var modrect = '';\n  var pathdata = '';\n\n  for (var y = 0; y < length; y++) {\n    for (var x = 0; x < length; x++) {\n      var module = modules[x][y];\n      if (module) {\n\n        var px = (x * xsize + options.padding * xsize);\n        var py = (y * ysize + options.padding * ysize);\n\n        //Some users have had issues with the QR Code, thanks to @danioso for the solution\n        if (swap) {\n          var t = px;\n          px = py;\n          py = t;\n        }\n\n        if (join) {\n          //Module as a part of svg path data, thanks to @danioso\n          var w = xsize + px\n          var h = ysize + py\n\n          px = (Number.isInteger(px))? Number(px): px.toFixed(2);\n          py = (Number.isInteger(py))? Number(py): py.toFixed(2);\n          w = (Number.isInteger(w))? Number(w): w.toFixed(2);\n          h = (Number.isInteger(h))? Number(h): h.toFixed(2);\n\n          pathdata += ('M' + px + ',' + py + ' V' + h + ' H' + w + ' V' + py + ' H' + px + ' Z ');\n        }\n        else if (predefined) {\n          //Module as a predefined shape, thanks to @kkocdko\n          modrect += indent + '<use x=\"' + px.toString() + '\" y=\"' + py.toString() + '\" href=\"#qrmodule\" />' + EOL;\n        }\n        else {\n          //Module as rectangle element\n          modrect += indent + '<rect x=\"' + px.toString() + '\" y=\"' + py.toString() + '\" width=\"' + xsize + '\" height=\"' + ysize + '\" style=\"fill:' + options.color + ';shape-rendering:crispEdges;\"/>' + EOL;\n        }\n      }\n    }\n  }\n\n  if (join) {\n    modrect = indent + '<path x=\"0\" y=\"0\" style=\"fill:' + options.color + ';shape-rendering:crispEdges;\" d=\"' + pathdata + '\" />';\n  }\n  let imgSvg = \"\";\n  if(this.options.image !== undefined && this.options.image.svg){\n    const imgWidth = width * this.options.image.width / 100;\n    const imgHeight = height * this.options.image.height / 100;\n    const imgX = (width/2) - imgWidth/2;\n    const imgY = (height/2) - imgHeight/2;\n    imgSvg += `<svg x=\"${imgX}\" y=\"${imgY}\" width=\"${imgWidth}\" height=\"${imgHeight}\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"xMinYMin meet\">`;\n    imgSvg += this.options.image.svg + EOL;\n    imgSvg += '</svg>';\n  }\n\n  var svg = \"\";\n  switch (opt.container) {\n    //Wrapped in SVG document\n    case \"svg\":\n      if (xmlDeclaration) {\n        svg += '<?xml version=\"1.0\" standalone=\"yes\"?>' + EOL;\n      }\n      svg += '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"' + width + '\" height=\"' + height + '\">' + EOL;\n      svg += defs + bgrect + modrect;\n      svg += imgSvg;\n      svg += '</svg>';\n      break;\n\n    //Viewbox for responsive use in a browser, thanks to @danioso\n    case \"svg-viewbox\":\n      if (xmlDeclaration) {\n        svg += '<?xml version=\"1.0\" standalone=\"yes\"?>' + EOL;\n      }\n      svg += '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 ' + width + ' ' + height + '\">' + EOL;\n      svg += defs + bgrect + modrect;\n      svg += imgSvg;\n      svg += '</svg>';\n      break;\n\n\n    //Wrapped in group element\n    case \"g\":\n      svg += '<g width=\"' + width + '\" height=\"' + height + '\">' + EOL;\n      svg += defs + bgrect + modrect;\n      svg += imgSvg;\n      svg += '</g>';\n\n      break;\n\n    //Without a container\n    default:\n      svg += (defs + bgrect + modrect + imgSvg).replace(/^\\s+/, \"\"); //Clear indents on each line\n      break;\n  }\n\n  return svg;\n};\n\nmodule.exports = QRCode;\n\n","\"use strict\";\n// Copyright (c) 2018-2021 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2021 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `.-walletlink-css-reset .-walletlink-spinner{display:inline-block}.-walletlink-css-reset .-walletlink-spinner svg{display:inline-block;animation:2s linear infinite -walletlink-spinner-svg}.-walletlink-css-reset .-walletlink-spinner svg circle{animation:1.9s ease-in-out infinite both -walletlink-spinner-circle;display:block;fill:transparent;stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -walletlink-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -walletlink-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}`;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TryExtensionLinkDialog = void 0;\nconst clsx_1 = __importDefault(require(\"clsx\"));\nconst preact_1 = require(\"preact\");\nconst hooks_1 = require(\"preact/hooks\");\nconst globe_icon_svg_1 = __importDefault(require(\"./icons/globe-icon-svg\"));\nconst link_icon_svg_1 = __importDefault(require(\"./icons/link-icon-svg\"));\nconst lock_icon_svg_1 = __importDefault(require(\"./icons/lock-icon-svg\"));\nconst QRLogo_1 = __importDefault(require(\"./icons/QRLogo\"));\nconst QRCode_1 = require(\"./QRCode\");\nconst Spinner_1 = require(\"./Spinner\");\nconst TryExtensionLinkDialog_css_1 = __importDefault(require(\"./TryExtensionLinkDialog-css\"));\nconst version_1 = require(\"../version\");\nconst TryExtensionLinkDialog = props => {\n    const [isContainerHidden, setContainerHidden] = (0, hooks_1.useState)(!props.isOpen);\n    const [isDialogHidden, setDialogHidden] = (0, hooks_1.useState)(!props.isOpen);\n    (0, hooks_1.useEffect)(() => {\n        const { isOpen } = props;\n        const timers = [\n            window.setTimeout(() => {\n                setDialogHidden(!isOpen);\n            }, 10)\n        ];\n        if (isOpen) {\n            setContainerHidden(false);\n        }\n        else {\n            timers.push(window.setTimeout(() => {\n                setContainerHidden(true);\n            }, 360));\n        }\n        return () => {\n            timers.forEach(window.clearTimeout);\n        };\n    }, [props.isOpen]);\n    return ((0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-extension-dialog-container\", isContainerHidden && \"-walletlink-extension-dialog-container-hidden\") },\n        (0, preact_1.h)(\"style\", null, TryExtensionLinkDialog_css_1.default),\n        (0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-extension-dialog-backdrop\", isDialogHidden && \"-walletlink-extension-dialog-backdrop-hidden\") }),\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog\" },\n            (0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-extension-dialog-box\", isDialogHidden && \"-walletlink-extension-dialog-box-hidden\") },\n                (0, preact_1.h)(TryExtensionBox, { onInstallClick: () => {\n                        window.open(\"https://api.wallet.coinbase.com/rpc/v2/desktop/chrome\", \"_blank\");\n                    } }),\n                !props.connectDisabled ? ((0, preact_1.h)(ScanQRBox, { darkMode: props.darkMode, version: props.version, sessionId: props.sessionId, sessionSecret: props.sessionSecret, walletLinkUrl: props.walletLinkUrl, isConnected: props.isConnected, isParentConnection: props.isParentConnection })) : null,\n                props.onCancel && (0, preact_1.h)(CancelButton, { onClick: props.onCancel })))));\n};\nexports.TryExtensionLinkDialog = TryExtensionLinkDialog;\nconst TryExtensionBox = props => {\n    return ((0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-top\" },\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-top-install-region\" },\n            (0, preact_1.h)(\"h2\", null, \"Try the Coinbase Wallet extension\"),\n            (0, preact_1.h)(\"button\", { onClick: props.onInstallClick }, \"Install\")),\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-top-info-region\" },\n            (0, preact_1.h)(DescriptionItem, { icon: link_icon_svg_1.default, text: \"Connect to crypto apps with one click\" }),\n            (0, preact_1.h)(DescriptionItem, { icon: lock_icon_svg_1.default, text: \"Your private key is stored securely\" }),\n            (0, preact_1.h)(DescriptionItem, { icon: globe_icon_svg_1.default, text: \"Works with Ethereum, Polygon, and more\" }))));\n};\nconst ScanQRBox = props => {\n    const serverUrl = window.encodeURIComponent(props.walletLinkUrl);\n    const sessionIdKey = props.isParentConnection ? \"parent-id\" : \"id\";\n    const qrUrl = `${props.walletLinkUrl}/#/link?${sessionIdKey}=${props.sessionId}&secret=${props.sessionSecret}&server=${serverUrl}&v=1`;\n    return ((0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-bottom\" },\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-bottom-description-region\" },\n            (0, preact_1.h)(\"h2\", null, \"Or scan to connect\"),\n            (0, preact_1.h)(\"body\", { class: \"-walletlink-extension-dialog-box-bottom-description\" },\n                \"Open \",\n                (0, preact_1.h)(\"a\", { href: \"https://wallet.coinbase.com/\" }, \"Coinbase Wallet\"),\n                \" on your mobile phone and scan\")),\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-bottom-qr-region\" },\n            (0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-bottom-qr-wrapper\" },\n                (0, preact_1.h)(QRCode_1.QRCode, { content: qrUrl, width: 150, height: 150, fgColor: \"#000\", bgColor: \"transparent\", image: {\n                        svg: QRLogo_1.default,\n                        width: 34,\n                        height: 34\n                    } })),\n            (0, preact_1.h)(\"input\", { type: \"hidden\", name: \"walletlink-version\", value: version_1.LIB_VERSION }),\n            (0, preact_1.h)(\"input\", { type: \"hidden\", value: qrUrl }),\n            !props.isConnected && ((0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-bottom-qr-connecting\" },\n                (0, preact_1.h)(Spinner_1.Spinner, { size: 36, color: \"#000\" }),\n                (0, preact_1.h)(\"p\", null, \"Connecting...\"))))));\n};\nconst DescriptionItem = props => {\n    return ((0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-top-description\" },\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-top-description-icon-wrapper\" },\n            (0, preact_1.h)(\"img\", { src: props.icon })),\n        (0, preact_1.h)(\"body\", { class: \"-walletlink-extension-dialog-box-top-description-text\" }, props.text)));\n};\nconst CancelButton = props => ((0, preact_1.h)(\"button\", { class: \"-walletlink-extension-dialog-box-cancel\", onClick: props.onClick },\n    (0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-cancel-x\" })));\n","\"use strict\";\n// Copyright (c) 2018-2021 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2021 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTggMEMzLjU4IDAgMCAzLjU4IDAgOHMzLjU4IDggOCA4IDgtMy41OCA4LTgtMy41OC04LTgtOFptNS45MSA3aC0xLjk0Yy0uMS0xLjU3LS40Mi0zLS45MS00LjE1IDEuNDguODggMi41NSAyLjM4IDIuODUgNC4xNVpNOCAxNGMtLjQ1IDAtMS43Mi0xLjc3LTEuOTUtNWgzLjljLS4yMyAzLjIzLTEuNSA1LTEuOTUgNVpNNi4wNSA3QzYuMjggMy43NyA3LjU1IDIgOCAyYy40NSAwIDEuNzIgMS43NyAxLjk1IDVoLTMuOVpNNC45NCAyLjg1QzQuNDYgNCA0LjEzIDUuNDMgNC4wMyA3SDIuMDljLjMtMS43NyAxLjM3LTMuMjcgMi44NS00LjE1Wk0yLjA5IDloMS45NGMuMSAxLjU3LjQyIDMgLjkxIDQuMTVBNS45OTggNS45OTggMCAwIDEgMi4wOSA5Wm04Ljk3IDQuMTVjLjQ4LTEuMTUuODEtMi41OC45MS00LjE1aDEuOTRhNS45OTggNS45OTggMCAwIDEtMi44NSA0LjE1WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==`;\n","\"use strict\";\n// Copyright (c) 2018-2021 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2021 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE1LjYzNSAyLjExN2EzLjg4OSAzLjg4OSAwIDAgMC01LjUyMSAwTDYuODkgNS4zMzVBMy44OTQgMy44OTQgMCAwIDAgNS44IDguNzM5Yy4wODMuNTA2LjI2OCAxLjAxMS41NTMgMS40NjYuMTUxLjI1My4zMzYuNDcyLjUzNy42OTFsLjYyMS42MjQgMS4xNDEtMS4xNDYtLjYyLS42MjRhMi4xMDUgMi4xMDUgMCAwIDEtLjQ4Ny0uNzQxIDIuMzQgMi4zNCAwIDAgMSAuNTAzLTIuNTFsMy4yMDYtMy4yMmEyLjI5MyAyLjI5MyAwIDAgMSAzLjIzOSAwYy44OS44OTQuODkgMi4zNDMgMCAzLjI1M2wtMS41MjcgMS41MzNjLjIzNC42NC4zMzUgMS4zMzEuMzAyIDIuMDA1bDIuMzgzLTIuMzkyYzEuNTEtMS41MzQgMS40OTMtNC4wMjgtLjAxNy01LjU2MVoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBkPSJNMTEuMjcxIDcuNzQ1YTMuMTMgMy4xMyAwIDAgMC0uNTU0LS42OWwtLjYyLS42MjQtMS4xNDIgMS4xNDYuNjIxLjYyM2MuMjE4LjIyLjM4Ni40ODkuNDg3Ljc1OC4zMzUuODI2LjE2NyAxLjgyLS41MDQgMi40OTRsLTMuMjA1IDMuMjE5YTIuMjkzIDIuMjkzIDAgMCAxLTMuMjQgMCAyLjMxNiAyLjMxNiAwIDAgMSAwLTMuMjUybDEuNTI4LTEuNTM0YTQuODE1IDQuODE1IDAgMCAxLS4yODUtMi4wMDVsLTIuMzgzIDIuMzkzYTMuOTI3IDMuOTI3IDAgMCAwIDAgNS41NDQgMy45MDkgMy45MDkgMCAwIDAgNS41MzggMGwzLjIwNS0zLjIxOWEzLjk1OCAzLjk1OCAwIDAgMCAxLjA5MS0zLjQwNCA0LjIxMSA0LjIxMSAwIDAgMC0uNTM3LTEuNDQ5WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==`;\n","\"use strict\";\n// Copyright (c) 2018-2021 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2021 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEgN3Y5aDE0VjdIMVptNy41IDQuMzlWMTRoLTF2LTIuNjFjLS40NC0uMTktLjc1LS42My0uNzUtMS4xNGExLjI1IDEuMjUgMCAwIDEgMi41IDBjMCAuNTEtLjMxLjk1LS43NSAxLjE0Wk01LjY3IDZWNC4zM0M1LjY3IDMuMDUgNi43MSAyIDggMnMyLjMzIDEuMDUgMi4zMyAyLjMzVjZoMlY0LjMzQzEyLjMzIDEuOTQgMTAuMzkgMCA4IDBTMy42NyAxLjk0IDMuNjcgNC4zM1Y2aDJaIiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+`;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `<svg width=\"100\" height=\"100\" viewBox=\"0 0 100 100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<circle cx=\"50\" cy=\"50\" r=\"50\" fill=\"white\"/>\n<circle cx=\"49.9996\" cy=\"49.9996\" r=\"43.6363\" fill=\"#1B53E4\"/>\n<circle cx=\"49.9996\" cy=\"49.9996\" r=\"43.6363\" stroke=\"white\"/>\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z\" fill=\"white\"/>\n</svg>\n\n`;\n","\"use strict\";\n// Copyright (c) 2018-2021 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2021 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `.-walletlink-css-reset .-walletlink-extension-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-walletlink-css-reset .-walletlink-extension-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);transition:opacity .25s}.-walletlink-css-reset .-walletlink-extension-dialog-backdrop-hidden{opacity:0}.-walletlink-css-reset .-walletlink-extension-dialog-box{display:flex;position:relative;max-width:500px;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-walletlink-css-reset .-walletlink-extension-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-walletlink-css-reset .-walletlink-extension-dialog-box-top{display:flex;flex-direction:row;background-color:#fff;border-radius:8px;overflow:hidden;min-height:300px}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-install-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;padding:32px}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-install-region button{display:block;border-radius:8px;background-color:#1652f0;color:#fff;width:90%;min-width:fit-content;height:44px;margin-top:16px;font-size:16px;padding-left:16px;padding-right:16px;cursor:pointer;font-weight:500;text-align:center}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-info-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;background-color:#fafbfc}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-description{display:flex;flex-direction:row;align-items:center;padding-top:14px;padding-bottom:14px;padding-left:24px;padding-right:32px}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-description-icon-wrapper{display:block;position:relative;width:40px;height:40px;flex-shrink:0;flex-grow:0;border-radius:20px;background-color:#fff;box-shadow:0px 0px 8px rgba(0,0,0,.04),0px 16px 24px rgba(0,0,0,.06)}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-description-icon-wrapper img{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-description-text{margin-left:16px;flex-grow:1;font-size:13px;line-height:19px;color:#000;align-self:center}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom{display:flex;flex-direction:row;overflow:hidden;border-radius:8px;background-color:#fff;margin-top:8px}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-description-region{display:flex;flex-direction:column;justify-content:center;padding:32px;flex-grow:1}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-description{font-size:13px;line-height:19px;margin-top:12px;color:#aaa}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-description a{font-size:inherit;line-height:inherit;color:#1652f0;cursor:pointer}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-region{position:relative;flex-shrink:0;display:flex;flex-direction:column;justify-content:center;padding-left:24px;padding-right:24px;padding-top:16px;padding-bottom:16px}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-wrapper{position:relative;display:block;padding:8px;border-radius:8px;box-shadow:0px 4px 12px rgba(0,0,0,.1)}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-wrapper img{display:block}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:rgba(255,255,255,.95)}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-connecting>p{font-size:12px;font-weight:bold;color:#000;margin-top:16px}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:16px;right:16px;width:24px;height:24px;border-radius:12px;background-color:#fafbfc;cursor:pointer}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x{position:relative;display:block;cursor:pointer}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x::after{content:\"\";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:1px;background-color:#000;transition:background-color .2s}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x::before{transform:rotate(45deg)}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x::after{transform:rotate(135deg)}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-a,.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-b{background-color:#000}.-walletlink-css-reset .-walletlink-extension-dialog-container{display:block}.-walletlink-css-reset .-walletlink-extension-dialog-container-hidden{display:none}.-walletlink-css-reset .-walletlink-extension-dialog h2{display:block;text-align:left;font-size:22px;font-weight:600;line-height:28px;color:#000}`;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Snackbar = void 0;\nconst clsx_1 = __importDefault(require(\"clsx\"));\nconst preact_1 = require(\"preact\");\nconst hooks_1 = require(\"preact/hooks\");\nconst Snackbar_css_1 = __importDefault(require(\"./Snackbar-css\"));\nconst cblogo = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+`;\nconst gearIcon = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=`;\nclass Snackbar {\n    constructor(options) {\n        this.items = new Map();\n        this.nextItemKey = 0;\n        this.root = null;\n        this.darkMode = options.darkMode;\n    }\n    attach(el) {\n        this.root = document.createElement(\"div\");\n        this.root.className = \"-walletlink-snackbar-root\";\n        el.appendChild(this.root);\n        this.render();\n    }\n    presentItem(itemProps) {\n        const key = this.nextItemKey++;\n        this.items.set(key, itemProps);\n        this.render();\n        return () => {\n            this.items.delete(key);\n            this.render();\n        };\n    }\n    clear() {\n        this.items.clear();\n        this.render();\n    }\n    render() {\n        if (!this.root) {\n            return;\n        }\n        (0, preact_1.render)((0, preact_1.h)(\"div\", null,\n            (0, preact_1.h)(SnackbarContainer, { darkMode: this.darkMode }, Array.from(this.items.entries()).map(([key, itemProps]) => ((0, preact_1.h)(SnackbarInstance, Object.assign({}, itemProps, { key: key })))))), this.root);\n    }\n}\nexports.Snackbar = Snackbar;\nconst SnackbarContainer = props => ((0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-snackbar-container\") },\n    (0, preact_1.h)(\"style\", null, Snackbar_css_1.default),\n    (0, preact_1.h)(\"div\", { class: \"-walletlink-snackbar\" }, props.children)));\nconst SnackbarInstance = ({ autoExpand, message, menuItems }) => {\n    const [hidden, setHidden] = (0, hooks_1.useState)(true);\n    const [expanded, setExpanded] = (0, hooks_1.useState)(autoExpand !== null && autoExpand !== void 0 ? autoExpand : false);\n    (0, hooks_1.useEffect)(() => {\n        const timers = [\n            window.setTimeout(() => {\n                setHidden(false);\n            }, 1),\n            window.setTimeout(() => {\n                setExpanded(true);\n            }, 10000)\n        ];\n        return () => {\n            timers.forEach(window.clearTimeout);\n        };\n    });\n    const toggleExpanded = () => {\n        setExpanded(!expanded);\n    };\n    return ((0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-snackbar-instance\", hidden && \"-walletlink-snackbar-instance-hidden\", expanded && \"-walletlink-snackbar-instance-expanded\") },\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-snackbar-instance-header\", onClick: toggleExpanded },\n            (0, preact_1.h)(\"img\", { src: cblogo, class: \"-walletlink-snackbar-instance-header-cblogo\" }),\n            (0, preact_1.h)(\"div\", { class: \"-walletlink-snackbar-instance-header-message\" }, message),\n            (0, preact_1.h)(\"div\", { class: \"-gear-container\" },\n                !expanded && ((0, preact_1.h)(\"svg\", { width: \"24\", height: \"24\", viewBox: \"0 0 24 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n                    (0, preact_1.h)(\"circle\", { cx: \"12\", cy: \"12\", r: \"12\", fill: \"#F5F7F8\" }))),\n                (0, preact_1.h)(\"img\", { src: gearIcon, class: \"-gear-icon\", title: \"Expand\" }))),\n        menuItems && menuItems.length > 0 && ((0, preact_1.h)(\"div\", { class: \"-walletlink-snackbar-instance-menu\" }, menuItems.map((action, i) => ((0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-snackbar-instance-menu-item\", action.isRed && \"-walletlink-snackbar-instance-menu-item-is-red\"), onClick: action.onClick, key: i },\n            (0, preact_1.h)(\"svg\", { width: action.svgWidth, height: action.svgHeight, viewBox: \"0 0 10 11\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n                (0, preact_1.h)(\"path\", { \"fill-rule\": action.defaultFillRule, \"clip-rule\": action.defaultClipRule, d: action.path, fill: \"#AAAAAA\" })),\n            (0, preact_1.h)(\"span\", { class: (0, clsx_1.default)(\"-walletlink-snackbar-instance-menu-item-info\", action.isRed && \"-walletlink-snackbar-instance-menu-item-info-is-red\") }, action.info))))))));\n};\n","\"use strict\";\n// Copyright (c) 2018-2021 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2021 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `.-walletlink-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-walletlink-css-reset .-gear-container *{user-select:none}.-walletlink-css-reset .-gear-container svg{opacity:0;position:absolute}.-walletlink-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-walletlink-css-reset .-walletlink-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-walletlink-css-reset .-walletlink-snackbar *{user-select:none}.-walletlink-css-reset .-walletlink-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-walletlink-css-reset .-walletlink-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-walletlink-css-reset .-walletlink-snackbar-instance-header *{cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-walletlink-css-reset .-walletlink-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-walletlink-css-reset .-walletlink-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-walletlink-css-reset .-walletlink-snackbar-instance-expanded .-walletlink-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}`;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.injectCssReset = void 0;\nconst cssReset_css_1 = __importDefault(require(\"./cssReset-css\"));\nfunction injectCssReset() {\n    const styleEl = document.createElement(\"style\");\n    styleEl.type = \"text/css\";\n    styleEl.appendChild(document.createTextNode(cssReset_css_1.default));\n    document.documentElement.appendChild(styleEl);\n}\nexports.injectCssReset = injectCssReset;\n","\"use strict\";\n// Copyright (c) 2018-2021 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2021 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `@namespace svg \"http://www.w3.org/2000/svg\";.-walletlink-css-reset,.-walletlink-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:transparent;background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;bottom:auto;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:block;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",\"Helvetica Neue\",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:\"\\\\201C\" \"\\\\201D\" \"\\\\2018\" \"\\\\2019\";right:auto;tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;width:auto;word-spacing:normal;z-index:auto}.-walletlink-css-reset *{box-sizing:border-box;display:initial;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",\"Helvetica Neue\",Arial,sans-serif;line-height:1}.-walletlink-css-reset [class*=container]{margin:0;padding:0}.-walletlink-css-reset style{display:none}`;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkUI = void 0;\nclass WalletLinkUI {\n    constructor(_) { }\n    /**\n     * We want to disable showing the qr code for in-page walletlink if the dapp hasn't provided a json rpc url\n     */\n    setConnectDisabled(_) { }\n}\nexports.WalletLinkUI = WalletLinkUI;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkRelay = void 0;\nconst bind_decorator_1 = __importDefault(require(\"bind-decorator\"));\nconst eth_rpc_errors_1 = require(\"eth-rpc-errors\");\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nconst WalletLinkAnalytics_1 = require(\"../connection/WalletLinkAnalytics\");\nconst WalletLinkConnection_1 = require(\"../connection/WalletLinkConnection\");\nconst init_1 = require(\"../init\");\nconst util_1 = require(\"../util\");\nconst aes256gcm = __importStar(require(\"./aes256gcm\"));\nconst Session_1 = require(\"./Session\");\nconst WalletLinkRelayAbstract_1 = require(\"./WalletLinkRelayAbstract\");\nconst Web3Method_1 = require(\"./Web3Method\");\nconst Web3RequestCanceledMessage_1 = require(\"./Web3RequestCanceledMessage\");\nconst Web3RequestMessage_1 = require(\"./Web3RequestMessage\");\nconst Web3Response_1 = require(\"./Web3Response\");\nconst Web3ResponseMessage_1 = require(\"./Web3ResponseMessage\");\nclass WalletLinkRelay extends WalletLinkRelayAbstract_1.WalletLinkRelayAbstract {\n    constructor(options) {\n        super();\n        this.accountsCallback = null;\n        this.chainCallback = null;\n        this.appName = \"\";\n        this.appLogoUrl = null;\n        this.subscriptions = new rxjs_1.Subscription();\n        this.walletLinkUrl = options.walletLinkUrl;\n        this.storage = options.storage;\n        this._session =\n            Session_1.Session.load(options.storage) || new Session_1.Session(options.storage).save();\n        this.relayEventManager = options.relayEventManager;\n        this.walletLinkAnalytics = options.walletLinkAnalytics\n            ? options.walletLinkAnalytics\n            : new WalletLinkAnalytics_1.WalletLinkAnalytics();\n        this.connection = new WalletLinkConnection_1.WalletLinkConnection(this._session.id, this._session.key, this.walletLinkUrl, this.walletLinkAnalytics);\n        this.subscriptions.add(this.connection.incomingEvent$\n            .pipe((0, operators_1.filter)(m => m.event === \"Web3Response\"))\n            .subscribe({ next: this.handleIncomingEvent }) // eslint-disable-line @typescript-eslint/unbound-method\n        );\n        this.subscriptions.add(this.connection.linked$\n            .pipe((0, operators_1.skip)(1), (0, operators_1.tap)((linked) => {\n            var _a;\n            this.isLinked = linked;\n            const cachedAddresses = this.storage.getItem(WalletLinkRelayAbstract_1.LOCAL_STORAGE_ADDRESSES_KEY);\n            if (linked) {\n                // Only set linked session variable one way\n                this.session.linked = linked;\n            }\n            this.isUnlinkedErrorState = false;\n            if (cachedAddresses) {\n                const addresses = cachedAddresses.split(\" \");\n                const wasConnectedViaStandalone = this.storage.getItem(\"IsStandaloneSigning\") === \"true\";\n                if (addresses[0] !== \"\" &&\n                    !linked &&\n                    this.session.linked &&\n                    !wasConnectedViaStandalone) {\n                    this.isUnlinkedErrorState = true;\n                    const sessionIdHash = this.getSessionIdHash();\n                    (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.UNLINKED_ERROR_STATE, { sessionIdHash, origin: location.origin });\n                }\n            }\n        }))\n            .subscribe());\n        // if session is marked destroyed, reset and reload\n        this.subscriptions.add(this.connection.sessionConfig$\n            .pipe((0, operators_1.filter)(c => !!c.metadata && c.metadata.__destroyed === \"1\"))\n            .subscribe(() => {\n            var _a;\n            const alreadyDestroyed = this.connection.isDestroyed;\n            (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.METADATA_DESTROYED, {\n                alreadyDestroyed,\n                sessionIdHash: this.getSessionIdHash(),\n                origin: location.origin\n            });\n            return this.resetAndReload();\n        }));\n        this.subscriptions.add(this.connection.sessionConfig$\n            .pipe((0, operators_1.filter)(c => c.metadata && c.metadata.WalletUsername !== undefined))\n            .pipe((0, operators_1.mergeMap)(c => aes256gcm.decrypt(c.metadata.WalletUsername, this._session.secret)))\n            .subscribe({\n            next: walletUsername => {\n                this.storage.setItem(WalletLinkRelayAbstract_1.WALLET_USER_NAME_KEY, walletUsername);\n            },\n            error: () => {\n                var _a;\n                (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.GENERAL_ERROR, {\n                    message: \"Had error decrypting\",\n                    value: \"username\"\n                });\n            }\n        }));\n        this.subscriptions.add(this.connection.sessionConfig$\n            .pipe((0, operators_1.filter)(c => c.metadata && c.metadata.AppVersion !== undefined))\n            .pipe((0, operators_1.mergeMap)(c => aes256gcm.decrypt(c.metadata.AppVersion, this._session.secret)))\n            .subscribe({\n            next: appVersion => {\n                this.storage.setItem(WalletLinkRelayAbstract_1.APP_VERSION_KEY, appVersion);\n            },\n            error: () => {\n                var _a;\n                (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.GENERAL_ERROR, {\n                    message: \"Had error decrypting\",\n                    value: \"appversion\"\n                });\n            }\n        }));\n        this.subscriptions.add(this.connection.sessionConfig$\n            .pipe((0, operators_1.filter)(c => c.metadata &&\n            c.metadata.ChainId !== undefined &&\n            c.metadata.JsonRpcUrl !== undefined))\n            .pipe((0, operators_1.mergeMap)(c => (0, rxjs_1.zip)(aes256gcm.decrypt(c.metadata.ChainId, this._session.secret), aes256gcm.decrypt(c.metadata.JsonRpcUrl, this._session.secret))))\n            .pipe((0, operators_1.distinctUntilChanged)())\n            .subscribe({\n            next: ([chainId, jsonRpcUrl]) => {\n                if (this.chainCallback) {\n                    this.chainCallback(chainId, jsonRpcUrl);\n                }\n            },\n            error: () => {\n                var _a;\n                (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.GENERAL_ERROR, {\n                    message: \"Had error decrypting\",\n                    value: \"chainId|jsonRpcUrl\"\n                });\n            }\n        }));\n        this.subscriptions.add(this.connection.sessionConfig$\n            .pipe((0, operators_1.filter)(c => c.metadata && c.metadata.EthereumAddress !== undefined))\n            .pipe((0, operators_1.mergeMap)(c => aes256gcm.decrypt(c.metadata.EthereumAddress, this._session.secret)))\n            .subscribe({\n            next: selectedAddress => {\n                if (this.accountsCallback) {\n                    this.accountsCallback([selectedAddress]);\n                }\n                if (WalletLinkRelay.accountRequestCallbackIds.size > 0) {\n                    // We get the ethereum address from the metadata.  If for whatever\n                    // reason we don't get a response via an explicit web3 message\n                    // we can still fulfill the eip1102 request.\n                    Array.from(WalletLinkRelay.accountRequestCallbackIds.values()).forEach(id => {\n                        const message = (0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                            id,\n                            response: (0, Web3Response_1.RequestEthereumAccountsResponse)([\n                                selectedAddress\n                            ])\n                        });\n                        this.invokeCallback(Object.assign(Object.assign({}, message), { id }));\n                    });\n                    WalletLinkRelay.accountRequestCallbackIds.clear();\n                }\n            },\n            error: () => {\n                var _a;\n                (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.GENERAL_ERROR, {\n                    message: \"Had error decrypting\",\n                    value: \"selectedAddress\"\n                });\n            }\n        }));\n        this.ui = options.walletLinkUIConstructor({\n            walletLinkUrl: options.walletLinkUrl,\n            version: options.version,\n            darkMode: options.darkMode,\n            session: this._session,\n            connected$: this.connection.connected$\n        });\n        this.connection.connect();\n    }\n    attachUI() {\n        this.ui.attach();\n    }\n    resetAndReload() {\n        this.connection\n            .setSessionMetadata(\"__destroyed\", \"1\")\n            .pipe((0, operators_1.timeout)(1000), (0, operators_1.catchError)(_ => (0, rxjs_1.of)(null)))\n            .subscribe(_ => {\n            var _a, _b, _c;\n            try {\n                this.subscriptions.unsubscribe();\n            }\n            catch (err) {\n                (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.GENERAL_ERROR, {\n                    message: \"Had error unsubscribing\"\n                });\n            }\n            (_b = this.walletLinkAnalytics) === null || _b === void 0 ? void 0 : _b.sendEvent(init_1.EVENTS.SESSION_STATE_CHANGE, {\n                method: \"relay::resetAndReload\",\n                sessionMetadataChange: \"__destroyed, 1\",\n                sessionIdHash: this.getSessionIdHash(),\n                origin: location.origin\n            });\n            this.connection.destroy();\n            /**\n             * Only clear storage if the session id we have in memory matches the one on disk\n             * Otherwise, in the case where we have 2 tabs, another tab might have cleared\n             * storage already.  In that case if we clear storage again, the user will be in\n             * a state where the first tab allows the user to connect but the session that\n             * was used isn't persisted.  This leaves the user in a state where they aren't\n             * connected to the mobile app.\n             */\n            const storedSession = Session_1.Session.load(this.storage);\n            if ((storedSession === null || storedSession === void 0 ? void 0 : storedSession.id) === this._session.id) {\n                this.storage.clear();\n            }\n            else if (storedSession) {\n                (_c = this.walletLinkAnalytics) === null || _c === void 0 ? void 0 : _c.sendEvent(init_1.EVENTS.SKIPPED_CLEARING_SESSION, {\n                    sessionIdHash: this.getSessionIdHash(),\n                    storedSessionIdHash: Session_1.Session.hash(storedSession.id),\n                    origin: location.origin\n                });\n            }\n            this.ui.reloadUI();\n        }, (err) => {\n            var _a;\n            (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.FAILURE, {\n                method: \"relay::resetAndReload\",\n                message: `failed to reset and reload with ${err}`,\n                sessionIdHash: this.getSessionIdHash()\n            });\n        });\n    }\n    setAppInfo(appName, appLogoUrl) {\n        this.appName = appName;\n        this.appLogoUrl = appLogoUrl;\n    }\n    getStorageItem(key) {\n        return this.storage.getItem(key);\n    }\n    get session() {\n        return this._session;\n    }\n    setStorageItem(key, value) {\n        this.storage.setItem(key, value);\n    }\n    signEthereumMessage(message, address, addPrefix, typedDataJson) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.signEthereumMessage,\n            params: {\n                message: (0, util_1.hexStringFromBuffer)(message, true),\n                address,\n                addPrefix,\n                typedDataJson: typedDataJson || null\n            }\n        });\n    }\n    ethereumAddressFromSignedMessage(message, signature, addPrefix) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.ethereumAddressFromSignedMessage,\n            params: {\n                message: (0, util_1.hexStringFromBuffer)(message, true),\n                signature: (0, util_1.hexStringFromBuffer)(signature, true),\n                addPrefix\n            }\n        });\n    }\n    signEthereumTransaction(params) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.signEthereumTransaction,\n            params: {\n                fromAddress: params.fromAddress,\n                toAddress: params.toAddress,\n                weiValue: (0, util_1.bigIntStringFromBN)(params.weiValue),\n                data: (0, util_1.hexStringFromBuffer)(params.data, true),\n                nonce: params.nonce,\n                gasPriceInWei: params.gasPriceInWei\n                    ? (0, util_1.bigIntStringFromBN)(params.gasPriceInWei)\n                    : null,\n                maxFeePerGas: params.gasPriceInWei\n                    ? (0, util_1.bigIntStringFromBN)(params.gasPriceInWei)\n                    : null,\n                maxPriorityFeePerGas: params.gasPriceInWei\n                    ? (0, util_1.bigIntStringFromBN)(params.gasPriceInWei)\n                    : null,\n                gasLimit: params.gasLimit ? (0, util_1.bigIntStringFromBN)(params.gasLimit) : null,\n                chainId: params.chainId,\n                shouldSubmit: false\n            }\n        });\n    }\n    signAndSubmitEthereumTransaction(params) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.signEthereumTransaction,\n            params: {\n                fromAddress: params.fromAddress,\n                toAddress: params.toAddress,\n                weiValue: (0, util_1.bigIntStringFromBN)(params.weiValue),\n                data: (0, util_1.hexStringFromBuffer)(params.data, true),\n                nonce: params.nonce,\n                gasPriceInWei: params.gasPriceInWei\n                    ? (0, util_1.bigIntStringFromBN)(params.gasPriceInWei)\n                    : null,\n                maxFeePerGas: params.maxFeePerGas\n                    ? (0, util_1.bigIntStringFromBN)(params.maxFeePerGas)\n                    : null,\n                maxPriorityFeePerGas: params.maxPriorityFeePerGas\n                    ? (0, util_1.bigIntStringFromBN)(params.maxPriorityFeePerGas)\n                    : null,\n                gasLimit: params.gasLimit ? (0, util_1.bigIntStringFromBN)(params.gasLimit) : null,\n                chainId: params.chainId,\n                shouldSubmit: true\n            }\n        });\n    }\n    submitEthereumTransaction(signedTransaction, chainId) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.submitEthereumTransaction,\n            params: {\n                signedTransaction: (0, util_1.hexStringFromBuffer)(signedTransaction, true),\n                chainId\n            }\n        });\n    }\n    scanQRCode(regExp) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.scanQRCode,\n            params: { regExp }\n        });\n    }\n    genericRequest(data, action) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.generic,\n            params: {\n                action,\n                data\n            }\n        });\n    }\n    sendGenericMessage(request) {\n        return this.sendRequest(request);\n    }\n    sendRequest(request) {\n        let hideSnackbarItem = null;\n        const id = (0, util_1.randomBytesHex)(8);\n        const cancel = () => {\n            this.publishWeb3RequestCanceledEvent(id);\n            this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                id,\n                response: (0, Web3Response_1.ErrorResponse)(request.method, \"User rejected request\")\n            }));\n            hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n        };\n        const promise = new Promise((resolve, reject) => {\n            if (!this.ui.isStandalone()) {\n                hideSnackbarItem = this.ui.showConnecting({\n                    isUnlinkedErrorState: this.isUnlinkedErrorState,\n                    onCancel: cancel,\n                    onResetConnection: this.resetAndReload // eslint-disable-line @typescript-eslint/unbound-method\n                });\n            }\n            this.relayEventManager.callbacks.set(id, response => {\n                hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n                if (response.errorMessage) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            if (this.ui.isStandalone()) {\n                this.sendRequestStandalone(id, request);\n            }\n            else {\n                this.publishWeb3RequestEvent(id, request);\n            }\n        });\n        return { promise, cancel };\n    }\n    setConnectDisabled(disabled) {\n        this.ui.setConnectDisabled(disabled);\n    }\n    setAccountsCallback(accountsCallback) {\n        this.accountsCallback = accountsCallback;\n    }\n    setChainCallback(chainCallback) {\n        this.chainCallback = chainCallback;\n    }\n    publishWeb3RequestEvent(id, request) {\n        var _a;\n        const message = (0, Web3RequestMessage_1.Web3RequestMessage)({ id, request });\n        const storedSession = Session_1.Session.load(this.storage);\n        (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.WEB3_REQUEST, {\n            eventId: message.id,\n            method: `relay::${message.request.method}`,\n            sessionIdHash: this.getSessionIdHash(),\n            storedSessionIdHash: storedSession ? Session_1.Session.hash(storedSession.id) : \"\",\n            isSessionMismatched: ((storedSession === null || storedSession === void 0 ? void 0 : storedSession.id) !== this._session.id).toString(),\n            origin: location.origin\n        });\n        this.subscriptions.add(this.publishEvent(\"Web3Request\", message, true).subscribe({\n            next: _ => {\n                var _a;\n                (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.WEB3_REQUEST_PUBLISHED, {\n                    eventId: message.id,\n                    method: `relay::${message.request.method}`,\n                    sessionIdHash: this.getSessionIdHash(),\n                    storedSessionIdHash: storedSession\n                        ? Session_1.Session.hash(storedSession.id)\n                        : \"\",\n                    isSessionMismatched: ((storedSession === null || storedSession === void 0 ? void 0 : storedSession.id) !== this._session.id).toString(),\n                    origin: location.origin\n                });\n            },\n            error: err => {\n                this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                    id: message.id,\n                    response: {\n                        method: message.request.method,\n                        errorMessage: err.message\n                    }\n                }));\n            }\n        }));\n    }\n    publishWeb3RequestCanceledEvent(id) {\n        const message = (0, Web3RequestCanceledMessage_1.Web3RequestCanceledMessage)(id);\n        this.subscriptions.add(this.publishEvent(\"Web3RequestCanceled\", message, false).subscribe());\n    }\n    publishEvent(event, message, callWebhook) {\n        const secret = this.session.secret;\n        return new rxjs_1.Observable(subscriber => {\n            void aes256gcm\n                .encrypt(JSON.stringify(Object.assign(Object.assign({}, message), { origin: location.origin })), secret)\n                .then((encrypted) => {\n                subscriber.next(encrypted);\n                subscriber.complete();\n            });\n        }).pipe((0, operators_1.mergeMap)((encrypted) => {\n            return this.connection.publishEvent(event, encrypted, callWebhook);\n        }));\n    }\n    handleIncomingEvent(event) {\n        try {\n            this.subscriptions.add(aes256gcm\n                .decrypt(event.data, this.session.secret)\n                .pipe((0, operators_1.map)(c => JSON.parse(c)))\n                .subscribe({\n                next: json => {\n                    const message = (0, Web3ResponseMessage_1.isWeb3ResponseMessage)(json) ? json : null;\n                    if (!message) {\n                        return;\n                    }\n                    this.handleWeb3ResponseMessage(message);\n                },\n                error: () => {\n                    var _a;\n                    (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.GENERAL_ERROR, {\n                        message: \"Had error decrypting\",\n                        value: \"incomingEvent\"\n                    });\n                }\n            }));\n        }\n        catch (_a) {\n            return;\n        }\n    }\n    handleWeb3ResponseMessage(message) {\n        var _a;\n        const { response } = message;\n        (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.WEB3_RESPONSE, {\n            eventId: message.id,\n            method: `relay::${response.method}`,\n            sessionIdHash: this.getSessionIdHash(),\n            origin: location.origin\n        });\n        if ((0, Web3Response_1.isRequestEthereumAccountsResponse)(response)) {\n            Array.from(WalletLinkRelay.accountRequestCallbackIds.values()).forEach(id => this.invokeCallback(Object.assign(Object.assign({}, message), { id })));\n            WalletLinkRelay.accountRequestCallbackIds.clear();\n            return;\n        }\n        this.invokeCallback(message);\n    }\n    invokeCallback(message) {\n        const callback = this.relayEventManager.callbacks.get(message.id);\n        if (callback) {\n            callback(message.response);\n            this.relayEventManager.callbacks.delete(message.id);\n        }\n    }\n    requestEthereumAccounts() {\n        let request = {\n            method: Web3Method_1.Web3Method.requestEthereumAccounts,\n            params: {\n                appName: this.appName,\n                appLogoUrl: this.appLogoUrl || null\n            }\n        };\n        let hideSnackbarItem = null;\n        const id = (0, util_1.randomBytesHex)(8);\n        const cancel = () => {\n            this.publishWeb3RequestCanceledEvent(id);\n            this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                id,\n                response: (0, Web3Response_1.ErrorResponse)(request.method, \"User rejected request\")\n            }));\n            hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n        };\n        const promise = new Promise((resolve, reject) => {\n            var _a;\n            this.relayEventManager.callbacks.set(id, response => {\n                this.ui.hideRequestEthereumAccounts();\n                hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n                if (response.errorMessage) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            const userAgent = ((_a = window === null || window === void 0 ? void 0 : window.navigator) === null || _a === void 0 ? void 0 : _a.userAgent) || null;\n            if (userAgent &&\n                /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(userAgent)) {\n                window.location.href = `https://go.cb-w.com/xoXnYwQimhb?cb_url=${encodeURIComponent(window.location.href)}`;\n                return;\n            }\n            if (this.ui.inlineAccountsResponse()) {\n                const onAccounts = (accounts) => {\n                    this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                        id,\n                        response: (0, Web3Response_1.RequestEthereumAccountsResponse)(accounts)\n                    }));\n                };\n                this.ui.requestEthereumAccounts({\n                    onCancel: cancel,\n                    onAccounts\n                });\n            }\n            else {\n                this.ui.requestEthereumAccounts({\n                    onCancel: cancel\n                });\n            }\n            WalletLinkRelay.accountRequestCallbackIds.add(id);\n            if (!this.ui.inlineAccountsResponse() && !this.ui.isStandalone()) {\n                this.publishWeb3RequestEvent(id, request);\n            }\n        });\n        return { promise, cancel };\n    }\n    watchAsset(type, address, symbol, decimals, image) {\n        const request = {\n            method: Web3Method_1.Web3Method.watchAsset,\n            params: {\n                type,\n                options: {\n                    address,\n                    symbol,\n                    decimals,\n                    image\n                }\n            }\n        };\n        let hideSnackbarItem = null;\n        const id = (0, util_1.randomBytesHex)(8);\n        const cancel = () => {\n            this.publishWeb3RequestCanceledEvent(id);\n            this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                id,\n                response: (0, Web3Response_1.ErrorResponse)(request.method, \"User rejected request\")\n            }));\n            hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n        };\n        if (!this.ui.inlineWatchAsset()) {\n            hideSnackbarItem = this.ui.showConnecting({\n                isUnlinkedErrorState: this.isUnlinkedErrorState,\n                onCancel: cancel,\n                onResetConnection: this.resetAndReload // eslint-disable-line @typescript-eslint/unbound-method\n            });\n        }\n        const promise = new Promise((resolve, reject) => {\n            this.relayEventManager.callbacks.set(id, response => {\n                hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n                if (response.errorMessage) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            const _cancel = () => {\n                this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                    id,\n                    response: (0, Web3Response_1.WatchAssetReponse)(false)\n                }));\n            };\n            const approve = () => {\n                this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                    id,\n                    response: (0, Web3Response_1.WatchAssetReponse)(true)\n                }));\n            };\n            if (this.ui.inlineWatchAsset()) {\n                this.ui.watchAsset({\n                    onApprove: approve,\n                    onCancel: _cancel,\n                    type,\n                    address,\n                    symbol,\n                    decimals,\n                    image\n                });\n            }\n            if (!this.ui.inlineWatchAsset() && !this.ui.isStandalone()) {\n                this.publishWeb3RequestEvent(id, request);\n            }\n        });\n        return { cancel, promise };\n    }\n    addEthereumChain(chainId, rpcUrls, iconUrls, blockExplorerUrls, chainName, nativeCurrency) {\n        let request = {\n            method: Web3Method_1.Web3Method.addEthereumChain,\n            params: {\n                chainId,\n                rpcUrls,\n                blockExplorerUrls,\n                chainName,\n                iconUrls,\n                nativeCurrency\n            }\n        };\n        let hideSnackbarItem = null;\n        const id = (0, util_1.randomBytesHex)(8);\n        const cancel = () => {\n            this.publishWeb3RequestCanceledEvent(id);\n            this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                id,\n                response: (0, Web3Response_1.ErrorResponse)(request.method, \"User rejected request\")\n            }));\n            hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n        };\n        if (!this.ui.inlineAddEthereumChain(chainId)) {\n            hideSnackbarItem = this.ui.showConnecting({\n                isUnlinkedErrorState: this.isUnlinkedErrorState,\n                onCancel: cancel,\n                onResetConnection: this.resetAndReload // eslint-disable-line @typescript-eslint/unbound-method\n            });\n        }\n        const promise = new Promise((resolve, reject) => {\n            this.relayEventManager.callbacks.set(id, response => {\n                hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n                if (response.errorMessage) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            const _cancel = () => {\n                this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                    id,\n                    response: (0, Web3Response_1.AddEthereumChainResponse)({\n                        isApproved: false,\n                        rpcUrl: \"\"\n                    })\n                }));\n            };\n            const approve = (rpcUrl) => {\n                this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                    id,\n                    response: (0, Web3Response_1.AddEthereumChainResponse)({ isApproved: true, rpcUrl })\n                }));\n            };\n            if (this.ui.inlineAddEthereumChain(chainId)) {\n                this.ui.addEthereumChain({\n                    onCancel: _cancel,\n                    onApprove: approve,\n                    chainId: request.params.chainId,\n                    rpcUrls: request.params.rpcUrls,\n                    blockExplorerUrls: request.params\n                        .blockExplorerUrls,\n                    chainName: request.params.chainName,\n                    iconUrls: request.params.iconUrls,\n                    nativeCurrency: request.params\n                        .nativeCurrency\n                });\n            }\n            if (!this.ui.inlineAddEthereumChain(chainId) && !this.ui.isStandalone()) {\n                this.publishWeb3RequestEvent(id, request);\n            }\n        });\n        return { promise, cancel };\n    }\n    switchEthereumChain(chainId) {\n        let request = {\n            method: Web3Method_1.Web3Method.switchEthereumChain,\n            params: {\n                chainId\n            }\n        };\n        let hideSnackbarItem = null;\n        const id = (0, util_1.randomBytesHex)(8);\n        const cancel = () => {\n            this.publishWeb3RequestCanceledEvent(id);\n            this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                id,\n                response: (0, Web3Response_1.ErrorResponse)(request.method, \"User rejected request\")\n            }));\n            hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n        };\n        if (!this.ui.inlineSwitchEthereumChain()) {\n            hideSnackbarItem = this.ui.showConnecting({\n                isUnlinkedErrorState: this.isUnlinkedErrorState,\n                onCancel: cancel,\n                onResetConnection: this.resetAndReload // eslint-disable-line @typescript-eslint/unbound-method\n            });\n        }\n        const promise = new Promise((resolve, reject) => {\n            this.relayEventManager.callbacks.set(id, response => {\n                hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n                if (response.errorMessage && response.errorCode) {\n                    return reject(eth_rpc_errors_1.ethErrors.provider.custom({\n                        code: response.errorCode,\n                        message: `Unrecognized chain ID. Try adding the chain using addEthereumChain first.`\n                    }));\n                }\n                else if (response.errorMessage) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            const _cancel = (errorCode) => {\n                if (errorCode) {\n                    this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                        id,\n                        response: (0, Web3Response_1.ErrorResponse)(Web3Method_1.Web3Method.switchEthereumChain, \"unsupported chainId\", errorCode)\n                    }));\n                }\n                else {\n                    this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                        id,\n                        response: (0, Web3Response_1.SwitchEthereumChainResponse)({\n                            isApproved: false,\n                            rpcUrl: \"\"\n                        })\n                    }));\n                }\n            };\n            const approve = (rpcUrl) => {\n                this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                    id,\n                    response: (0, Web3Response_1.SwitchEthereumChainResponse)({\n                        isApproved: true,\n                        rpcUrl\n                    })\n                }));\n            };\n            this.ui.switchEthereumChain({\n                onCancel: _cancel,\n                onApprove: approve,\n                chainId: request.params.chainId\n            });\n            if (!this.ui.inlineSwitchEthereumChain() && !this.ui.isStandalone()) {\n                this.publishWeb3RequestEvent(id, request);\n            }\n        });\n        return { promise, cancel };\n    }\n    getSessionIdHash() {\n        return Session_1.Session.hash(this._session.id);\n    }\n    sendRequestStandalone(id, request) {\n        const _cancel = () => {\n            this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                id,\n                response: (0, Web3Response_1.ErrorResponse)(request.method, \"User rejected request\")\n            }));\n        };\n        const onSuccess = (response) => {\n            this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                id,\n                response\n            }));\n        };\n        switch (request.method) {\n            case Web3Method_1.Web3Method.signEthereumMessage:\n                this.ui.signEthereumMessage({\n                    request,\n                    onSuccess,\n                    onCancel: _cancel\n                });\n                break;\n            case Web3Method_1.Web3Method.signEthereumTransaction:\n                this.ui.signEthereumTransaction({\n                    request,\n                    onSuccess,\n                    onCancel: _cancel\n                });\n                break;\n            case Web3Method_1.Web3Method.submitEthereumTransaction:\n                this.ui.submitEthereumTransaction({\n                    request,\n                    onSuccess,\n                    onCancel: _cancel\n                });\n                break;\n            case Web3Method_1.Web3Method.ethereumAddressFromSignedMessage:\n                this.ui.ethereumAddressFromSignedMessage({\n                    request,\n                    onSuccess\n                });\n                break;\n            default:\n                _cancel();\n                break;\n        }\n    }\n}\nWalletLinkRelay.accountRequestCallbackIds = new Set();\n__decorate([\n    bind_decorator_1.default\n], WalletLinkRelay.prototype, \"resetAndReload\", null);\n__decorate([\n    bind_decorator_1.default\n], WalletLinkRelay.prototype, \"handleIncomingEvent\", null);\nexports.WalletLinkRelay = WalletLinkRelay;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar constants;\n(function (constants) {\n    constants.typeOfFunction = 'function';\n    constants.boolTrue = true;\n})(constants || (constants = {}));\nfunction bind(target, propertyKey, descriptor) {\n    if (!descriptor || (typeof descriptor.value !== constants.typeOfFunction)) {\n        throw new TypeError(\"Only methods can be decorated with @bind. <\" + propertyKey + \"> is not a method!\");\n    }\n    return {\n        configurable: constants.boolTrue,\n        get: function () {\n            var bound = descriptor.value.bind(this);\n            // Credits to https://github.com/andreypopp/autobind-decorator for memoizing the result of bind against a symbol on the instance.\n            Object.defineProperty(this, propertyKey, {\n                value: bound,\n                configurable: constants.boolTrue,\n                writable: constants.boolTrue\n            });\n            return bound;\n        }\n    };\n}\nexports.bind = bind;\nexports.default = bind;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkConnection = void 0;\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nconst init_1 = require(\"../init\");\nconst Session_1 = require(\"../relay/Session\");\nconst types_1 = require(\"../types\");\nconst ClientMessage_1 = require(\"./ClientMessage\");\nconst RxWebSocket_1 = require(\"./RxWebSocket\");\nconst ServerMessage_1 = require(\"./ServerMessage\");\nconst HEARTBEAT_INTERVAL = 10000;\nconst REQUEST_TIMEOUT = 60000;\n/**\n * WalletLink Connection\n */\nclass WalletLinkConnection {\n    /**\n     * Constructor\n     * @param sessionId Session ID\n     * @param sessionKey Session Key\n     * @param serverUrl Walletlinkd RPC URL\n     * @param [WebSocketClass] Custom WebSocket implementation\n     */\n    constructor(sessionId, sessionKey, serverUrl, walletLinkAnalytics, WebSocketClass = WebSocket) {\n        this.sessionId = sessionId;\n        this.sessionKey = sessionKey;\n        this.subscriptions = new rxjs_1.Subscription();\n        this.destroyed = false;\n        this.lastHeartbeatResponse = 0;\n        this.nextReqId = (0, types_1.IntNumber)(1);\n        this.connectedSubject = new rxjs_1.BehaviorSubject(false);\n        this.linkedSubject = new rxjs_1.BehaviorSubject(false);\n        this.sessionConfigSubject = new rxjs_1.ReplaySubject(1);\n        const ws = new RxWebSocket_1.RxWebSocket(serverUrl + \"/rpc\", WebSocketClass);\n        this.ws = ws;\n        this.walletLinkAnalytics = walletLinkAnalytics;\n        // attempt to reconnect every 5 seconds when disconnected\n        this.subscriptions.add(ws.connectionState$\n            .pipe((0, operators_1.tap)(state => this.walletLinkAnalytics.sendEvent(init_1.EVENTS.CONNECTED_STATE_CHANGE, {\n            state,\n            sessionIdHash: Session_1.Session.hash(sessionId)\n        })), \n        // ignore initial DISCONNECTED state\n        (0, operators_1.skip)(1), \n        // if DISCONNECTED and not destroyed\n        (0, operators_1.filter)(cs => cs === RxWebSocket_1.ConnectionState.DISCONNECTED && !this.destroyed), \n        // wait 5 seconds\n        (0, operators_1.delay)(5000), \n        // check whether it's destroyed again\n        (0, operators_1.filter)(_ => !this.destroyed), \n        // reconnect\n        (0, operators_1.flatMap)(_ => ws.connect()), (0, operators_1.retry)())\n            .subscribe());\n        // perform authentication upon connection\n        this.subscriptions.add(ws.connectionState$\n            .pipe(\n        // ignore initial DISCONNECTED and CONNECTING states\n        (0, operators_1.skip)(2), (0, operators_1.switchMap)(cs => (0, rxjs_1.iif)(() => cs === RxWebSocket_1.ConnectionState.CONNECTED, \n        // if CONNECTED, authenticate, and then check link status\n        this.authenticate().pipe((0, operators_1.tap)(_ => this.sendIsLinked()), (0, operators_1.tap)(_ => this.sendGetSessionConfig()), (0, operators_1.map)(_ => true)), \n        // if not CONNECTED, emit false immediately\n        (0, rxjs_1.of)(false))), (0, operators_1.distinctUntilChanged)(), (0, operators_1.catchError)(_ => (0, rxjs_1.of)(false)))\n            .subscribe(connected => this.connectedSubject.next(connected)));\n        // send heartbeat every n seconds while connected\n        this.subscriptions.add(ws.connectionState$\n            .pipe(\n        // ignore initial DISCONNECTED state\n        (0, operators_1.skip)(1), (0, operators_1.switchMap)(cs => (0, rxjs_1.iif)(() => cs === RxWebSocket_1.ConnectionState.CONNECTED, \n        // if CONNECTED, start the heartbeat timer\n        (0, rxjs_1.timer)(0, HEARTBEAT_INTERVAL))))\n            .subscribe(i => \n        // first timer event updates lastHeartbeat timestamp\n        // subsequent calls send heartbeat message\n        i === 0 ? this.updateLastHeartbeat() : this.heartbeat()));\n        // handle server's heartbeat responses\n        this.subscriptions.add(ws.incomingData$\n            .pipe((0, operators_1.filter)(m => m === \"h\"))\n            .subscribe(_ => this.updateLastHeartbeat()));\n        // handle link status updates\n        this.subscriptions.add(ws.incomingJSONData$\n            .pipe((0, operators_1.filter)(m => [\"IsLinkedOK\", \"Linked\"].includes(m.type)))\n            .subscribe(m => {\n            const msg = m;\n            this.walletLinkAnalytics.sendEvent(init_1.EVENTS.LINKED, {\n                sessionIdHash: Session_1.Session.hash(sessionId),\n                linked: msg.linked,\n                type: m.type,\n                onlineGuests: msg.onlineGuests\n            });\n            this.linkedSubject.next(msg.linked || msg.onlineGuests > 0);\n        }));\n        // handle session config updates\n        this.subscriptions.add(ws.incomingJSONData$\n            .pipe((0, operators_1.filter)(m => [\"GetSessionConfigOK\", \"SessionConfigUpdated\"].includes(m.type)))\n            .subscribe(m => {\n            const msg = m;\n            this.walletLinkAnalytics.sendEvent(init_1.EVENTS.SESSION_CONFIG_RECEIVED, {\n                sessionIdHash: Session_1.Session.hash(sessionId),\n                metadata_keys: msg && msg.metadata ? Object.keys(msg.metadata) : undefined\n            });\n            this.sessionConfigSubject.next({\n                webhookId: msg.webhookId,\n                webhookUrl: msg.webhookUrl,\n                metadata: msg.metadata\n            });\n        }));\n    }\n    /**\n     * Make a connection to the server\n     */\n    connect() {\n        if (this.destroyed) {\n            throw new Error(\"instance is destroyed\");\n        }\n        this.walletLinkAnalytics.sendEvent(init_1.EVENTS.STARTED_CONNECTING, {\n            sessionIdHash: Session_1.Session.hash(this.sessionId)\n        });\n        this.ws.connect().subscribe();\n    }\n    /**\n     * Terminate connection, and mark as destroyed. To reconnect, create a new\n     * instance of WalletLinkConnection\n     */\n    destroy() {\n        this.subscriptions.unsubscribe();\n        this.ws.disconnect();\n        this.walletLinkAnalytics.sendEvent(init_1.EVENTS.DISCONNECTED, {\n            sessionIdHash: Session_1.Session.hash(this.sessionId)\n        });\n        this.destroyed = true;\n    }\n    get isDestroyed() {\n        return this.destroyed;\n    }\n    /**\n     * Emit true if connected and authenticated, else false\n     * @returns an Observable\n     */\n    get connected$() {\n        return this.connectedSubject.asObservable();\n    }\n    /**\n     * Emit once connected\n     * @returns an Observable\n     */\n    get onceConnected$() {\n        return this.connected$.pipe((0, operators_1.filter)(v => v), (0, operators_1.take)(1), (0, operators_1.map)(() => void 0));\n    }\n    /**\n     * Emit true if linked (a guest has joined before)\n     * @returns an Observable\n     */\n    get linked$() {\n        return this.linkedSubject.asObservable();\n    }\n    /**\n     * Emit once when linked\n     * @returns an Observable\n     */\n    get onceLinked$() {\n        return this.linked$.pipe((0, operators_1.filter)(v => v), (0, operators_1.take)(1), (0, operators_1.map)(() => void 0));\n    }\n    /**\n     * Emit current session config if available, and subsequent updates\n     * @returns an Observable for the session config\n     */\n    get sessionConfig$() {\n        return this.sessionConfigSubject.asObservable();\n    }\n    /**\n     * Emit incoming Event messages\n     * @returns an Observable for the messages\n     */\n    get incomingEvent$() {\n        return this.ws.incomingJSONData$.pipe((0, operators_1.filter)(m => {\n            if (m.type !== \"Event\") {\n                return false;\n            }\n            const sme = m;\n            return (typeof sme.sessionId === \"string\" &&\n                typeof sme.eventId === \"string\" &&\n                typeof sme.event === \"string\" &&\n                typeof sme.data === \"string\");\n        }), (0, operators_1.map)(m => m));\n    }\n    /**\n     * Set session metadata in SessionConfig object\n     * @param key\n     * @param value\n     * @returns an Observable that completes when successful\n     */\n    setSessionMetadata(key, value) {\n        const message = (0, ClientMessage_1.ClientMessageSetSessionConfig)({\n            id: (0, types_1.IntNumber)(this.nextReqId++),\n            sessionId: this.sessionId,\n            metadata: { [key]: value }\n        });\n        return this.onceConnected$.pipe((0, operators_1.flatMap)(_ => this.makeRequest(message)), (0, operators_1.map)(res => {\n            if ((0, ServerMessage_1.isServerMessageFail)(res)) {\n                throw new Error(res.error || \"failed to set session metadata\");\n            }\n        }));\n    }\n    /**\n     * Publish an event and emit event ID when successful\n     * @param event event name\n     * @param data event data\n     * @param callWebhook whether the webhook should be invoked\n     * @returns an Observable that emits event ID when successful\n     */\n    publishEvent(event, data, callWebhook = false) {\n        const message = (0, ClientMessage_1.ClientMessagePublishEvent)({\n            id: (0, types_1.IntNumber)(this.nextReqId++),\n            sessionId: this.sessionId,\n            event,\n            data,\n            callWebhook\n        });\n        return this.onceLinked$.pipe((0, operators_1.flatMap)(_ => this.makeRequest(message)), (0, operators_1.map)(res => {\n            if ((0, ServerMessage_1.isServerMessageFail)(res)) {\n                throw new Error(res.error || \"failed to publish event\");\n            }\n            return res.eventId;\n        }));\n    }\n    sendData(message) {\n        this.ws.sendData(JSON.stringify(message));\n    }\n    updateLastHeartbeat() {\n        this.lastHeartbeatResponse = Date.now();\n    }\n    heartbeat() {\n        if (Date.now() - this.lastHeartbeatResponse > HEARTBEAT_INTERVAL * 2) {\n            this.ws.disconnect();\n            return;\n        }\n        try {\n            this.ws.sendData(\"h\");\n        }\n        catch (_a) { }\n    }\n    makeRequest(message, timeout = REQUEST_TIMEOUT) {\n        const reqId = message.id;\n        try {\n            this.sendData(message);\n        }\n        catch (err) {\n            return (0, rxjs_1.throwError)(err);\n        }\n        // await server message with corresponding id\n        return this.ws.incomingJSONData$.pipe((0, operators_1.timeoutWith)(timeout, (0, rxjs_1.throwError)(new Error(`request ${reqId} timed out`))), (0, operators_1.filter)(m => m.id === reqId), (0, operators_1.take)(1));\n    }\n    authenticate() {\n        const msg = (0, ClientMessage_1.ClientMessageHostSession)({\n            id: (0, types_1.IntNumber)(this.nextReqId++),\n            sessionId: this.sessionId,\n            sessionKey: this.sessionKey\n        });\n        return this.makeRequest(msg).pipe((0, operators_1.map)(res => {\n            if ((0, ServerMessage_1.isServerMessageFail)(res)) {\n                throw new Error(res.error || \"failed to authentcate\");\n            }\n        }));\n    }\n    sendIsLinked() {\n        const msg = (0, ClientMessage_1.ClientMessageIsLinked)({\n            id: (0, types_1.IntNumber)(this.nextReqId++),\n            sessionId: this.sessionId\n        });\n        this.sendData(msg);\n    }\n    sendGetSessionConfig() {\n        const msg = (0, ClientMessage_1.ClientMessageGetSessionConfig)({\n            id: (0, types_1.IntNumber)(this.nextReqId++),\n            sessionId: this.sessionId\n        });\n        this.sendData(msg);\n    }\n}\nexports.WalletLinkConnection = WalletLinkConnection;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ClientMessagePublishEvent = exports.ClientMessageSetSessionConfig = exports.ClientMessageGetSessionConfig = exports.ClientMessageIsLinked = exports.ClientMessageHostSession = void 0;\nfunction ClientMessageHostSession(params) {\n    return Object.assign({ type: \"HostSession\" }, params);\n}\nexports.ClientMessageHostSession = ClientMessageHostSession;\nfunction ClientMessageIsLinked(params) {\n    return Object.assign({ type: \"IsLinked\" }, params);\n}\nexports.ClientMessageIsLinked = ClientMessageIsLinked;\nfunction ClientMessageGetSessionConfig(params) {\n    return Object.assign({ type: \"GetSessionConfig\" }, params);\n}\nexports.ClientMessageGetSessionConfig = ClientMessageGetSessionConfig;\nfunction ClientMessageSetSessionConfig(params) {\n    return Object.assign({ type: \"SetSessionConfig\" }, params);\n}\nexports.ClientMessageSetSessionConfig = ClientMessageSetSessionConfig;\nfunction ClientMessagePublishEvent(params) {\n    return Object.assign({ type: \"PublishEvent\" }, params);\n}\nexports.ClientMessagePublishEvent = ClientMessagePublishEvent;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RxWebSocket = exports.ConnectionState = void 0;\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nvar ConnectionState;\n(function (ConnectionState) {\n    ConnectionState[ConnectionState[\"DISCONNECTED\"] = 0] = \"DISCONNECTED\";\n    ConnectionState[ConnectionState[\"CONNECTING\"] = 1] = \"CONNECTING\";\n    ConnectionState[ConnectionState[\"CONNECTED\"] = 2] = \"CONNECTED\";\n})(ConnectionState = exports.ConnectionState || (exports.ConnectionState = {}));\n/**\n * Rx-ified WebSocket\n */\nclass RxWebSocket {\n    /**\n     * Constructor\n     * @param url WebSocket server URL\n     * @param [WebSocketClass] Custom WebSocket implementation\n     */\n    constructor(url, WebSocketClass = WebSocket) {\n        this.WebSocketClass = WebSocketClass;\n        this.webSocket = null;\n        this.connectionStateSubject = new rxjs_1.BehaviorSubject(ConnectionState.DISCONNECTED);\n        this.incomingDataSubject = new rxjs_1.Subject();\n        this.url = url.replace(/^http/, \"ws\");\n    }\n    /**\n     * Make a websocket connection\n     * @returns an Observable that completes when connected\n     */\n    connect() {\n        if (this.webSocket) {\n            return (0, rxjs_1.throwError)(new Error(\"webSocket object is not null\"));\n        }\n        return new rxjs_1.Observable(obs => {\n            let webSocket;\n            try {\n                this.webSocket = webSocket = new this.WebSocketClass(this.url);\n            }\n            catch (err) {\n                obs.error(err);\n                return;\n            }\n            this.connectionStateSubject.next(ConnectionState.CONNECTING);\n            webSocket.onclose = evt => {\n                this.clearWebSocket();\n                obs.error(new Error(`websocket error ${evt.code}: ${evt.reason}`));\n                this.connectionStateSubject.next(ConnectionState.DISCONNECTED);\n            };\n            webSocket.onopen = _ => {\n                obs.next();\n                obs.complete();\n                this.connectionStateSubject.next(ConnectionState.CONNECTED);\n            };\n            webSocket.onmessage = evt => {\n                this.incomingDataSubject.next(evt.data);\n            };\n        }).pipe((0, operators_1.take)(1));\n    }\n    /**\n     * Disconnect from server\n     */\n    disconnect() {\n        const { webSocket } = this;\n        if (!webSocket) {\n            return;\n        }\n        this.clearWebSocket();\n        this.connectionStateSubject.next(ConnectionState.DISCONNECTED);\n        try {\n            webSocket.close();\n        }\n        catch (_a) { }\n    }\n    /**\n     * Emit current connection state and subsequent changes\n     * @returns an Observable for the connection state\n     */\n    get connectionState$() {\n        return this.connectionStateSubject.asObservable();\n    }\n    /**\n     * Emit incoming data from server\n     * @returns an Observable for the data received\n     */\n    get incomingData$() {\n        return this.incomingDataSubject.asObservable();\n    }\n    /**\n     * Emit incoming JSON data from server. non-JSON data are ignored\n     * @returns an Observable for parsed JSON data\n     */\n    get incomingJSONData$() {\n        return this.incomingData$.pipe((0, operators_1.flatMap)(m => {\n            let j;\n            try {\n                j = JSON.parse(m);\n            }\n            catch (err) {\n                return (0, rxjs_1.empty)();\n            }\n            return (0, rxjs_1.of)(j);\n        }));\n    }\n    /**\n     * Send data to server\n     * @param data text to send\n     */\n    sendData(data) {\n        const { webSocket } = this;\n        if (!webSocket) {\n            throw new Error(\"websocket is not connected\");\n        }\n        webSocket.send(data);\n    }\n    clearWebSocket() {\n        const { webSocket } = this;\n        if (!webSocket) {\n            return;\n        }\n        this.webSocket = null;\n        webSocket.onclose = null;\n        webSocket.onerror = null;\n        webSocket.onmessage = null;\n        webSocket.onopen = null;\n    }\n}\nexports.RxWebSocket = RxWebSocket;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isServerMessageFail = void 0;\nfunction isServerMessageFail(msg) {\n    return (msg &&\n        msg.type === \"Fail\" &&\n        typeof msg.id === \"number\" &&\n        typeof msg.sessionId === \"string\" &&\n        typeof msg.error === \"string\");\n}\nexports.isServerMessageFail = isServerMessageFail;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decrypt = exports.encrypt = void 0;\nconst rxjs_1 = require(\"rxjs\");\nconst util_1 = require(\"../util\");\n/**\n *\n * @param plainText string to be encrypted\n * @param secret hex representation of 32-byte secret\n * returns hex string representation of bytes in the order: initialization vector (iv),\n * auth tag, encrypted plaintext. IV is 12 bytes. Auth tag is 16 bytes. Remaining bytes are the\n * encrypted plainText.\n */\nasync function encrypt(plainText, secret) {\n    if (secret.length !== 64)\n        throw Error(`secret must be 256 bits`);\n    const ivBytes = crypto.getRandomValues(new Uint8Array(12));\n    const secretKey = await crypto.subtle.importKey(\"raw\", (0, util_1.hexStringToUint8Array)(secret), { \"name\": \"aes-gcm\" }, false, [\"encrypt\", \"decrypt\"]);\n    const enc = new TextEncoder();\n    // Will return encrypted plainText with auth tag (ie MAC or checksum) appended at the end\n    const encryptedResult = await window.crypto.subtle.encrypt({\n        name: \"AES-GCM\",\n        iv: ivBytes\n    }, secretKey, enc.encode(plainText));\n    const tagLength = 16;\n    const authTag = encryptedResult.slice(encryptedResult.byteLength - tagLength);\n    const encryptedPlaintext = encryptedResult.slice(0, encryptedResult.byteLength - tagLength);\n    const authTagBytes = new Uint8Array(authTag);\n    const encryptedPlaintextBytes = new Uint8Array(encryptedPlaintext);\n    const concatted = new Uint8Array([...ivBytes, ...authTagBytes, ...encryptedPlaintextBytes]);\n    return (0, util_1.uint8ArrayToHex)(concatted);\n}\nexports.encrypt = encrypt;\n/**\n *\n * @param cipherText hex string representation of bytes in the order: initialization vector (iv),\n * auth tag, encrypted plaintext. IV is 12 bytes. Auth tag is 16 bytes.\n * @param secret hex string representation of 32-byte secret\n */\nfunction decrypt(cipherText, secret) {\n    if (secret.length !== 64)\n        throw Error(`secret must be 256 bits`);\n    return new rxjs_1.Observable((subscriber) => {\n        void (async function () {\n            const secretKey = await crypto.subtle.importKey(\"raw\", (0, util_1.hexStringToUint8Array)(secret), { \"name\": \"aes-gcm\" }, false, [\"encrypt\", \"decrypt\"]);\n            const encrypted = (0, util_1.hexStringToUint8Array)(cipherText);\n            const ivBytes = encrypted.slice(0, 12);\n            const authTagBytes = encrypted.slice(12, 28);\n            const encryptedPlaintextBytes = encrypted.slice(28);\n            const concattedBytes = new Uint8Array([...encryptedPlaintextBytes, ...authTagBytes]);\n            const algo = {\n                name: \"AES-GCM\",\n                iv: new Uint8Array(ivBytes)\n            };\n            try {\n                const decrypted = await window.crypto.subtle.decrypt(algo, secretKey, concattedBytes);\n                const decoder = new TextDecoder();\n                subscriber.next(decoder.decode(decrypted));\n                subscriber.complete();\n            }\n            catch (err) {\n                subscriber.error(err);\n            }\n        })();\n    });\n}\nexports.decrypt = decrypt;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Web3RequestCanceledMessage = void 0;\nconst RelayMessage_1 = require(\"./RelayMessage\");\nfunction Web3RequestCanceledMessage(id) {\n    return { type: RelayMessage_1.RelayMessageType.WEB3_REQUEST_CANCELED, id };\n}\nexports.Web3RequestCanceledMessage = Web3RequestCanceledMessage;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Web3RequestMessage = void 0;\nconst RelayMessage_1 = require(\"./RelayMessage\");\nfunction Web3RequestMessage(params) {\n    return Object.assign({ type: RelayMessage_1.RelayMessageType.WEB3_REQUEST }, params);\n}\nexports.Web3RequestMessage = Web3RequestMessage;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EthereumAddressFromSignedMessageResponse = exports.SubmitEthereumTransactionResponse = exports.SignEthereumTransactionResponse = exports.SignEthereumMessageResponse = exports.isRequestEthereumAccountsResponse = exports.WatchAssetReponse = exports.RequestEthereumAccountsResponse = exports.SwitchEthereumChainResponse = exports.AddEthereumChainResponse = exports.ErrorResponse = void 0;\nconst Web3Method_1 = require(\"./Web3Method\");\nfunction ErrorResponse(method, errorMessage, errorCode) {\n    return { method, errorMessage, errorCode };\n}\nexports.ErrorResponse = ErrorResponse;\nfunction AddEthereumChainResponse(addResponse) {\n    return {\n        method: Web3Method_1.Web3Method.addEthereumChain,\n        result: addResponse\n    };\n}\nexports.AddEthereumChainResponse = AddEthereumChainResponse;\nfunction SwitchEthereumChainResponse(switchResponse) {\n    return {\n        method: Web3Method_1.Web3Method.switchEthereumChain,\n        result: switchResponse\n    };\n}\nexports.SwitchEthereumChainResponse = SwitchEthereumChainResponse;\nfunction RequestEthereumAccountsResponse(addresses) {\n    return { method: Web3Method_1.Web3Method.requestEthereumAccounts, result: addresses };\n}\nexports.RequestEthereumAccountsResponse = RequestEthereumAccountsResponse;\nfunction WatchAssetReponse(success) {\n    return { method: Web3Method_1.Web3Method.watchAsset, result: success };\n}\nexports.WatchAssetReponse = WatchAssetReponse;\nfunction isRequestEthereumAccountsResponse(res) {\n    return res && res.method === Web3Method_1.Web3Method.requestEthereumAccounts;\n}\nexports.isRequestEthereumAccountsResponse = isRequestEthereumAccountsResponse;\nfunction SignEthereumMessageResponse(signature) {\n    return { method: Web3Method_1.Web3Method.signEthereumMessage, result: signature };\n}\nexports.SignEthereumMessageResponse = SignEthereumMessageResponse;\nfunction SignEthereumTransactionResponse(signedData) {\n    return { method: Web3Method_1.Web3Method.signEthereumTransaction, result: signedData };\n}\nexports.SignEthereumTransactionResponse = SignEthereumTransactionResponse;\nfunction SubmitEthereumTransactionResponse(txHash) {\n    return { method: Web3Method_1.Web3Method.submitEthereumTransaction, result: txHash };\n}\nexports.SubmitEthereumTransactionResponse = SubmitEthereumTransactionResponse;\nfunction EthereumAddressFromSignedMessageResponse(address) {\n    return {\n        method: Web3Method_1.Web3Method.ethereumAddressFromSignedMessage,\n        result: address\n    };\n}\nexports.EthereumAddressFromSignedMessageResponse = EthereumAddressFromSignedMessageResponse;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isWeb3ResponseMessage = exports.Web3ResponseMessage = void 0;\nconst RelayMessage_1 = require(\"./RelayMessage\");\nfunction Web3ResponseMessage(params) {\n    return Object.assign({ type: RelayMessage_1.RelayMessageType.WEB3_RESPONSE }, params);\n}\nexports.Web3ResponseMessage = Web3ResponseMessage;\nfunction isWeb3ResponseMessage(msg) {\n    return msg && msg.type === RelayMessage_1.RelayMessageType.WEB3_RESPONSE;\n}\nexports.isWeb3ResponseMessage = isWeb3ResponseMessage;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkRelayEventManager = void 0;\nconst util_1 = require(\"../util\");\nclass WalletLinkRelayEventManager {\n    constructor() {\n        this._nextRequestId = 0;\n        this.callbacks = new Map();\n    }\n    makeRequestId() {\n        // max nextId == max int32 for compatibility with mobile\n        this._nextRequestId = (this._nextRequestId + 1) % 0x7fffffff;\n        const id = this._nextRequestId;\n        const idStr = (0, util_1.prepend0x)(id.toString(16));\n        // unlikely that this will ever be an issue, but just to be safe\n        const callback = this.callbacks.get(idStr);\n        if (callback) {\n            this.callbacks.delete(idStr);\n        }\n        return id;\n    }\n}\nexports.WalletLinkRelayEventManager = WalletLinkRelayEventManager;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLink = exports.WalletLinkProvider = void 0;\nconst WalletLinkProvider_1 = require(\"./provider/WalletLinkProvider\");\nconst WalletLink_1 = require(\"./WalletLink\");\nvar WalletLinkProvider_2 = require(\"./provider/WalletLinkProvider\");\nObject.defineProperty(exports, \"WalletLinkProvider\", { enumerable: true, get: function () { return WalletLinkProvider_2.WalletLinkProvider; } });\nvar WalletLink_2 = require(\"./WalletLink\");\nObject.defineProperty(exports, \"WalletLink\", { enumerable: true, get: function () { return WalletLink_2.WalletLink; } });\nexports.default = WalletLink_1.WalletLink;\nif (typeof window !== \"undefined\") {\n    window.WalletLink = WalletLink_1.WalletLink;\n    window.WalletLinkProvider = WalletLinkProvider_1.WalletLinkProvider;\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getFavicon = exports.range = exports.isBigNumber = exports.ensureParsedJSONObject = exports.ensureBN = exports.ensureRegExpString = exports.ensureIntNumber = exports.ensureBuffer = exports.ensureAddressString = exports.ensureEvenLengthHexString = exports.ensureHexString = exports.isHexString = exports.prepend0x = exports.strip0x = exports.has0xPrefix = exports.hexStringFromIntNumber = exports.intNumberFromHexString = exports.bigIntStringFromBN = exports.hexStringFromBuffer = exports.hexStringToUint8Array = exports.uint8ArrayToHex = exports.randomBytesHex = void 0;\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst types_1 = require(\"./types\");\nconst INT_STRING_REGEX = /^[0-9]*$/;\nconst HEXADECIMAL_STRING_REGEX = /^[a-f0-9]*$/;\n/**\n * @param length number of bytes\n */\nfunction randomBytesHex(length) {\n    return uint8ArrayToHex(crypto.getRandomValues(new Uint8Array(length)));\n}\nexports.randomBytesHex = randomBytesHex;\nfunction uint8ArrayToHex(value) {\n    return [...value].map(b => b.toString(16).padStart(2, '0')).join('');\n}\nexports.uint8ArrayToHex = uint8ArrayToHex;\nfunction hexStringToUint8Array(hexString) {\n    return new Uint8Array(hexString.match(/.{1,2}/g).map(byte => parseInt(byte, 16)));\n}\nexports.hexStringToUint8Array = hexStringToUint8Array;\nfunction hexStringFromBuffer(buf, includePrefix = false) {\n    const hex = buf.toString(\"hex\");\n    return (0, types_1.HexString)(includePrefix ? \"0x\" + hex : hex);\n}\nexports.hexStringFromBuffer = hexStringFromBuffer;\nfunction bigIntStringFromBN(bn) {\n    return (0, types_1.BigIntString)(bn.toString(10));\n}\nexports.bigIntStringFromBN = bigIntStringFromBN;\nfunction intNumberFromHexString(hex) {\n    return (0, types_1.IntNumber)(new bn_js_1.default(ensureEvenLengthHexString(hex, false), 16).toNumber());\n}\nexports.intNumberFromHexString = intNumberFromHexString;\nfunction hexStringFromIntNumber(num) {\n    return (0, types_1.HexString)(\"0x\" + new bn_js_1.default(num).toString(16));\n}\nexports.hexStringFromIntNumber = hexStringFromIntNumber;\nfunction has0xPrefix(str) {\n    return str.startsWith(\"0x\") || str.startsWith(\"0X\");\n}\nexports.has0xPrefix = has0xPrefix;\nfunction strip0x(hex) {\n    if (has0xPrefix(hex)) {\n        return hex.slice(2);\n    }\n    return hex;\n}\nexports.strip0x = strip0x;\nfunction prepend0x(hex) {\n    if (has0xPrefix(hex)) {\n        return \"0x\" + hex.slice(2);\n    }\n    return \"0x\" + hex;\n}\nexports.prepend0x = prepend0x;\nfunction isHexString(hex) {\n    if (typeof hex !== \"string\") {\n        return false;\n    }\n    const s = strip0x(hex).toLowerCase();\n    return HEXADECIMAL_STRING_REGEX.test(s);\n}\nexports.isHexString = isHexString;\nfunction ensureHexString(hex, includePrefix = false) {\n    if (typeof hex === \"string\") {\n        const s = strip0x(hex).toLowerCase();\n        if (HEXADECIMAL_STRING_REGEX.test(s)) {\n            return (0, types_1.HexString)(includePrefix ? \"0x\" + s : s);\n        }\n    }\n    throw new Error(`\"${String(hex)}\" is not a hexadecimal string`);\n}\nexports.ensureHexString = ensureHexString;\nfunction ensureEvenLengthHexString(hex, includePrefix = false) {\n    let h = ensureHexString(hex, false);\n    if (h.length % 2 === 1) {\n        h = (0, types_1.HexString)(\"0\" + h);\n    }\n    return includePrefix ? (0, types_1.HexString)(\"0x\" + h) : h;\n}\nexports.ensureEvenLengthHexString = ensureEvenLengthHexString;\nfunction ensureAddressString(str) {\n    if (typeof str === \"string\") {\n        const s = strip0x(str).toLowerCase();\n        if (isHexString(s) && s.length === 40) {\n            return (0, types_1.AddressString)(prepend0x(s));\n        }\n    }\n    throw new Error(`Invalid Ethereum address: ${String(str)}`);\n}\nexports.ensureAddressString = ensureAddressString;\nfunction ensureBuffer(str) {\n    if (Buffer.isBuffer(str)) {\n        return str;\n    }\n    if (typeof str === \"string\") {\n        if (isHexString(str)) {\n            const s = ensureEvenLengthHexString(str, false);\n            return Buffer.from(s, \"hex\");\n        }\n        else {\n            return Buffer.from(str, \"utf8\");\n        }\n    }\n    throw new Error(`Not binary data: ${String(str)}`);\n}\nexports.ensureBuffer = ensureBuffer;\nfunction ensureIntNumber(num) {\n    if (typeof num === \"number\" && Number.isInteger(num)) {\n        return (0, types_1.IntNumber)(num);\n    }\n    if (typeof num === \"string\") {\n        if (INT_STRING_REGEX.test(num)) {\n            return (0, types_1.IntNumber)(Number(num));\n        }\n        if (isHexString(num)) {\n            return (0, types_1.IntNumber)(new bn_js_1.default(ensureEvenLengthHexString(num, false), 16).toNumber());\n        }\n    }\n    throw new Error(`Not an integer: ${String(num)}`);\n}\nexports.ensureIntNumber = ensureIntNumber;\nfunction ensureRegExpString(regExp) {\n    if (regExp instanceof RegExp) {\n        return (0, types_1.RegExpString)(regExp.toString());\n    }\n    throw new Error(`Not a RegExp: ${String(regExp)}`);\n}\nexports.ensureRegExpString = ensureRegExpString;\nfunction ensureBN(val) {\n    if (val !== null && (bn_js_1.default.isBN(val) || isBigNumber(val))) {\n        return new bn_js_1.default(val.toString(10), 10);\n    }\n    if (typeof val === \"number\") {\n        return new bn_js_1.default(ensureIntNumber(val));\n    }\n    if (typeof val === \"string\") {\n        if (INT_STRING_REGEX.test(val)) {\n            return new bn_js_1.default(val, 10);\n        }\n        if (isHexString(val)) {\n            return new bn_js_1.default(ensureEvenLengthHexString(val, false), 16);\n        }\n    }\n    throw new Error(`Not an integer: ${String(val)}`);\n}\nexports.ensureBN = ensureBN;\nfunction ensureParsedJSONObject(val) {\n    if (typeof val === \"string\") {\n        return JSON.parse(val);\n    }\n    if (typeof val === \"object\") {\n        return val;\n    }\n    throw new Error(`Not a JSON string or an object: ${String(val)}`);\n}\nexports.ensureParsedJSONObject = ensureParsedJSONObject;\nfunction isBigNumber(val) {\n    if (val == null || typeof val.constructor !== \"function\") {\n        return false;\n    }\n    const { constructor } = val;\n    return (typeof constructor.config === \"function\" &&\n        typeof constructor.EUCLID === \"number\");\n}\nexports.isBigNumber = isBigNumber;\nfunction range(start, stop) {\n    return Array.from({ length: stop - start }, (_, i) => start + i);\n}\nexports.range = range;\nfunction getFavicon() {\n    const el = document.querySelector('link[sizes=\"192x192\"]') ||\n        document.querySelector('link[sizes=\"180x180\"]') ||\n        document.querySelector('link[rel=\"icon\"]') ||\n        document.querySelector('link[rel=\"shortcut icon\"]');\n    const { protocol, host } = document.location;\n    const href = el ? el.getAttribute(\"href\") : null;\n    if (!href || href.startsWith(\"javascript:\")) {\n        return null;\n    }\n    if (href.startsWith(\"http://\") ||\n        href.startsWith(\"https://\") ||\n        href.startsWith(\"data:\")) {\n        return href;\n    }\n    if (href.startsWith(\"//\")) {\n        return protocol + href;\n    }\n    return `${protocol}//${host}${href}`;\n}\nexports.getFavicon = getFavicon;\n","import { EMPTY_ARR } from \"./constants\";\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-ignore We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n","import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n","import { slice } from './util';\nimport options from './options';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, null);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\t_hydrating: null,\n\t\tconstructor: undefined,\n\t\t_original: original == null ? ++vnodeId : original\n\t};\n\n\t// Only invoke the vnode hook if this was *not* a direct copy:\n\tif (original == null && options.vnode != null) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: null };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (i !== 'children' && i !== 'key' && !(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'children' &&\n\t\t\ti !== 'key' &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value == null ? '' : value);\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, isSvg) {\n\tlet useCapture;\n\n\to: if (name === 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] !== oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture = name !== (name = name.replace(/Capture$/, ''));\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (name.toLowerCase() in dom) name = name.toLowerCase().slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\t\tdom.addEventListener(name, handler, useCapture);\n\t\t\t}\n\t\t} else {\n\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\tdom.removeEventListener(name, handler, useCapture);\n\t\t}\n\t} else if (name !== 'dangerouslySetInnerHTML') {\n\t\tif (isSvg) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink(H|:h)/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname !== 'width' &&\n\t\t\tname !== 'height' &&\n\t\t\tname !== 'href' &&\n\t\t\tname !== 'list' &&\n\t\t\tname !== 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname !== 'tabIndex' &&\n\t\t\tname !== 'download' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == null ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// ARIA-attributes have a different notion of boolean values.\n\t\t// The value `false` is different from the attribute not\n\t\t// existing on the DOM, so we can't remove it. For non-boolean\n\t\t// ARIA-attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost us too many bytes. On top of\n\t\t// that other VDOM frameworks also always stringify `false`.\n\n\t\tif (typeof value === 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (value != null && (value !== false || name.indexOf('-') != -1)) {\n\t\t\tdom.setAttribute(name, value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\nexport let inEvent = false;\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\tinEvent = true;\n\ttry {\n\t\treturn this._listeners[e.type + false](\n\t\t\toptions.event ? options.event(e) : e\n\t\t);\n\t} finally {\n\t\tinEvent = false;\n\t}\n}\n\nfunction eventProxyCapture(e) {\n\tinEvent = true;\n\ttry {\n\t\treturn this._listeners[e.type + true](options.event ? options.event(e) : e);\n\t} finally {\n\t\tinEvent = false;\n\t}\n}\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\nimport { inEvent } from './diff/props';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != null && this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) {\n\t\t\tthis._stateCallbacks.push(callback);\n\t\t}\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [];\n\t\tconst oldVNode = assign({}, vnode);\n\t\toldVNode._original = vnode._original + 1;\n\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tvnode._hydrating != null ? [oldDom] : null,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom,\n\t\t\tvnode._hydrating\n\t\t);\n\t\tcommitRoot(commitQueue, vnode);\n\n\t\tif (vnode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\nconst microTick =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\nfunction defer(cb) {\n\tif (inEvent) {\n\t\tsetTimeout(cb);\n\t} else {\n\t\tmicroTick(cb);\n\t}\n}\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet c;\n\trerenderQueue.sort((a, b) => a._vnode._depth - b._vnode._depth);\n\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t// process() calls from getting scheduled while `queue` is still being consumed.\n\twhile ((c = rerenderQueue.shift())) {\n\t\tif (c._dirty) {\n\t\t\tlet renderQueueLength = rerenderQueue.length;\n\t\t\trenderComponent(c);\n\t\t\tif (rerenderQueue.length > renderQueueLength) {\n\t\t\t\t// When i.e. rerendering a provider additional new items can be injected, we want to\n\t\t\t\t// keep the order from top to bottom with those new items so we can handle them in a\n\t\t\t\t// single pass\n\t\t\t\trerenderQueue.sort((a, b) => a._vnode._depth - b._vnode._depth);\n\t\t\t}\n\t\t}\n\t}\n\tprocess._rerenderCount = 0;\n}\n\nprocess._rerenderCount = 0;\n","import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue, contextId) {\n\tcontextId = '__cC' + i++;\n\n\tconst context = {\n\t\t_id: contextId,\n\t\t_defaultValue: defaultValue,\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tConsumer(props, contextValue) {\n\t\t\t// return props.children(\n\t\t\t// \tcontext[contextId] ? context[contextId].props.value : defaultValue\n\t\t\t// );\n\t\t\treturn props.children(contextValue);\n\t\t},\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\t/** @type {import('./internal').Component[]} */\n\t\t\t\tlet subs = [];\n\t\t\t\tlet ctx = {};\n\t\t\t\tctx[contextId] = this;\n\n\t\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\t\tthis.shouldComponentUpdate = function(_props) {\n\t\t\t\t\tif (this.props.value !== _props.value) {\n\t\t\t\t\t\t// I think the forced value propagation here was only needed when `options.debounceRendering` was being bypassed:\n\t\t\t\t\t\t// https://github.com/preactjs/preact/commit/4d339fb803bea09e9f198abf38ca1bf8ea4b7771#diff-54682ce380935a717e41b8bfc54737f6R358\n\t\t\t\t\t\t// In those cases though, even with the value corrected, we're double-rendering all nodes.\n\t\t\t\t\t\t// It might be better to just tell folks not to use force-sync mode.\n\t\t\t\t\t\t// Currently, using `useContext()` in a class component will overwrite its `this.context` value.\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context[contextId] = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\t\t\t\t\t\tsubs.some(c => {\n\t\t\t\t\t\t\tc._force = true;\n\t\t\t\t\t\t\tenqueueRender(c);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\t// Devtools needs access to the context object when it\n\t// encounters a Provider. This is necessary to support\n\t// setting `displayName` on the context object instead\n\t// of on the component itself. See:\n\t// https://reactjs.org/docs/context.html#contextdisplayname\n\n\treturn (context.Provider._contextRef = context.Consumer.contextType = context);\n}\n","export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n","import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').ComponentChildren[]} renderResult\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet i, j, oldVNode, childVNode, newDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\tnewParentVNode._children = [];\n\tfor (i = 0; i < renderResult.length; i++) {\n\t\tchildVNode = renderResult[i];\n\n\t\tif (childVNode == null || typeof childVNode == 'boolean') {\n\t\t\tchildVNode = newParentVNode._children[i] = null;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tnull,\n\t\t\t\tchildVNode,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t} else if (Array.isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tchildVNode.ref ? childVNode.ref : null,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\t// Terser removes the `continue` here and wraps the loop body\n\t\t// in a `if (childVNode) { ... } condition\n\t\tif (childVNode == null) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Check if we find a corresponding element in oldChildren.\n\t\t// If found, delete the array item by setting to `undefined`.\n\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t// (holes).\n\t\toldVNode = oldChildren[i];\n\n\t\tif (\n\t\t\toldVNode === null ||\n\t\t\t(oldVNode &&\n\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\tchildVNode.type === oldVNode.type)\n\t\t) {\n\t\t\toldChildren[i] = undefined;\n\t\t} else {\n\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\tfor (j = 0; j < oldChildrenLength; j++) {\n\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t// We always match by type (in either case).\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\tchildVNode.type === oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\toldVNode = null;\n\t\t\t}\n\t\t}\n\n\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tisSvg,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating\n\t\t);\n\n\t\tnewDom = childVNode._dom;\n\n\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\tif (!refs) refs = [];\n\t\t\tif (oldVNode.ref) refs.push(oldVNode.ref, null, childVNode);\n\t\t\trefs.push(j, childVNode._component || newDom, childVNode);\n\t\t}\n\n\t\tif (newDom != null) {\n\t\t\tif (firstChildDom == null) {\n\t\t\t\tfirstChildDom = newDom;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\ttypeof childVNode.type == 'function' &&\n\t\t\t\tchildVNode._children === oldVNode._children\n\t\t\t) {\n\t\t\t\tchildVNode._nextDom = oldDom = reorderChildren(\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldDom,\n\t\t\t\t\tparentDom\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldVNode,\n\t\t\t\t\toldChildren,\n\t\t\t\t\tnewDom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (typeof newParentVNode.type == 'function') {\n\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t//\n\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t// node's nextSibling.\n\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t}\n\t\t} else if (\n\t\t\toldDom &&\n\t\t\toldVNode._dom == oldDom &&\n\t\t\toldDom.parentNode != parentDom\n\t\t) {\n\t\t\t// The above condition is to handle null placeholders. See test in placeholder.test.js:\n\t\t\t// `efficiently replace null placeholders in parent rerenders`\n\t\t\toldDom = getDomSibling(oldVNode);\n\t\t}\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) {\n\t\t\tif (\n\t\t\t\ttypeof newParentVNode.type == 'function' &&\n\t\t\t\toldChildren[i]._dom != null &&\n\t\t\t\toldChildren[i]._dom == newParentVNode._nextDom\n\t\t\t) {\n\t\t\t\t// If the newParentVNode.__nextDom points to a dom node that is about to\n\t\t\t\t// be unmounted, then get the next sibling of that vnode and set\n\t\t\t\t// _nextDom to it\n\t\t\t\tnewParentVNode._nextDom = getLastDom(oldParentVNode).nextSibling;\n\t\t\t}\n\n\t\t\tunmount(oldChildren[i], oldChildren[i]);\n\t\t}\n\t}\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\nfunction reorderChildren(childVNode, oldDom, parentDom) {\n\t// Note: VNodes in nested suspended trees may be missing _children.\n\tlet c = childVNode._children;\n\tlet tmp = 0;\n\tfor (; c && tmp < c.length; tmp++) {\n\t\tlet vnode = c[tmp];\n\t\tif (vnode) {\n\t\t\t// We typically enter this code path on sCU bailout, where we copy\n\t\t\t// oldVNode._children to newVNode._children. If that is the case, we need\n\t\t\t// to update the old children's _parent pointer to point to the newVNode\n\t\t\t// (childVNode here).\n\t\t\tvnode._parent = childVNode;\n\n\t\t\tif (typeof vnode.type == 'function') {\n\t\t\t\toldDom = reorderChildren(vnode, oldDom, parentDom);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(parentDom, vnode, vnode, c, vnode._dom, oldDom);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == null || typeof children == 'boolean') {\n\t} else if (Array.isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\nfunction placeChild(\n\tparentDom,\n\tchildVNode,\n\toldVNode,\n\toldChildren,\n\tnewDom,\n\toldDom\n) {\n\tlet nextDom;\n\tif (childVNode._nextDom !== undefined) {\n\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t// of last DOM child of this child VNode\n\t\tnextDom = childVNode._nextDom;\n\n\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t// can clean up the property\n\t\tchildVNode._nextDom = undefined;\n\t} else if (\n\t\toldVNode == null ||\n\t\tnewDom != oldDom ||\n\t\tnewDom.parentNode == null\n\t) {\n\t\touter: if (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\t\tparentDom.appendChild(newDom);\n\t\t\tnextDom = null;\n\t\t} else {\n\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\tfor (\n\t\t\t\tlet sibDom = oldDom, j = 0;\n\t\t\t\t(sibDom = sibDom.nextSibling) && j < oldChildren.length;\n\t\t\t\tj += 1\n\t\t\t) {\n\t\t\t\tif (sibDom == newDom) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t}\n\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\tnextDom = oldDom;\n\t\t}\n\t}\n\n\t// If we have pre-calculated the nextDOM node, use it. Else calculate it now\n\t// Strictly check for `undefined` here cuz `null` is a valid value of `nextDom`.\n\t// See more detail in create-element.js:createVNode\n\tif (nextDom !== undefined) {\n\t\toldDom = nextDom;\n\t} else {\n\t\toldDom = newDom.nextSibling;\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * @param {import('../internal').VNode} vnode\n */\nfunction getLastDom(vnode) {\n\tif (vnode.type == null || typeof vnode.type === 'string') {\n\t\treturn vnode._dom;\n\t}\n\n\tif (vnode._children) {\n\t\tfor (let i = vnode._children.length - 1; i >= 0; i--) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child) {\n\t\t\t\tlet lastDom = getLastDom(child);\n\t\t\t\tif (lastDom) {\n\t\t\t\t\treturn lastDom;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn null;\n}\n","import { EMPTY_OBJ } from '../constants';\nimport { Component, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps, setProperty } from './props';\nimport { assign, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} [isHydrating] Whether or not we are in hydration\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._hydrating != null) {\n\t\tisHydrating = oldVNode._hydrating;\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\t// if we resume, we want the tree to be \"unlocked\"\n\t\tnewVNode._hydrating = null;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType == 'function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\t// @ts-ignore The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-ignore Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\t\t\tc._vnode = newVNode;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\tnewVNode._original === oldVNode._original\n\t\t\t\t) {\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) {\n\t\t\t\t\t\t// When we are dealing with a bail because of sCU we have to update\n\t\t\t\t\t\t// the props, state and dirty-state.\n\t\t\t\t\t\t// when we are dealing with strict-equality we don't as the child could still\n\t\t\t\t\t\t// be dirtied see #3883\n\t\t\t\t\t\tc.props = newProps;\n\t\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t\tc._dirty = false;\n\t\t\t\t\t}\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.forEach(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\n\t\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t\t}\n\t\t\t\t\tc._stateCallbacks = [];\n\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\tlet renderHook = options._render,\n\t\t\t\tcount = 0;\n\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\tc.state = c._nextState;\n\t\t\t\tc._dirty = false;\n\n\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t}\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t} else {\n\t\t\t\tdo {\n\t\t\t\t\tc._dirty = false;\n\t\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\t\t// Handle setState called in render, see #2553\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t} while (c._dirty && ++count < 25);\n\t\t\t}\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type === Fragment && tmp.key == null;\n\t\t\tlet renderResult = isTopLevelFragment ? tmp.props.children : tmp;\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tArray.isArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._hydrating = null;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = false;\n\t\t} else if (\n\t\t\texcessDomChildren == null &&\n\t\t\tnewVNode._original === oldVNode._original\n\t\t) {\n\t\t\tnewVNode._children = oldVNode._children;\n\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t} else {\n\t\t\tnewVNode._dom = diffElementNodes(\n\t\t\t\toldVNode._dom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\tif ((tmp = options.diffed)) tmp(newVNode);\n\t} catch (e) {\n\t\tnewVNode._original = null;\n\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\tif (isHydrating || excessDomChildren != null) {\n\t\t\tnewVNode._dom = oldDom;\n\t\t\tnewVNode._hydrating = !!isHydrating;\n\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = null;\n\t\t\t// ^ could possibly be simplified to:\n\t\t\t// excessDomChildren.length = 0;\n\t\t}\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root) {\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-ignore Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-ignore See above ts-ignore on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = newVNode.type;\n\tlet i = 0;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tif (nodeType === 'svg') isSvg = true;\n\n\tif (excessDomChildren != null) {\n\t\tfor (; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild &&\n\t\t\t\t'setAttribute' in child === !!nodeType &&\n\t\t\t\t(nodeType ? child.localName === nodeType : child.nodeType === 3)\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (nodeType === null) {\n\t\t\t// @ts-ignore createTextNode returns Text, we expect PreactElement\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tif (isSvg) {\n\t\t\tdom = document.createElementNS(\n\t\t\t\t'http://www.w3.org/2000/svg',\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType\n\t\t\t);\n\t\t} else {\n\t\t\tdom = document.createElement(\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType,\n\t\t\t\tnewProps.is && newProps\n\t\t\t);\n\t\t}\n\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (nodeType === null) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data !== newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\t// But, if we are in a situation where we are using existing DOM (e.g. replaceNode)\n\t\t\t// we should read the existing DOM attributes to diff them\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (\n\t\t\t\t\t!newHtml ||\n\t\t\t\t\t((!oldHtml || newHtml.__html != oldHtml.__html) &&\n\t\t\t\t\t\tnewHtml.__html !== dom.innerHTML)\n\t\t\t\t) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\ti = newVNode.props.children;\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tArray.isArray(i) ? i : [i],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg && nodeType !== 'foreignObject',\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\t(i = newProps.value) !== undefined &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(i !== dom.value ||\n\t\t\t\t\t(nodeType === 'progress' && !i) ||\n\t\t\t\t\t// This is only for IE 11 to fix <select> value not being updated.\n\t\t\t\t\t// To avoid a stale select value we need to set the option.value\n\t\t\t\t\t// again, which triggers IE11 to re-evaluate the select value\n\t\t\t\t\t(nodeType === 'option' && i !== oldProps.value))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'value', i, oldProps.value, false);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\t(i = newProps.checked) !== undefined &&\n\t\t\t\ti !== dom.checked\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'checked', i, oldProps.checked, false);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) {\n\t\t\tapplyRef(r, null, parentVNode);\n\t\t}\n\t}\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t\tvnode._component = undefined;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(\n\t\t\t\t\tr[i],\n\t\t\t\t\tparentVNode,\n\t\t\t\t\tskipRemove || typeof vnode.type !== 'function'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove && vnode._dom != null) {\n\t\tremoveNode(vnode._dom);\n\t}\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._parent = vnode._dom = vnode._nextDom = undefined;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { EMPTY_OBJ } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {import('./internal').PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode === 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = (\n\t\t(!isHydrating && replaceNode) ||\n\t\tparentDom\n\t)._children = createElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: parentDom.firstChild\n\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t: null,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t? oldVNode._dom\n\t\t\t: parentDom.firstChild,\n\t\tisHydrating\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n","import { assign, slice } from './util';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tnull\n\t);\n}\n","/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n * @param {import('../internal').VNode} [oldVNode]\n * @param {import('../internal').ErrorInfo} [errorInfo]\n */\nexport function _catchError(error, vnode, oldVNode, errorInfo) {\n\t/** @type {import('../internal').Component} */\n\tlet component, ctor, handled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != null) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\tcomponent.componentDidCatch(error, errorInfo || {});\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import { options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n\n/** @type {import('./internal').Component} */\nlet previousComponent;\n\n/** @type {number} */\nlet currentHook = 0;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\nlet EMPTY = [];\n\nlet oldBeforeDiff = options._diff;\nlet oldBeforeRender = options._render;\nlet oldAfterDiff = options.diffed;\nlet oldCommit = options._commit;\nlet oldBeforeUnmount = options.unmount;\n\nconst RAF_TIMEOUT = 100;\nlet prevRaf;\n\noptions._diff = vnode => {\n\tcurrentComponent = null;\n\tif (oldBeforeDiff) oldBeforeDiff(vnode);\n};\n\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tconst hooks = currentComponent.__hooks;\n\tif (hooks) {\n\t\tif (previousComponent === currentComponent) {\n\t\t\thooks._pendingEffects = [];\n\t\t\tcurrentComponent._renderCallbacks = [];\n\t\t\thooks._list.forEach(hookItem => {\n\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t}\n\t\t\t\thookItem._pendingValue = EMPTY;\n\t\t\t\thookItem._nextValue = hookItem._pendingArgs = undefined;\n\t\t\t});\n\t\t} else {\n\t\t\thooks._pendingEffects.forEach(invokeCleanup);\n\t\t\thooks._pendingEffects.forEach(invokeEffect);\n\t\t\thooks._pendingEffects = [];\n\t\t}\n\t}\n\tpreviousComponent = currentComponent;\n};\n\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tif (c.__hooks._pendingEffects.length) afterPaint(afterPaintEffects.push(c));\n\t\tc.__hooks._list.forEach(hookItem => {\n\t\t\tif (hookItem._pendingArgs) {\n\t\t\t\thookItem._args = hookItem._pendingArgs;\n\t\t\t}\n\t\t\tif (hookItem._pendingValue !== EMPTY) {\n\t\t\t\thookItem._value = hookItem._pendingValue;\n\t\t\t}\n\t\t\thookItem._pendingArgs = undefined;\n\t\t\thookItem._pendingValue = EMPTY;\n\t\t});\n\t}\n\tpreviousComponent = currentComponent = null;\n};\n\noptions._commit = (vnode, commitQueue) => {\n\tcommitQueue.some(component => {\n\t\ttry {\n\t\t\tcomponent._renderCallbacks.forEach(invokeCleanup);\n\t\t\tcomponent._renderCallbacks = component._renderCallbacks.filter(cb =>\n\t\t\t\tcb._value ? invokeEffect(cb) : true\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tcommitQueue.some(c => {\n\t\t\t\tif (c._renderCallbacks) c._renderCallbacks = [];\n\t\t\t});\n\t\t\tcommitQueue = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t});\n\n\tif (oldCommit) oldCommit(vnode, commitQueue);\n};\n\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tlet hasErrored;\n\t\tc.__hooks._list.forEach(s => {\n\t\t\ttry {\n\t\t\t\tinvokeCleanup(s);\n\t\t\t} catch (e) {\n\t\t\t\thasErrored = e;\n\t\t\t}\n\t\t});\n\t\tc.__hooks = undefined;\n\t\tif (hasErrored) options._catchError(hasErrored, c._vnode);\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @param {number} type The index of the hook to get\n * @returns {any}\n */\nfunction getHookState(index, type) {\n\tif (options._hook) {\n\t\toptions._hook(currentComponent, index, currentHook || type);\n\t}\n\tcurrentHook = 0;\n\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks =\n\t\tcurrentComponent.__hooks ||\n\t\t(currentComponent.__hooks = {\n\t\t\t_list: [],\n\t\t\t_pendingEffects: []\n\t\t});\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({ _pendingValue: EMPTY });\n\t}\n\treturn hooks._list[index];\n}\n\n/**\n * @param {import('./index').StateUpdater<any>} [initialState]\n */\nexport function useState(initialState) {\n\tcurrentHook = 1;\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\n/**\n * @param {import('./index').Reducer<any, any>} reducer\n * @param {import('./index').StateUpdater<any>} initialState\n * @param {(initialState: any) => void} [init]\n * @returns {[ any, (state: any) => void ]}\n */\nexport function useReducer(reducer, initialState, init) {\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++, 2);\n\thookState._reducer = reducer;\n\tif (!hookState._component) {\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(undefined, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst currentValue = hookState._nextValue\n\t\t\t\t\t? hookState._nextValue[0]\n\t\t\t\t\t: hookState._value[0];\n\t\t\t\tconst nextValue = hookState._reducer(currentValue, action);\n\n\t\t\t\tif (currentValue !== nextValue) {\n\t\t\t\t\thookState._nextValue = [nextValue, hookState._value[1]];\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\thookState._component = currentComponent;\n\n\t\tif (!currentComponent._hasScuFromHooks) {\n\t\t\tcurrentComponent._hasScuFromHooks = true;\n\t\t\tconst prevScu = currentComponent.shouldComponentUpdate;\n\n\t\t\t// This SCU has the purpose of bailing out after repeated updates\n\t\t\t// to stateful hooks.\n\t\t\t// we store the next value in _nextValue[0] and keep doing that for all\n\t\t\t// state setters, if we have next states and\n\t\t\t// all next states within a component end up being equal to their original state\n\t\t\t// we are safe to bail out for this specific component.\n\t\t\tcurrentComponent.shouldComponentUpdate = function(p, s, c) {\n\t\t\t\tif (!hookState._component.__hooks) return true;\n\n\t\t\t\tconst stateHooks = hookState._component.__hooks._list.filter(\n\t\t\t\t\tx => x._component\n\t\t\t\t);\n\t\t\t\tconst allHooksEmpty = stateHooks.every(x => !x._nextValue);\n\t\t\t\t// When we have no updated hooks in the component we invoke the previous SCU or\n\t\t\t\t// traverse the VDOM tree further.\n\t\t\t\tif (allHooksEmpty) {\n\t\t\t\t\treturn prevScu ? prevScu.call(this, p, s, c) : true;\n\t\t\t\t}\n\n\t\t\t\t// We check whether we have components with a nextValue set that\n\t\t\t\t// have values that aren't equal to one another this pushes\n\t\t\t\t// us to update further down the tree\n\t\t\t\tlet shouldUpdate = false;\n\t\t\t\tstateHooks.forEach(hookItem => {\n\t\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\t\tconst currentValue = hookItem._value[0];\n\t\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t\t\thookItem._nextValue = undefined;\n\t\t\t\t\t\tif (currentValue !== hookItem._value[0]) shouldUpdate = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn shouldUpdate || hookState._component.props !== p\n\t\t\t\t\t? prevScu\n\t\t\t\t\t\t? prevScu.call(this, p, s, c)\n\t\t\t\t\t\t: true\n\t\t\t\t\t: false;\n\t\t\t};\n\t\t}\n\t}\n\n\treturn hookState._nextValue || hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 3);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useLayoutEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 4);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent._renderCallbacks.push(state);\n\t}\n}\n\nexport function useRef(initialValue) {\n\tcurrentHook = 5;\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\n/**\n * @param {object} ref\n * @param {() => object} createHandle\n * @param {any[]} args\n */\nexport function useImperativeHandle(ref, createHandle, args) {\n\tcurrentHook = 6;\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tif (typeof ref == 'function') {\n\t\t\t\tref(createHandle());\n\t\t\t\treturn () => ref(null);\n\t\t\t} else if (ref) {\n\t\t\t\tref.current = createHandle();\n\t\t\t\treturn () => (ref.current = null);\n\t\t\t}\n\t\t},\n\t\targs == null ? args : args.concat(ref)\n\t);\n}\n\n/**\n * @param {() => any} factory\n * @param {any[]} args\n */\nexport function useMemo(factory, args) {\n\t/** @type {import('./internal').MemoHookState} */\n\tconst state = getHookState(currentIndex++, 7);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._pendingValue = factory();\n\t\tstate._pendingArgs = args;\n\t\tstate._factory = factory;\n\t\treturn state._pendingValue;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {any[]} args\n */\nexport function useCallback(callback, args) {\n\tcurrentHook = 8;\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\t// We could skip this call here, but than we'd not call\n\t// `options._hook`. We need to do that in order to make\n\t// the devtools aware of this hook.\n\t/** @type {import('./internal').ContextHookState} */\n\tconst state = getHookState(currentIndex++, 9);\n\t// The devtools needs access to the context object to\n\t// be able to pull of the default value when no provider\n\t// is present in the tree.\n\tstate._context = context;\n\tif (!provider) return context._defaultValue;\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(formatter ? formatter(value) : value);\n\t}\n}\n\n/**\n * @param {(error: any, errorInfo: import('preact').ErrorInfo) => void} cb\n */\nexport function useErrorBoundary(cb) {\n\t/** @type {import('./internal').ErrorBoundaryHookState} */\n\tconst state = getHookState(currentIndex++, 10);\n\tconst errState = useState();\n\tstate._value = cb;\n\tif (!currentComponent.componentDidCatch) {\n\t\tcurrentComponent.componentDidCatch = (err, errorInfo) => {\n\t\t\tif (state._value) state._value(err, errorInfo);\n\t\t\terrState[1](err);\n\t\t};\n\t}\n\treturn [\n\t\terrState[0],\n\t\t() => {\n\t\t\terrState[1](undefined);\n\t\t}\n\t];\n}\n\nexport function useId() {\n\tconst state = getHookState(currentIndex++, 11);\n\tif (!state._value) {\n\t\t// Grab either the root node or the nearest async boundary node.\n\t\t/** @type {import('./internal.d').VNode} */\n\t\tlet root = currentComponent._vnode;\n\t\twhile (root !== null && !root._mask && root._parent !== null) {\n\t\t\troot = root._parent;\n\t\t}\n\n\t\tlet mask = root._mask || (root._mask = [0, 0]);\n\t\tstate._value = 'P' + mask[0] + '-' + mask[1]++;\n\t}\n\n\treturn state._value;\n}\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tlet component;\n\twhile ((component = afterPaintEffects.shift())) {\n\t\tif (!component._parentDom || !component.__hooks) continue;\n\t\ttry {\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t} catch (e) {\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t}\n}\n\nlet HAS_RAF = typeof requestAnimationFrame == 'function';\n\n/**\n * Schedule a callback to be invoked after the browser has a chance to paint a new frame.\n * Do this by combining requestAnimationFrame (rAF) + setTimeout to invoke a callback after\n * the next browser frame.\n *\n * Also, schedule a timeout in parallel to the the rAF to ensure the callback is invoked\n * even if RAF doesn't fire (for example if the browser tab is not visible)\n *\n * @param {() => void} callback\n */\nfunction afterNextFrame(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tif (HAS_RAF) cancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\n\tlet raf;\n\tif (HAS_RAF) {\n\t\traf = requestAnimationFrame(done);\n\t}\n}\n\n// Note: if someone used options.debounceRendering = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Schedule afterPaintEffects flush after the browser paints\n * @param {number} newQueueLength\n */\nfunction afterPaint(newQueueLength) {\n\tif (newQueueLength === 1 || prevRaf !== options.requestAnimationFrame) {\n\t\tprevRaf = options.requestAnimationFrame;\n\t\t(prevRaf || afterNextFrame)(flushAfterPaintEffects);\n\t}\n}\n\n/**\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeCleanup(hook) {\n\t// A hook cleanup can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\tlet cleanup = hook._cleanup;\n\tif (typeof cleanup == 'function') {\n\t\thook._cleanup = undefined;\n\t\tcleanup();\n\t}\n\n\tcurrentComponent = comp;\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeEffect(hook) {\n\t// A hook call can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\thook._cleanup = hook._value();\n\tcurrentComponent = comp;\n}\n\n/**\n * @param {any[]} oldArgs\n * @param {any[]} newArgs\n */\nfunction argsChanged(oldArgs, newArgs) {\n\treturn (\n\t\t!oldArgs ||\n\t\toldArgs.length !== newArgs.length ||\n\t\tnewArgs.some((arg, index) => arg !== oldArgs[index])\n\t);\n}\n\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f == 'function' ? f(arg) : f;\n}\n",null,null,null,null,null,null,null,null,null,null,null,"\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkProvider = void 0;\nconst safe_event_emitter_1 = __importDefault(require(\"@metamask/safe-event-emitter\"));\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst eth_rpc_errors_1 = require(\"eth-rpc-errors\");\nconst WalletLinkAnalytics_1 = require(\"../connection/WalletLinkAnalytics\");\nconst init_1 = require(\"../init\");\nconst Session_1 = require(\"../relay/Session\");\nconst WalletLinkRelayAbstract_1 = require(\"../relay/WalletLinkRelayAbstract\");\nconst util_1 = require(\"../util\");\nconst eth_eip712_util_1 = __importDefault(require(\"../vendor-js/eth-eip712-util\"));\nconst FilterPolyfill_1 = require(\"./FilterPolyfill\");\nconst JSONRPC_1 = require(\"./JSONRPC\");\nconst SubscriptionManager_1 = require(\"./SubscriptionManager\");\nconst DEFAULT_CHAIN_ID_KEY = \"DefaultChainId\";\nconst DEFAULT_JSON_RPC_URL = \"DefaultJsonRpcUrl\";\n// Indicates chain has been switched by switchEthereumChain or addEthereumChain request\nconst HAS_CHAIN_BEEN_SWITCHED_KEY = \"HasChainBeenSwitched\";\nconst HAS_CHAIN_OVERRIDDEN_FROM_RELAY = \"HasChainOverriddenFromRelay\";\nclass WalletLinkProvider extends safe_event_emitter_1.default {\n    constructor(options) {\n        var _a;\n        super();\n        this._filterPolyfill = new FilterPolyfill_1.FilterPolyfill(this);\n        this._subscriptionManager = new SubscriptionManager_1.SubscriptionManager(this);\n        this._relay = null;\n        this._addresses = [];\n        this.hasMadeFirstChainChangedEmission = false;\n        this._send = this.send.bind(this);\n        this._sendAsync = this.sendAsync.bind(this);\n        this.setProviderInfo = this.setProviderInfo.bind(this);\n        this.updateProviderInfo = this.updateProviderInfo.bind(this);\n        this.getChainId = this.getChainId.bind(this);\n        this.setAppInfo = this.setAppInfo.bind(this);\n        this.enable = this.enable.bind(this);\n        this.close = this.close.bind(this);\n        this.send = this.send.bind(this);\n        this.sendAsync = this.sendAsync.bind(this);\n        this.request = this.request.bind(this);\n        this._setAddresses = this._setAddresses.bind(this);\n        this.scanQRCode = this.scanQRCode.bind(this);\n        this.genericRequest = this.genericRequest.bind(this);\n        this._jsonRpcUrlFromOpts = options.jsonRpcUrl;\n        this._overrideIsMetaMask = options.overrideIsMetaMask;\n        this._relayProvider = options.relayProvider;\n        this._storage = options.storage;\n        this._relayEventManager = options.relayEventManager;\n        this._walletLinkAnalytics = options.walletLinkAnalytics\n            ? options.walletLinkAnalytics\n            : new WalletLinkAnalytics_1.WalletLinkAnalytics();\n        this.isCoinbaseWallet = (_a = options.overrideIsCoinbaseWallet) !== null && _a !== void 0 ? _a : true;\n        const chainId = this.getChainId();\n        const chainIdStr = (0, util_1.prepend0x)(chainId.toString(16));\n        // indicate that we've connected, for EIP-1193 compliance\n        this.emit(\"connect\", { chainIdStr });\n        const cachedAddresses = this._storage.getItem(WalletLinkRelayAbstract_1.LOCAL_STORAGE_ADDRESSES_KEY);\n        if (cachedAddresses) {\n            const addresses = cachedAddresses.split(\" \");\n            if (addresses[0] !== \"\") {\n                this._addresses = addresses.map(address => (0, util_1.ensureAddressString)(address));\n                this.emit(\"accountsChanged\", addresses);\n            }\n        }\n        this._subscriptionManager.events.on(\"notification\", (notification) => {\n            this.emit(\"message\", {\n                type: notification.method,\n                data: notification.params\n            });\n        });\n        if (this._addresses.length > 0) {\n            void this.initializeRelay();\n        }\n        window.addEventListener(\"message\", event => {\n            var _a;\n            if (event.data.type !== \"walletLinkMessage\")\n                return;\n            if (event.data.data.action === \"defaultChainChanged\") {\n                const _chainId = event.data.data.chainId;\n                const jsonRpcUrl = (_a = event.data.data.jsonRpcUrl) !== null && _a !== void 0 ? _a : this.jsonRpcUrl;\n                this.updateProviderInfo(jsonRpcUrl, Number(_chainId), true);\n            }\n        });\n    }\n    get selectedAddress() {\n        return this._addresses[0] || undefined;\n    }\n    get networkVersion() {\n        return this.getChainId().toString(10);\n    }\n    get chainId() {\n        return (0, util_1.prepend0x)(this.getChainId().toString(16));\n    }\n    get isWalletLink() {\n        return true;\n    }\n    /**\n     * Some DApps (i.e. Alpha Homora) seem to require the window.ethereum object return\n     * true for this method.\n     */\n    get isMetaMask() {\n        return this._overrideIsMetaMask;\n    }\n    get host() {\n        return this.jsonRpcUrl;\n    }\n    get connected() {\n        return true;\n    }\n    isConnected() {\n        return true;\n    }\n    get jsonRpcUrl() {\n        var _a;\n        return ((_a = this._storage.getItem(DEFAULT_JSON_RPC_URL)) !== null && _a !== void 0 ? _a : this._jsonRpcUrlFromOpts);\n    }\n    set jsonRpcUrl(value) {\n        this._storage.setItem(DEFAULT_JSON_RPC_URL, value);\n    }\n    get isChainOverridden() {\n        return this._storage.getItem(HAS_CHAIN_OVERRIDDEN_FROM_RELAY) === \"true\";\n    }\n    set isChainOverridden(value) {\n        this._storage.setItem(HAS_CHAIN_OVERRIDDEN_FROM_RELAY, value.toString());\n    }\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    setProviderInfo(jsonRpcUrl, chainId) {\n        if (this.isChainOverridden)\n            return;\n        this.updateProviderInfo(jsonRpcUrl, this.getChainId(), false);\n    }\n    updateProviderInfo(jsonRpcUrl, chainId, fromRelay) {\n        const hasChainSwitched = this._storage.getItem(HAS_CHAIN_BEEN_SWITCHED_KEY) === \"true\";\n        if (hasChainSwitched && fromRelay)\n            return;\n        if (fromRelay) {\n            this.isChainOverridden = true;\n        }\n        this.jsonRpcUrl = jsonRpcUrl;\n        // emit chainChanged event if necessary\n        const originalChainId = this.getChainId();\n        this._storage.setItem(DEFAULT_CHAIN_ID_KEY, chainId.toString(10));\n        const chainChanged = (0, util_1.ensureIntNumber)(chainId) !== originalChainId;\n        if (chainChanged || !this.hasMadeFirstChainChangedEmission) {\n            this.emit(\"chainChanged\", this.getChainId());\n            this.hasMadeFirstChainChangedEmission = true;\n        }\n    }\n    async watchAsset(type, address, symbol, decimals, image) {\n        const relay = await this.initializeRelay();\n        const result = await relay.watchAsset(type, address, symbol, decimals, image).promise;\n        return !!result.result;\n    }\n    async addEthereumChain(chainId, rpcUrls, blockExplorerUrls, chainName, iconUrls, nativeCurrency) {\n        var _a, _b;\n        if ((0, util_1.ensureIntNumber)(chainId) === this.getChainId()) {\n            return false;\n        }\n        const relay = await this.initializeRelay();\n        const res = await relay.addEthereumChain(chainId.toString(), rpcUrls, iconUrls, blockExplorerUrls, chainName, nativeCurrency).promise;\n        if (((_a = res.result) === null || _a === void 0 ? void 0 : _a.isApproved) === true) {\n            this._storage.setItem(HAS_CHAIN_BEEN_SWITCHED_KEY, \"true\");\n            this.updateProviderInfo(rpcUrls[0], chainId, false);\n        }\n        return ((_b = res.result) === null || _b === void 0 ? void 0 : _b.isApproved) === true;\n    }\n    async switchEthereumChain(chainId) {\n        if ((0, util_1.ensureIntNumber)(chainId) === this.getChainId()) {\n            return;\n        }\n        const relay = await this.initializeRelay();\n        const res = await relay.switchEthereumChain(chainId.toString(10)).promise;\n        if (res.errorCode) {\n            throw eth_rpc_errors_1.ethErrors.provider.custom({\n                code: res.errorCode\n            });\n        }\n        const switchResponse = res.result;\n        if (switchResponse.isApproved && switchResponse.rpcUrl.length > 0) {\n            this._storage.setItem(HAS_CHAIN_BEEN_SWITCHED_KEY, \"true\");\n            this.updateProviderInfo(switchResponse.rpcUrl, chainId, false);\n        }\n    }\n    setAppInfo(appName, appLogoUrl) {\n        void this.initializeRelay().then(relay => relay.setAppInfo(appName, appLogoUrl));\n    }\n    async enable() {\n        this._walletLinkAnalytics.sendEvent(init_1.EVENTS.ETH_ACCOUNTS_STATE, {\n            method: \"provider::enable\",\n            addresses_length: this._addresses.length,\n            sessionIdHash: this._relay ? Session_1.Session.hash(this._relay.session.id) : null\n        });\n        if (this._addresses.length > 0) {\n            return [...this._addresses];\n        }\n        return await this._send(JSONRPC_1.JSONRPCMethod.eth_requestAccounts);\n    }\n    close() {\n        void this.initializeRelay().then(relay => relay.resetAndReload());\n    }\n    send(requestOrMethod, callbackOrParams) {\n        // send<T>(method, params): Promise<T>\n        if (typeof requestOrMethod === \"string\") {\n            const method = requestOrMethod;\n            const params = Array.isArray(callbackOrParams)\n                ? callbackOrParams\n                : callbackOrParams !== undefined\n                    ? [callbackOrParams]\n                    : [];\n            const request = {\n                jsonrpc: \"2.0\",\n                id: 0,\n                method,\n                params\n            };\n            return this._sendRequestAsync(request).then(res => res.result);\n        }\n        // send(JSONRPCRequest | JSONRPCRequest[], callback): void\n        if (typeof callbackOrParams === \"function\") {\n            const request = requestOrMethod;\n            const callback = callbackOrParams;\n            return this._sendAsync(request, callback);\n        }\n        // send(JSONRPCRequest[]): JSONRPCResponse[]\n        if (Array.isArray(requestOrMethod)) {\n            const requests = requestOrMethod;\n            return requests.map(r => this._sendRequest(r));\n        }\n        // send(JSONRPCRequest): JSONRPCResponse\n        const req = requestOrMethod;\n        return this._sendRequest(req);\n    }\n    sendAsync(request, callback) {\n        if (typeof callback !== \"function\") {\n            throw new Error(\"callback is required\");\n        }\n        // send(JSONRPCRequest[], callback): void\n        if (Array.isArray(request)) {\n            const arrayCb = callback;\n            this._sendMultipleRequestsAsync(request)\n                .then(responses => arrayCb(null, responses))\n                .catch(err => arrayCb(err, null));\n            return;\n        }\n        // send(JSONRPCRequest, callback): void\n        const cb = callback;\n        this._sendRequestAsync(request)\n            .then(response => cb(null, response))\n            .catch(err => cb(err, null));\n    }\n    async request(args) {\n        if (!args || typeof args !== \"object\" || Array.isArray(args)) {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidRequest({\n                message: \"Expected a single, non-array, object argument.\",\n                data: args\n            });\n        }\n        const { method, params } = args;\n        if (typeof method !== \"string\" || method.length === 0) {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidRequest({\n                message: \"'args.method' must be a non-empty string.\",\n                data: args\n            });\n        }\n        if (params !== undefined &&\n            !Array.isArray(params) &&\n            (typeof params !== \"object\" || params === null)) {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidRequest({\n                message: \"'args.params' must be an object or array if provided.\",\n                data: args\n            });\n        }\n        const newParams = params === undefined ? [] : params;\n        // WalletLink Requests\n        const id = this._relayEventManager.makeRequestId();\n        const result = await this._sendRequestAsync({\n            method,\n            params: newParams,\n            jsonrpc: \"2.0\",\n            id\n        });\n        return result.result;\n    }\n    async scanQRCode(match) {\n        const relay = await this.initializeRelay();\n        const res = await relay.scanQRCode((0, util_1.ensureRegExpString)(match)).promise;\n        if (typeof res.result !== \"string\") {\n            throw new Error(\"result was not a string\");\n        }\n        return res.result;\n    }\n    async genericRequest(data, action) {\n        const relay = await this.initializeRelay();\n        const res = await relay.genericRequest(data, action).promise;\n        if (typeof res.result !== \"string\") {\n            throw new Error(\"result was not a string\");\n        }\n        return res.result;\n    }\n    supportsSubscriptions() {\n        return false;\n    }\n    subscribe() {\n        throw new Error(\"Subscriptions are not supported\");\n    }\n    unsubscribe() {\n        throw new Error(\"Subscriptions are not supported\");\n    }\n    disconnect() {\n        return true;\n    }\n    _sendRequest(request) {\n        const response = {\n            jsonrpc: \"2.0\",\n            id: request.id\n        };\n        const { method } = request;\n        response.result = this._handleSynchronousMethods(request);\n        if (response.result === undefined) {\n            throw new Error(`WalletLink does not support calling ${method} synchronously without ` +\n                `a callback. Please provide a callback parameter to call ${method} ` +\n                `asynchronously.`);\n        }\n        return response;\n    }\n    _setAddresses(addresses) {\n        if (!Array.isArray(addresses)) {\n            throw new Error(\"addresses is not an array\");\n        }\n        const newAddresses = addresses.map(address => (0, util_1.ensureAddressString)(address));\n        if (JSON.stringify(newAddresses) === JSON.stringify(this._addresses)) {\n            return;\n        }\n        this._addresses = newAddresses;\n        this.emit(\"accountsChanged\", this._addresses);\n        this._storage.setItem(WalletLinkRelayAbstract_1.LOCAL_STORAGE_ADDRESSES_KEY, newAddresses.join(\" \"));\n        window.dispatchEvent(new CustomEvent(\"walletlink:addresses\", { detail: this._addresses }));\n    }\n    _sendRequestAsync(request) {\n        return new Promise((resolve, reject) => {\n            try {\n                const syncResult = this._handleSynchronousMethods(request);\n                if (syncResult !== undefined) {\n                    return resolve({\n                        jsonrpc: \"2.0\",\n                        id: request.id,\n                        result: syncResult\n                    });\n                }\n                const filterPromise = this._handleAsynchronousFilterMethods(request);\n                if (filterPromise !== undefined) {\n                    filterPromise\n                        .then(res => resolve(Object.assign(Object.assign({}, res), { id: request.id })))\n                        .catch(err => reject(err));\n                    return;\n                }\n                const subscriptionPromise = this._handleSubscriptionMethods(request);\n                if (subscriptionPromise !== undefined) {\n                    subscriptionPromise\n                        .then(res => resolve({\n                        jsonrpc: \"2.0\",\n                        id: request.id,\n                        result: res.result\n                    }))\n                        .catch(err => reject(err));\n                    return;\n                }\n            }\n            catch (err) {\n                return reject(err);\n            }\n            this._handleAsynchronousMethods(request)\n                .then(res => res && resolve(Object.assign(Object.assign({}, res), { id: request.id })))\n                .catch(err => reject(err));\n        });\n    }\n    _sendMultipleRequestsAsync(requests) {\n        return Promise.all(requests.map(r => this._sendRequestAsync(r)));\n    }\n    _handleSynchronousMethods(request) {\n        const { method } = request;\n        const params = request.params || [];\n        switch (method) {\n            case JSONRPC_1.JSONRPCMethod.eth_accounts:\n                return this._eth_accounts();\n            case JSONRPC_1.JSONRPCMethod.eth_coinbase:\n                return this._eth_coinbase();\n            case JSONRPC_1.JSONRPCMethod.eth_uninstallFilter:\n                return this._eth_uninstallFilter(params);\n            case JSONRPC_1.JSONRPCMethod.net_version:\n                return this._net_version();\n            case JSONRPC_1.JSONRPCMethod.eth_chainId:\n                return this._eth_chainId();\n            default:\n                return undefined;\n        }\n    }\n    async _handleAsynchronousMethods(request) {\n        const { method } = request;\n        const params = request.params || [];\n        switch (method) {\n            case JSONRPC_1.JSONRPCMethod.eth_requestAccounts:\n                return this._eth_requestAccounts();\n            case JSONRPC_1.JSONRPCMethod.eth_sign:\n                return this._eth_sign(params);\n            case JSONRPC_1.JSONRPCMethod.eth_ecRecover:\n                return this._eth_ecRecover(params);\n            case JSONRPC_1.JSONRPCMethod.personal_sign:\n                return this._personal_sign(params);\n            case JSONRPC_1.JSONRPCMethod.personal_ecRecover:\n                return this._personal_ecRecover(params);\n            case JSONRPC_1.JSONRPCMethod.eth_signTransaction:\n                return this._eth_signTransaction(params);\n            case JSONRPC_1.JSONRPCMethod.eth_sendRawTransaction:\n                return this._eth_sendRawTransaction(params);\n            case JSONRPC_1.JSONRPCMethod.eth_sendTransaction:\n                return this._eth_sendTransaction(params);\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v1:\n                return this._eth_signTypedData_v1(params);\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v2:\n                return this._throwUnsupportedMethodError();\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v3:\n                return this._eth_signTypedData_v3(params);\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v4:\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData:\n                return this._eth_signTypedData_v4(params);\n            case JSONRPC_1.JSONRPCMethod.walletlink_arbitrary:\n                return this._walletlink_arbitrary(params);\n            case JSONRPC_1.JSONRPCMethod.wallet_addEthereumChain:\n                return this._wallet_addEthereumChain(params);\n            case JSONRPC_1.JSONRPCMethod.wallet_switchEthereumChain:\n                return this._wallet_switchEthereumChain(params);\n            case JSONRPC_1.JSONRPCMethod.wallet_watchAsset:\n                return this._wallet_watchAsset(params);\n        }\n        const relay = await this.initializeRelay();\n        return relay.makeEthereumJSONRPCRequest(request, this.jsonRpcUrl);\n    }\n    _handleAsynchronousFilterMethods(request) {\n        const { method } = request;\n        const params = request.params || [];\n        switch (method) {\n            case JSONRPC_1.JSONRPCMethod.eth_newFilter:\n                return this._eth_newFilter(params);\n            case JSONRPC_1.JSONRPCMethod.eth_newBlockFilter:\n                return this._eth_newBlockFilter();\n            case JSONRPC_1.JSONRPCMethod.eth_newPendingTransactionFilter:\n                return this._eth_newPendingTransactionFilter();\n            case JSONRPC_1.JSONRPCMethod.eth_getFilterChanges:\n                return this._eth_getFilterChanges(params);\n            case JSONRPC_1.JSONRPCMethod.eth_getFilterLogs:\n                return this._eth_getFilterLogs(params);\n        }\n        return undefined;\n    }\n    _handleSubscriptionMethods(request) {\n        switch (request.method) {\n            case JSONRPC_1.JSONRPCMethod.eth_subscribe:\n            case JSONRPC_1.JSONRPCMethod.eth_unsubscribe:\n                return this._subscriptionManager.handleRequest(request);\n        }\n        return undefined;\n    }\n    _isKnownAddress(addressString) {\n        try {\n            const address = (0, util_1.ensureAddressString)(addressString);\n            const lowercaseAddresses = this._addresses.map(address => (0, util_1.ensureAddressString)(address));\n            return lowercaseAddresses.includes(address);\n        }\n        catch (_a) { }\n        return false;\n    }\n    _ensureKnownAddress(addressString) {\n        if (!this._isKnownAddress(addressString)) {\n            this._walletLinkAnalytics.sendEvent(init_1.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED);\n            throw new Error(\"Unknown Ethereum address\");\n        }\n    }\n    _prepareTransactionParams(tx) {\n        const fromAddress = tx.from\n            ? (0, util_1.ensureAddressString)(tx.from)\n            : this.selectedAddress;\n        if (!fromAddress) {\n            throw new Error(\"Ethereum address is unavailable\");\n        }\n        this._ensureKnownAddress(fromAddress);\n        const toAddress = tx.to ? (0, util_1.ensureAddressString)(tx.to) : null;\n        const weiValue = tx.value != null ? (0, util_1.ensureBN)(tx.value) : new bn_js_1.default(0);\n        const data = tx.data ? (0, util_1.ensureBuffer)(tx.data) : Buffer.alloc(0);\n        const nonce = tx.nonce != null ? (0, util_1.ensureIntNumber)(tx.nonce) : null;\n        const gasPriceInWei = tx.gasPrice != null ? (0, util_1.ensureBN)(tx.gasPrice) : null;\n        const maxFeePerGas = tx.maxFeePerGas != null ? (0, util_1.ensureBN)(tx.maxFeePerGas) : null;\n        const maxPriorityFeePerGas = tx.maxPriorityFeePerGas != null ? (0, util_1.ensureBN)(tx.maxPriorityFeePerGas) : null;\n        const gasLimit = tx.gas != null ? (0, util_1.ensureBN)(tx.gas) : null;\n        const chainId = this.getChainId();\n        return {\n            fromAddress,\n            toAddress,\n            weiValue,\n            data,\n            nonce,\n            gasPriceInWei,\n            maxFeePerGas,\n            maxPriorityFeePerGas,\n            gasLimit,\n            chainId\n        };\n    }\n    _requireAuthorization() {\n        if (this._addresses.length === 0) {\n            throw eth_rpc_errors_1.ethErrors.provider.unauthorized({});\n        }\n    }\n    _throwUnsupportedMethodError() {\n        throw eth_rpc_errors_1.ethErrors.provider.unsupportedMethod({});\n    }\n    async _signEthereumMessage(message, address, addPrefix, typedDataJson) {\n        this._ensureKnownAddress(address);\n        try {\n            const relay = await this.initializeRelay();\n            const res = await relay.signEthereumMessage(message, address, addPrefix, typedDataJson).promise;\n            return { jsonrpc: \"2.0\", id: 0, result: res.result };\n        }\n        catch (err) {\n            if (typeof err.message === \"string\" &&\n                err.message.match(/(denied|rejected)/i)) {\n                throw eth_rpc_errors_1.ethErrors.provider.userRejectedRequest(\"User denied message signature\");\n            }\n            throw err;\n        }\n    }\n    async _ethereumAddressFromSignedMessage(message, signature, addPrefix) {\n        const relay = await this.initializeRelay();\n        const res = await relay.ethereumAddressFromSignedMessage(message, signature, addPrefix).promise;\n        return { jsonrpc: \"2.0\", id: 0, result: res.result };\n    }\n    _eth_accounts() {\n        return [...this._addresses];\n    }\n    _eth_coinbase() {\n        return this.selectedAddress || null;\n    }\n    _net_version() {\n        return this.getChainId().toString(10);\n    }\n    _eth_chainId() {\n        return (0, util_1.hexStringFromIntNumber)(this.getChainId());\n    }\n    getChainId() {\n        const chainIdStr = this._storage.getItem(DEFAULT_CHAIN_ID_KEY) || \"1\";\n        const chainId = parseInt(chainIdStr, 10);\n        return (0, util_1.ensureIntNumber)(chainId);\n    }\n    async _eth_requestAccounts() {\n        this._walletLinkAnalytics.sendEvent(init_1.EVENTS.ETH_ACCOUNTS_STATE, {\n            method: \"provider::_eth_requestAccounts\",\n            addresses_length: this._addresses.length,\n            sessionIdHash: this._relay ? Session_1.Session.hash(this._relay.session.id) : null\n        });\n        if (this._addresses.length > 0) {\n            return Promise.resolve({\n                jsonrpc: \"2.0\",\n                id: 0,\n                result: this._addresses\n            });\n        }\n        let res;\n        try {\n            const relay = await this.initializeRelay();\n            res = await relay.requestEthereumAccounts().promise;\n        }\n        catch (err) {\n            if (typeof err.message === \"string\" &&\n                err.message.match(/(denied|rejected)/i)) {\n                throw eth_rpc_errors_1.ethErrors.provider.userRejectedRequest(\"User denied account authorization\");\n            }\n            throw err;\n        }\n        if (!res.result) {\n            throw new Error(\"accounts received is empty\");\n        }\n        this._setAddresses(res.result);\n        return { jsonrpc: \"2.0\", id: 0, result: this._addresses };\n    }\n    _eth_sign(params) {\n        this._requireAuthorization();\n        const address = (0, util_1.ensureAddressString)(params[0]);\n        const message = (0, util_1.ensureBuffer)(params[1]);\n        return this._signEthereumMessage(message, address, false);\n    }\n    _eth_ecRecover(params) {\n        const message = (0, util_1.ensureBuffer)(params[0]);\n        const signature = (0, util_1.ensureBuffer)(params[1]);\n        return this._ethereumAddressFromSignedMessage(message, signature, false);\n    }\n    _personal_sign(params) {\n        this._requireAuthorization();\n        const message = (0, util_1.ensureBuffer)(params[0]);\n        const address = (0, util_1.ensureAddressString)(params[1]);\n        return this._signEthereumMessage(message, address, true);\n    }\n    _personal_ecRecover(params) {\n        const message = (0, util_1.ensureBuffer)(params[0]);\n        const signature = (0, util_1.ensureBuffer)(params[1]);\n        return this._ethereumAddressFromSignedMessage(message, signature, true);\n    }\n    async _eth_signTransaction(params) {\n        this._requireAuthorization();\n        const tx = this._prepareTransactionParams(params[0] || {});\n        try {\n            const relay = await this.initializeRelay();\n            const res = await relay.signEthereumTransaction(tx).promise;\n            return { jsonrpc: \"2.0\", id: 0, result: res.result };\n        }\n        catch (err) {\n            if (typeof err.message === \"string\" &&\n                err.message.match(/(denied|rejected)/i)) {\n                throw eth_rpc_errors_1.ethErrors.provider.userRejectedRequest(\"User denied transaction signature\");\n            }\n            throw err;\n        }\n    }\n    async _eth_sendRawTransaction(params) {\n        const signedTransaction = (0, util_1.ensureBuffer)(params[0]);\n        const relay = await this.initializeRelay();\n        const res = await relay.submitEthereumTransaction(signedTransaction, this.getChainId()).promise;\n        return { jsonrpc: \"2.0\", id: 0, result: res.result };\n    }\n    async _eth_sendTransaction(params) {\n        this._requireAuthorization();\n        const tx = this._prepareTransactionParams(params[0] || {});\n        try {\n            const relay = await this.initializeRelay();\n            const res = await relay.signAndSubmitEthereumTransaction(tx).promise;\n            return { jsonrpc: \"2.0\", id: 0, result: res.result };\n        }\n        catch (err) {\n            if (typeof err.message === \"string\" &&\n                err.message.match(/(denied|rejected)/i)) {\n                throw eth_rpc_errors_1.ethErrors.provider.userRejectedRequest(\"User denied transaction signature\");\n            }\n            throw err;\n        }\n    }\n    async _eth_signTypedData_v1(params) {\n        this._requireAuthorization();\n        const typedData = (0, util_1.ensureParsedJSONObject)(params[0]);\n        const address = (0, util_1.ensureAddressString)(params[1]);\n        this._ensureKnownAddress(address);\n        const message = eth_eip712_util_1.default.hashForSignTypedDataLegacy({ data: typedData });\n        const typedDataJSON = JSON.stringify(typedData, null, 2);\n        return this._signEthereumMessage(message, address, false, typedDataJSON);\n    }\n    async _eth_signTypedData_v3(params) {\n        this._requireAuthorization();\n        const address = (0, util_1.ensureAddressString)(params[0]);\n        const typedData = (0, util_1.ensureParsedJSONObject)(params[1]);\n        this._ensureKnownAddress(address);\n        const message = eth_eip712_util_1.default.hashForSignTypedData_v3({ data: typedData });\n        const typedDataJSON = JSON.stringify(typedData, null, 2);\n        return this._signEthereumMessage(message, address, false, typedDataJSON);\n    }\n    async _eth_signTypedData_v4(params) {\n        this._requireAuthorization();\n        const address = (0, util_1.ensureAddressString)(params[0]);\n        const typedData = (0, util_1.ensureParsedJSONObject)(params[1]);\n        this._ensureKnownAddress(address);\n        const message = eth_eip712_util_1.default.hashForSignTypedData_v4({ data: typedData });\n        const typedDataJSON = JSON.stringify(typedData, null, 2);\n        return this._signEthereumMessage(message, address, false, typedDataJSON);\n    }\n    async _walletlink_arbitrary(params) {\n        const action = params[0];\n        const data = params[1];\n        if (typeof data !== \"string\") {\n            throw new Error(\"parameter must be a string\");\n        }\n        if (typeof action !== \"object\" || action === null) {\n            throw new Error(\"parameter must be an object\");\n        }\n        const result = await this.genericRequest(action, data);\n        return { jsonrpc: \"2.0\", id: 0, result };\n    }\n    async _wallet_addEthereumChain(params) {\n        var _a, _b, _c, _d;\n        const request = params[0];\n        if (((_a = request.rpcUrls) === null || _a === void 0 ? void 0 : _a.length) === 0) {\n            return {\n                jsonrpc: \"2.0\",\n                id: 0,\n                error: { code: 2, message: `please pass in at least 1 rpcUrl` }\n            };\n        }\n        if (!request.chainName || request.chainName.trim() === \"\") {\n            throw eth_rpc_errors_1.ethErrors.provider.custom({\n                code: 0,\n                message: \"chainName is a required field\"\n            });\n        }\n        if (!request.nativeCurrency) {\n            throw eth_rpc_errors_1.ethErrors.provider.custom({\n                code: 0,\n                message: \"nativeCurrency is a required field\"\n            });\n        }\n        const chainIdNumber = parseInt(request.chainId, 16);\n        const success = await this.addEthereumChain(chainIdNumber, (_b = request.rpcUrls) !== null && _b !== void 0 ? _b : [], (_c = request.blockExplorerUrls) !== null && _c !== void 0 ? _c : [], request.chainName, (_d = request.iconUrls) !== null && _d !== void 0 ? _d : [], request.nativeCurrency);\n        if (success) {\n            return { jsonrpc: \"2.0\", id: 0, result: null };\n        }\n        else {\n            return {\n                jsonrpc: \"2.0\",\n                id: 0,\n                error: { code: 2, message: `unable to add ethereum chain` }\n            };\n        }\n    }\n    async _wallet_switchEthereumChain(params) {\n        const request = params[0];\n        await this.switchEthereumChain(parseInt(request.chainId, 16));\n        return { jsonrpc: \"2.0\", id: 0, result: null };\n    }\n    async _wallet_watchAsset(params) {\n        var _a;\n        const request = (Array.isArray(params) ? params[0] : params);\n        if (((_a = request.type) === null || _a === void 0 ? void 0 : _a.length) === 0) {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidParams({\n                message: \"type is a required field\"\n            });\n        }\n        if (request.type !== \"ERC20\") {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidParams({\n                message: `Asset of type '${request.type}' not supported`\n            });\n        }\n        if (!(request === null || request === void 0 ? void 0 : request.options)) {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidParams({\n                message: \"options is a required field\"\n            });\n        }\n        if (!request.options.address) {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidParams({\n                message: \"option address is a required option\"\n            });\n        }\n        const { address, symbol, image, decimals } = request.options;\n        const res = await this.watchAsset(request.type, address, symbol, decimals, image);\n        return { jsonrpc: \"2.0\", id: 0, result: res };\n    }\n    _eth_uninstallFilter(params) {\n        const filterId = (0, util_1.ensureHexString)(params[0]);\n        return this._filterPolyfill.uninstallFilter(filterId);\n    }\n    async _eth_newFilter(params) {\n        const param = params[0];\n        const filterId = await this._filterPolyfill.newFilter(param);\n        return { jsonrpc: \"2.0\", id: 0, result: filterId };\n    }\n    async _eth_newBlockFilter() {\n        const filterId = await this._filterPolyfill.newBlockFilter();\n        return { jsonrpc: \"2.0\", id: 0, result: filterId };\n    }\n    async _eth_newPendingTransactionFilter() {\n        const filterId = await this._filterPolyfill.newPendingTransactionFilter();\n        return { jsonrpc: \"2.0\", id: 0, result: filterId };\n    }\n    _eth_getFilterChanges(params) {\n        const filterId = (0, util_1.ensureHexString)(params[0]);\n        return this._filterPolyfill.getFilterChanges(filterId);\n    }\n    _eth_getFilterLogs(params) {\n        const filterId = (0, util_1.ensureHexString)(params[0]);\n        return this._filterPolyfill.getFilterLogs(filterId);\n    }\n    initializeRelay() {\n        if (this._relay) {\n            return Promise.resolve(this._relay);\n        }\n        return this._relayProvider().then(relay => {\n            relay.setAccountsCallback(accounts => this._setAddresses(accounts));\n            relay.setChainCallback((chainId, jsonRpcUrl) => {\n                this.updateProviderInfo(jsonRpcUrl, parseInt(chainId, 10), true);\n            });\n            this._relay = relay;\n            return relay;\n        });\n    }\n}\nexports.WalletLinkProvider = WalletLinkProvider;\n",null,null,null,"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkAnalytics = void 0;\nclass WalletLinkAnalytics {\n    sendEvent(_eventType, _eventProperties) {\n        // no-op\n    }\n}\nexports.WalletLinkAnalytics = WalletLinkAnalytics;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./events\"), exports);\n__exportStar(require(\"./WalletLinkAnalyticsAbstract\"), exports);\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Session = void 0;\nconst js_sha256_1 = require(\"js-sha256\");\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nconst util_1 = require(\"../util\");\nconst STORAGE_KEY_SESSION_ID = \"session:id\";\nconst STORAGE_KEY_SESSION_SECRET = \"session:secret\";\nconst STORAGE_KEY_SESSION_LINKED = \"session:linked\";\nclass Session {\n    constructor(storage, id, secret, linked) {\n        this._storage = storage;\n        this._id = id || (0, util_1.randomBytesHex)(16);\n        this._secret = secret || (0, util_1.randomBytesHex)(32);\n        const hash = js_sha256_1.sha256.create();\n        hash.update(`${this._id}, ${this._secret} WalletLink`);\n        this._key = hash.hex();\n        this._linked = !!linked;\n    }\n    static load(storage) {\n        const id = storage.getItem(STORAGE_KEY_SESSION_ID);\n        const linked = storage.getItem(STORAGE_KEY_SESSION_LINKED);\n        const secret = storage.getItem(STORAGE_KEY_SESSION_SECRET);\n        if (id && secret) {\n            return new Session(storage, id, secret, linked === \"1\");\n        }\n        return null;\n    }\n    static get persistedSessionIdChange$() {\n        return (0, rxjs_1.fromEvent)(window, \"storage\").pipe((0, operators_1.filter)(evt => evt.key === STORAGE_KEY_SESSION_ID), (0, operators_1.map)(evt => ({\n            oldValue: evt.oldValue || null,\n            newValue: evt.newValue || null\n        })));\n    }\n    /**\n     * Takes in a session ID and returns the sha256 hash of it.\n     * @param sessionId session ID\n     */\n    static hash(sessionId) {\n        const hash = js_sha256_1.sha256.create();\n        return hash.update(sessionId).hex();\n    }\n    get id() {\n        return this._id;\n    }\n    get secret() {\n        return this._secret;\n    }\n    get key() {\n        return this._key;\n    }\n    get linked() {\n        return this._linked;\n    }\n    set linked(val) {\n        this._linked = val;\n        this.persistLinked();\n    }\n    save() {\n        this._storage.setItem(STORAGE_KEY_SESSION_ID, this._id);\n        this._storage.setItem(STORAGE_KEY_SESSION_SECRET, this._secret);\n        this.persistLinked();\n        return this;\n    }\n    persistLinked() {\n        this._storage.setItem(STORAGE_KEY_SESSION_LINKED, this._linked ? \"1\" : \"0\");\n    }\n}\nexports.Session = Session;\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RegExpString = exports.IntNumber = exports.BigIntString = exports.AddressString = exports.HexString = exports.OpaqueType = void 0;\nfunction OpaqueType() {\n    return (value) => value;\n}\nexports.OpaqueType = OpaqueType;\nexports.HexString = OpaqueType();\nexports.AddressString = OpaqueType();\nexports.BigIntString = OpaqueType();\nfunction IntNumber(num) {\n    return Math.floor(num);\n}\nexports.IntNumber = IntNumber;\nexports.RegExpString = OpaqueType();\n","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f);else for(t in e)e[t]&&(n&&(n+=\" \"),n+=t);return n}export function clsx(){for(var e,t,f=0,n=\"\";f<arguments.length;)(e=arguments[f++])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RelayMessageType = void 0;\nvar RelayMessageType;\n(function (RelayMessageType) {\n    RelayMessageType[\"SESSION_ID_REQUEST\"] = \"SESSION_ID_REQUEST\";\n    RelayMessageType[\"SESSION_ID_RESPONSE\"] = \"SESSION_ID_RESPONSE\";\n    RelayMessageType[\"LINKED\"] = \"LINKED\";\n    RelayMessageType[\"UNLINKED\"] = \"UNLINKED\";\n    RelayMessageType[\"WEB3_REQUEST\"] = \"WEB3_REQUEST\";\n    RelayMessageType[\"WEB3_REQUEST_CANCELED\"] = \"WEB3_REQUEST_CANCELED\";\n    RelayMessageType[\"WEB3_RESPONSE\"] = \"WEB3_RESPONSE\";\n})(RelayMessageType = exports.RelayMessageType || (exports.RelayMessageType = {}));\n",null,null,null,null,null,null,null,null,null,null,null,null,null,"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkRelayAbstract = exports.APP_VERSION_KEY = exports.LOCAL_STORAGE_ADDRESSES_KEY = exports.WALLET_USER_NAME_KEY = void 0;\nconst eth_rpc_errors_1 = require(\"eth-rpc-errors\");\nexports.WALLET_USER_NAME_KEY = \"walletUsername\";\nexports.LOCAL_STORAGE_ADDRESSES_KEY = \"Addresses\";\nexports.APP_VERSION_KEY = \"AppVersion\";\nclass WalletLinkRelayAbstract {\n    async makeEthereumJSONRPCRequest(request, jsonRpcUrl) {\n        if (!jsonRpcUrl)\n            throw new Error(\"Error: No jsonRpcUrl provided\");\n        return window\n            .fetch(jsonRpcUrl, {\n            method: \"POST\",\n            body: JSON.stringify(request),\n            mode: \"cors\",\n            headers: { \"Content-Type\": \"application/json\" }\n        })\n            .then(res => res.json())\n            .then(json => {\n            if (!json) {\n                throw eth_rpc_errors_1.ethErrors.rpc.parse({});\n            }\n            const response = json;\n            const { error } = response;\n            if (error) {\n                throw (0, eth_rpc_errors_1.serializeError)(error);\n            }\n            return response;\n        });\n    }\n}\nexports.WalletLinkRelayAbstract = WalletLinkRelayAbstract;\n","// Extracted from https://github.com/ethereumjs/ethereumjs-util and stripped out irrelevant code\n// Original code licensed under the Mozilla Public License Version 2.0\n\nconst createKeccakHash = require('keccak/js')\nconst BN = require('bn.js')\n\n/**\n * Returns a buffer filled with 0s\n * @method zeros\n * @param {Number} bytes  the number of bytes the buffer should be\n * @return {Buffer}\n */\nfunction zeros (bytes) {\n  return Buffer.allocUnsafe(bytes).fill(0)\n}\n\n/**\n * Left Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @method setLength\n * @param {Buffer|Array} msg the value to pad\n * @param {Number} length the number of bytes the output should be\n * @param {Boolean} [right=false] whether to start padding form the left or right\n * @return {Buffer|Array}\n */\nfunction setLength (msg, length, right) {\n  const buf = zeros(length)\n  msg = toBuffer(msg)\n  if (right) {\n    if (msg.length < length) {\n      msg.copy(buf)\n      return buf\n    }\n    return msg.slice(0, length)\n  } else {\n    if (msg.length < length) {\n      msg.copy(buf, length - msg.length)\n      return buf\n    }\n    return msg.slice(-length)\n  }\n}\n\n/**\n * Right Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @param {Buffer|Array} msg the value to pad\n * @param {Number} length the number of bytes the output should be\n * @return {Buffer|Array}\n */\nfunction setLengthRight (msg, length) {\n  return setLength(msg, length, true)\n}\n\n/**\n * Attempts to turn a value into a `Buffer`. As input it supports `Buffer`, `String`, `Number`, null/undefined, `BN` and other objects with a `toArray()` method.\n * @param {*} v the value\n */\nfunction toBuffer (v) {\n  if (!Buffer.isBuffer(v)) {\n    if (Array.isArray(v)) {\n      v = Buffer.from(v)\n    } else if (typeof v === 'string') {\n      if (isHexString(v)) {\n        v = Buffer.from(padToEven(stripHexPrefix(v)), 'hex')\n      } else {\n        v = Buffer.from(v)\n      }\n    } else if (typeof v === 'number') {\n      v = intToBuffer(v)\n    } else if (v === null || v === undefined) {\n      v = Buffer.allocUnsafe(0)\n    } else if (BN.isBN(v)) {\n      v = v.toArrayLike(Buffer)\n    } else if (v.toArray) {\n      // converts a BN to a Buffer\n      v = Buffer.from(v.toArray())\n    } else {\n      throw new Error('invalid type')\n    }\n  }\n  return v\n}\n\n/**\n * Converts a `Buffer` into a hex `String`\n * @param {Buffer} buf\n * @return {String}\n */\nfunction bufferToHex (buf) {\n  buf = toBuffer(buf)\n  return '0x' + buf.toString('hex')\n}\n\n/**\n * Creates Keccak hash of the input\n * @param {Buffer|Array|String|Number} a the input data\n * @param {Number} [bits=256] the Keccak width\n * @return {Buffer}\n */\nfunction keccak (a, bits) {\n  a = toBuffer(a)\n  if (!bits) bits = 256\n\n  return createKeccakHash('keccak' + bits).update(a).digest()\n}\n\nfunction padToEven (str) {\n  return str.length % 2 ? '0' + str : str\n}\n\nfunction isHexString (str) {\n  return typeof str === 'string' && str.match(/^0x[0-9A-Fa-f]*$/)\n}\n\nfunction stripHexPrefix (str) {\n  if (typeof str === 'string' && str.startsWith('0x')) {\n    return str.slice(2)\n  }\n  return str\n}\n\nmodule.exports = {\n  zeros,\n  setLength,\n  setLengthRight,\n  isHexString,\n  stripHexPrefix,\n  toBuffer,\n  bufferToHex,\n  keccak\n}\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLink = void 0;\nconst WalletLinkAnalytics_1 = require(\"./connection/WalletLinkAnalytics\");\nconst ScopedLocalStorage_1 = require(\"./lib/ScopedLocalStorage\");\nconst WalletLinkProvider_1 = require(\"./provider/WalletLinkProvider\");\nconst WalletLinkSdkUI_1 = require(\"./provider/WalletLinkSdkUI\");\nconst WalletLinkRelay_1 = require(\"./relay/WalletLinkRelay\");\nconst WalletLinkRelayEventManager_1 = require(\"./relay/WalletLinkRelayEventManager\");\nconst util_1 = require(\"./util\");\nconst WALLETLINK_URL = process.env.WALLETLINK_URL || \"https://www.walletlink.org\";\nconst WALLETLINK_VERSION = process.env.WALLETLINK_VERSION ||\n    require(\"../package.json\").version ||\n    \"unknown\";\nclass WalletLink {\n    /**\n     * Constructor\n     * @param options WalletLink options object\n     */\n    constructor(options) {\n        var _a;\n        this._appName = \"\";\n        this._appLogoUrl = null;\n        this._relay = null;\n        this._relayEventManager = null;\n        const walletLinkUrl = options.walletLinkUrl || WALLETLINK_URL;\n        let walletLinkUIConstructor;\n        if (!options.walletLinkUIConstructor) {\n            walletLinkUIConstructor = opts => new WalletLinkSdkUI_1.WalletLinkSdkUI(opts);\n        }\n        else {\n            walletLinkUIConstructor = options.walletLinkUIConstructor;\n        }\n        if (typeof options.overrideIsMetaMask === \"undefined\") {\n            this._overrideIsMetaMask = false;\n        }\n        else {\n            this._overrideIsMetaMask = options.overrideIsMetaMask;\n        }\n        this._overrideIsCoinbaseWallet = (_a = options.overrideIsCoinbaseWallet) !== null && _a !== void 0 ? _a : true;\n        this._walletLinkAnalytics = options.walletLinkAnalytics\n            ? options.walletLinkAnalytics\n            : new WalletLinkAnalytics_1.WalletLinkAnalytics();\n        const u = new URL(walletLinkUrl);\n        const walletLinkOrigin = `${u.protocol}//${u.host}`;\n        this._storage = new ScopedLocalStorage_1.ScopedLocalStorage(`-walletlink:${walletLinkOrigin}`);\n        this._storage.setItem(\"version\", WalletLink.VERSION);\n        if (typeof window.walletLinkExtension !== \"undefined\") {\n            return;\n        }\n        this._relayEventManager = new WalletLinkRelayEventManager_1.WalletLinkRelayEventManager();\n        this._relay = new WalletLinkRelay_1.WalletLinkRelay({\n            walletLinkUrl,\n            version: WALLETLINK_VERSION,\n            darkMode: !!options.darkMode,\n            walletLinkUIConstructor,\n            storage: this._storage,\n            relayEventManager: this._relayEventManager,\n            walletLinkAnalytics: this._walletLinkAnalytics\n        });\n        this.setAppInfo(options.appName, options.appLogoUrl);\n        this._relay.attachUI();\n    }\n    /**\n     * Create a Web3 Provider object\n     * @param jsonRpcUrl Ethereum JSON RPC URL (Default: \"\")\n     * @param chainId Ethereum Chain ID (Default: 1)\n     * @returns A Web3 Provider\n     */\n    makeWeb3Provider(jsonRpcUrl = \"\", chainId = 1) {\n        if (typeof window.walletLinkExtension !== \"undefined\") {\n            if (\n            /* eslint-disable @typescript-eslint/ban-ts-comment */\n            // @ts-ignore\n            typeof window.walletLinkExtension.isCipher !== \"boolean\" ||\n                // @ts-ignore\n                !window.walletLinkExtension.isCipher\n            /* eslint-enable @typescript-eslint/ban-ts-comment */\n            ) {\n                window.walletLinkExtension.setProviderInfo(jsonRpcUrl, chainId);\n            }\n            return window.walletLinkExtension;\n        }\n        const relay = this._relay;\n        if (!relay || !this._relayEventManager || !this._storage) {\n            throw new Error(\"Relay not initialized, should never happen\");\n        }\n        if (!jsonRpcUrl)\n            relay.setConnectDisabled(true);\n        return new WalletLinkProvider_1.WalletLinkProvider({\n            relayProvider: () => Promise.resolve(relay),\n            relayEventManager: this._relayEventManager,\n            storage: this._storage,\n            jsonRpcUrl,\n            chainId,\n            walletLinkAnalytics: this._walletLinkAnalytics,\n            overrideIsMetaMask: this._overrideIsMetaMask,\n            overrideIsCoinbaseWallet: this._overrideIsCoinbaseWallet\n        });\n    }\n    /**\n     * Set application information\n     * @param appName Application name\n     * @param appLogoUrl Application logo image URL\n     */\n    setAppInfo(appName, appLogoUrl) {\n        var _a;\n        this._appName = appName || \"DApp\";\n        this._appLogoUrl = appLogoUrl || (0, util_1.getFavicon)();\n        if (typeof window.walletLinkExtension !== \"undefined\") {\n            if (\n            /* eslint-disable @typescript-eslint/ban-ts-comment */\n            // @ts-ignore\n            typeof window.walletLinkExtension.isCipher !== \"boolean\" ||\n                // @ts-ignore\n                !window.walletLinkExtension.isCipher\n            /* eslint-enable @typescript-eslint/ban-ts-comment */\n            ) {\n                window.walletLinkExtension.setAppInfo(this._appName, this._appLogoUrl);\n            }\n        }\n        else {\n            (_a = this._relay) === null || _a === void 0 ? void 0 : _a.setAppInfo(this._appName, this._appLogoUrl);\n        }\n    }\n    /**\n     * Disconnect. After disconnecting, this will reload the web page to ensure\n     * all potential stale state is cleared.\n     */\n    disconnect() {\n        var _a;\n        if (typeof window.walletLinkExtension !== \"undefined\") {\n            window.walletLinkExtension.close();\n        }\n        else {\n            (_a = this._relay) === null || _a === void 0 ? void 0 : _a.resetAndReload();\n        }\n    }\n}\nexports.WalletLink = WalletLink;\n/**\n * WalletLink version\n */\nWalletLink.VERSION = WALLETLINK_VERSION;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.QRCode = void 0;\nconst preact_1 = require(\"preact\");\nconst hooks_1 = require(\"preact/hooks\");\nconst qrcode_svg_1 = __importDefault(require(\"../vendor-js/qrcode-svg\"));\nconst QRCode = props => {\n    const [svg, setSvg] = (0, hooks_1.useState)(\"\");\n    (0, hooks_1.useEffect)(() => {\n        var _a, _b;\n        const qrcode = new qrcode_svg_1.default({\n            content: props.content,\n            background: props.bgColor || \"#ffffff\",\n            color: props.fgColor || \"#000000\",\n            container: \"svg\",\n            ecl: \"M\",\n            width: (_a = props.width) !== null && _a !== void 0 ? _a : 256,\n            height: (_b = props.height) !== null && _b !== void 0 ? _b : 256,\n            padding: 0,\n            image: props.image\n        });\n        const base64 = Buffer.from(qrcode.svg(), \"utf8\").toString(\"base64\");\n        setSvg(`data:image/svg+xml;base64,${base64}`);\n    });\n    return svg ? (0, preact_1.h)(\"img\", { src: svg, alt: \"QR Code\" }) : null;\n};\nexports.QRCode = QRCode;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Spinner = void 0;\nconst preact_1 = require(\"preact\");\nconst Spinner_css_1 = __importDefault(require(\"./Spinner-css\"));\nconst Spinner = props => {\n    var _a;\n    const size = (_a = props.size) !== null && _a !== void 0 ? _a : 64;\n    const color = props.color || \"#000\";\n    return ((0, preact_1.h)(\"div\", { class: \"-walletlink-spinner\" },\n        (0, preact_1.h)(\"style\", null, Spinner_css_1.default),\n        (0, preact_1.h)(\"svg\", { viewBox: \"0 0 100 100\", xmlns: \"http://www.w3.org/2000/svg\", style: { width: size, height: size } },\n            (0, preact_1.h)(\"circle\", { style: { cx: 50, cy: 50, r: 45, stroke: color } }))));\n};\nexports.Spinner = Spinner;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LIB_VERSION = void 0;\nexports.LIB_VERSION = \"2.5.0\";\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Web3Method = void 0;\nvar Web3Method;\n(function (Web3Method) {\n    Web3Method[\"requestEthereumAccounts\"] = \"requestEthereumAccounts\";\n    Web3Method[\"signEthereumMessage\"] = \"signEthereumMessage\";\n    Web3Method[\"signEthereumTransaction\"] = \"signEthereumTransaction\";\n    Web3Method[\"submitEthereumTransaction\"] = \"submitEthereumTransaction\";\n    Web3Method[\"ethereumAddressFromSignedMessage\"] = \"ethereumAddressFromSignedMessage\";\n    Web3Method[\"scanQRCode\"] = \"scanQRCode\";\n    Web3Method[\"generic\"] = \"generic\";\n    Web3Method[\"childRequestEthereumAccounts\"] = \"childRequestEthereumAccounts\";\n    Web3Method[\"addEthereumChain\"] = \"addEthereumChain\";\n    Web3Method[\"switchEthereumChain\"] = \"switchEthereumChain\";\n    Web3Method[\"makeEthereumJSONRPCRequest\"] = \"makeEthereumJSONRPCRequest\";\n    Web3Method[\"watchAsset\"] = \"watchAsset\";\n})(Web3Method = exports.Web3Method || (exports.Web3Method = {}));\n"],"sourceRoot":""}